{"openapi":"3.1.0","info":{"title":"tldw API","description":"Version 0.0.1: Smooth Slide | FastAPI Backend for the tldw project","version":"0.0.1"},"paths":{"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/metrics":{"get":{"tags":["metrics","Metrics"],"summary":"Get metrics in Prometheus format","description":"Export all metrics in Prometheus text format.\n\nThis endpoint provides metrics for monitoring the application's performance,\nincluding:\n- Request rates and latencies\n- LLM API usage and costs\n- Database operations\n- Chat-specific metrics\n- System resource usage\n\nThe format is compatible with Prometheus scrapers.","operationId":"get_prometheus_metrics_api_v1_metrics_get","responses":{"200":{"description":"Successful Response"}}}},"/api/v1/health":{"get":{"tags":["health","health","monitoring"],"summary":"Health Check","description":"Comprehensive health check endpoint\n\nChecks database connectivity, system resources, and service status.\n\nReturns:\n    Dict with health status and component checks","operationId":"health_check_api_v1_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Health Check Api V1 Health Get"}}}},"503":{"description":"Service unavailable"}}}},"/api/v1/health/live":{"get":{"tags":["health","health","monitoring"],"summary":"Liveness Probe","description":"Simple liveness probe for Kubernetes\n\nReturns 200 if the application is alive and running.\nThis endpoint should be lightweight and not check dependencies.\n\nReturns:\n    Dict with status \"alive\"","operationId":"liveness_probe_api_v1_health_live_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Liveness Probe Api V1 Health Live Get"}}}},"503":{"description":"Service unavailable"}}}},"/api/v1/health/ready":{"get":{"tags":["health","health","monitoring"],"summary":"Readiness Probe","description":"Readiness probe for Kubernetes\n\nChecks if the application is ready to serve requests.\nThis includes checking critical dependencies like database.\n\nReturns:\n    Dict with readiness status","operationId":"readiness_probe_api_v1_health_ready_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"503":{"description":"Service unavailable"}}}},"/api/v1/health/metrics":{"get":{"tags":["health","health","monitoring"],"summary":"Metrics","description":"System metrics endpoint for monitoring\n\nProvides detailed system metrics for monitoring tools.\nCan be scraped by Prometheus or other monitoring systems.\n\nReturns:\n    Dict with various system metrics","operationId":"metrics_api_v1_health_metrics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Metrics Api V1 Health Metrics Get"}}}},"503":{"description":"Service unavailable"}}}},"/api/v1/health/startup":{"get":{"tags":["health","health","monitoring"],"summary":"Startup Probe","description":"Startup probe for Kubernetes\n\nUsed to check if the application has started successfully.\nKubernetes uses this to know when to start liveness/readiness probes.\n\nReturns:\n    Dict with startup status","operationId":"startup_probe_api_v1_health_startup_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Startup Probe Api V1 Health Startup Get"}}}},"503":{"description":"Service unavailable"}}}},"/api/v1/health/evaluations":{"get":{"tags":["health","health","monitoring"],"summary":"Evaluation Service Health","description":"Dedicated health check for the evaluation service.\n\nChecks:\n- Evaluation database connectivity\n- Circuit breaker states for all providers\n- Embeddings service availability\n- Recent evaluation metrics\n\nReturns:\n    Dict with detailed evaluation service health status","operationId":"evaluation_service_health_api_v1_health_evaluations_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Evaluation Service Health Api V1 Health Evaluations Get"}}}},"503":{"description":"Service unavailable"}}}},"/api/v1/health/security":{"get":{"tags":["health","health","monitoring"],"summary":"Security Health Check","description":"Security-focused health check for the evaluation service.\n\nChecks:\n- Recent security events and audit logs\n- Authentication failure patterns\n- Rate limiting violations\n- Secret management status\n- Suspicious activity detection\n\nReturns:\n    Dict with detailed security health status","operationId":"security_health_check_api_v1_health_security_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Security Health Check Api V1 Health Security Get"}}}},"503":{"description":"Service unavailable"}}}},"/api/v1/health/prometheus":{"get":{"tags":["health","health","monitoring"],"summary":"Prometheus Metrics","description":"Prometheus metrics endpoint for the evaluation service.\n\nReturns Prometheus-formatted metrics including:\n- Request counts and latencies\n- Circuit breaker states\n- Rate limiting violations\n- Security events\n- Database performance\n\nReturns:\n    Prometheus-formatted metrics as plain text","operationId":"prometheus_metrics_api_v1_health_prometheus_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"503":{"description":"Service unavailable"}}}},"/api/v1/auth/login":{"post":{"tags":["authentication","authentication"],"summary":"Login","description":"OAuth2 compatible login endpoint\n\nAuthenticates user with username/password and returns JWT tokens.\nCompatible with OAuth2PasswordRequestForm for standard OAuth2 clients.\n\nArgs:\n    form_data: OAuth2 form with username and password\n    \nReturns:\n    TokenResponse with access_token, refresh_token, and expiry\n    \nRaises:\n    HTTPException: 401 if credentials invalid, 403 if account inactive","operationId":"login_api_v1_auth_login_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_api_v1_auth_login_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/logout":{"post":{"tags":["authentication","authentication"],"summary":"Logout","description":"Logout current user and invalidate tokens\n\nInvalidates the current session and blacklists the tokens.\n\nReturns:\n    MessageResponse confirming logout","operationId":"logout_api_v1_auth_logout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__auth_schemas__MessageResponse"}}}},"404":{"description":"Not found"}},"security":[{"HTTPBearer":[]}]}},"/api/v1/auth/refresh":{"post":{"tags":["authentication","authentication"],"summary":"Refresh Token","description":"Refresh access token using refresh token\n\nArgs:\n    request: RefreshTokenRequest with refresh token\n    \nReturns:\n    TokenResponse with new access_token\n    \nRaises:\n    HTTPException: 401 if refresh token invalid or expired","operationId":"refresh_token_api_v1_auth_refresh_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/register":{"post":{"tags":["authentication","authentication"],"summary":"Register","description":"Register a new user\n\nCreates a new user account with the provided credentials.\nMay require a registration code if configured.\n\nArgs:\n    request: RegisterRequest with user details\n    \nReturns:\n    RegistrationResponse with user information\n    \nRaises:\n    HTTPException: 400 if validation fails, 409 if user exists","operationId":"register_api_v1_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegistrationResponse"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/me":{"get":{"tags":["authentication","authentication"],"summary":"Get Current User Info","description":"Get current user information\n\nReturns:\n    UserResponse with current user details","operationId":"get_current_user_info_api_v1_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"404":{"description":"Not found"}},"security":[{"HTTPBearer":[]}]}},"/api/v1/users/me":{"get":{"tags":["users","users"],"summary":"Get Current User Profile","description":"Get current user profile\n\nReturns the authenticated user's profile information.\n\nReturns:\n    UserResponse with user details","operationId":"get_current_user_profile_api_v1_users_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"404":{"description":"Not found"}},"security":[{"HTTPBearer":[]}]},"put":{"tags":["users","users"],"summary":"Update User Profile","description":"Update current user profile\n\nAllows users to update their email address.\nUsername changes are not allowed for security reasons.\n\nArgs:\n    request: UpdateProfileRequest with new email address (optional)\n    \nReturns:\n    Updated UserResponse","operationId":"update_user_profile_api_v1_users_me_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProfileRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/users/change-password":{"post":{"tags":["users","users"],"summary":"Change Password","description":"Change user password\n\nAllows users to change their password by providing the current password.\n\nArgs:\n    request: PasswordChangeRequest with current and new passwords\n    \nReturns:\n    MessageResponse confirming password change\n    \nRaises:\n    HTTPException: 401 if current password is incorrect, 400 if new password is weak","operationId":"change_password_api_v1_users_change_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordChangeRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__auth_schemas__MessageResponse"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/users/sessions":{"get":{"tags":["users","users"],"summary":"List User Sessions","description":"List all active sessions for the current user\n\nReturns:\n    List of SessionResponse objects","operationId":"list_user_sessions_api_v1_users_sessions_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/SessionResponse"},"type":"array","title":"Response List User Sessions Api V1 Users Sessions Get"}}}},"404":{"description":"Not found"}},"security":[{"HTTPBearer":[]}]}},"/api/v1/users/sessions/{session_id}":{"delete":{"tags":["users","users"],"summary":"Revoke Session","description":"Revoke a specific session\n\nAllows users to log out specific sessions (e.g., on other devices).\n\nArgs:\n    session_id: ID of the session to revoke\n    \nReturns:\n    MessageResponse confirming revocation\n    \nRaises:\n    HTTPException: 404 if session not found or doesn't belong to user","operationId":"revoke_session_api_v1_users_sessions__session_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"integer","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__auth_schemas__MessageResponse"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/sessions/revoke-all":{"post":{"tags":["users","users"],"summary":"Revoke All Sessions","description":"Revoke all sessions for the current user\n\nLogs out the user from all devices.\n\nReturns:\n    MessageResponse confirming revocation","operationId":"revoke_all_sessions_api_v1_users_sessions_revoke_all_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__auth_schemas__MessageResponse"}}}},"404":{"description":"Not found"}},"security":[{"HTTPBearer":[]}]}},"/api/v1/users/storage":{"get":{"tags":["users","users"],"summary":"Get Storage Quota","description":"Get storage quota information for current user\n\nReturns:\n    StorageQuotaResponse with usage details","operationId":"get_storage_quota_api_v1_users_storage_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StorageQuotaResponse"}}}},"404":{"description":"Not found"}},"security":[{"HTTPBearer":[]}]}},"/api/v1/users/storage/recalculate":{"post":{"tags":["users","users"],"summary":"Recalculate Storage","description":"Recalculate storage usage for current user\n\nForces a recalculation of actual disk usage and updates the database.\n\nReturns:\n    StorageQuotaResponse with updated usage details","operationId":"recalculate_storage_api_v1_users_storage_recalculate_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StorageQuotaResponse"}}}},"404":{"description":"Not found"}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/users":{"get":{"tags":["admin","admin"],"summary":"List Users","description":"List all users with pagination and filters\n\nArgs:\n    page: Page number (1-based)\n    limit: Items per page\n    role: Filter by role\n    is_active: Filter by active status\n    search: Search in username/email\n    \nReturns:\n    Paginated list of users","operationId":"list_users_api_v1_admin_users_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Limit"}},{"name":"role","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Role"}},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserListResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/cleanup-settings":{"get":{"tags":["admin","admin"],"summary":"Get Cleanup Settings","description":"Get cleanup worker settings (enabled, interval in seconds).","operationId":"get_cleanup_settings_api_v1_admin_cleanup_settings_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Cleanup Settings Api V1 Admin Cleanup Settings Get"}}}},"403":{"description":"Not authorized"}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["admin","admin"],"summary":"Set Cleanup Settings","description":"Set cleanup worker settings (enabled, interval_sec).","operationId":"set_cleanup_settings_api_v1_admin_cleanup_settings_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Payload"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Set Cleanup Settings Api V1 Admin Cleanup Settings Post"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/users/{user_id}":{"get":{"tags":["admin","admin"],"summary":"Get User Details","description":"Get detailed information about a specific user\n\nArgs:\n    user_id: User ID\n    \nReturns:\n    User details including all fields","operationId":"get_user_details_api_v1_admin_users__user_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get User Details Api V1 Admin Users  User Id  Get"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["admin","admin"],"summary":"Update User","description":"Update user information\n\nArgs:\n    user_id: User ID\n    request: Update request with fields to modify\n    \nReturns:\n    Success message","operationId":"update_user_api_v1_admin_users__user_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Update User Api V1 Admin Users  User Id  Put"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["admin","admin"],"summary":"Delete User","description":"Delete a user (soft delete by default)\n\nArgs:\n    user_id: User ID to delete\n    \nReturns:\n    Success message","operationId":"delete_user_api_v1_admin_users__user_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Delete User Api V1 Admin Users  User Id  Delete"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/registration-codes":{"post":{"tags":["admin","admin"],"summary":"Create Registration Code","description":"Create a new registration code\n\nArgs:\n    request: Registration code configuration\n    \nReturns:\n    Created registration code details","operationId":"create_registration_code_api_v1_admin_registration_codes_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegistrationCodeRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegistrationCodeResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["admin","admin"],"summary":"List Registration Codes","description":"List all registration codes\n\nArgs:\n    include_expired: Include expired codes in the list\n    \nReturns:\n    List of registration codes","operationId":"list_registration_codes_api_v1_admin_registration_codes_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"include_expired","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Expired"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegistrationCodeListResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/registration-codes/{code_id}":{"delete":{"tags":["admin","admin"],"summary":"Delete Registration Code","description":"Delete a registration code\n\nArgs:\n    code_id: Registration code ID\n    \nReturns:\n    Success message","operationId":"delete_registration_code_api_v1_admin_registration_codes__code_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"code_id","in":"path","required":true,"schema":{"type":"integer","title":"Code Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Delete Registration Code Api V1 Admin Registration Codes  Code Id  Delete"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/stats":{"get":{"tags":["admin","admin"],"summary":"Get System Stats","description":"Get system statistics\n\nReturns:\n    System-wide statistics including user counts, storage usage, etc.","operationId":"get_system_stats_api_v1_admin_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SystemStatsResponse"}}}},"403":{"description":"Not authorized"}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/audit-log":{"get":{"tags":["admin","admin"],"summary":"Get Audit Log","description":"Get audit log entries\n\nArgs:\n    user_id: Filter by user ID\n    action: Filter by action type\n    days: Number of days to look back\n    limit: Maximum entries to return\n    \nReturns:\n    Audit log entries","operationId":"get_audit_log_api_v1_admin_audit_log_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"}},{"name":"action","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Action"}},{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":90,"minimum":1,"default":7,"title":"Days"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuditLogResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/{media_id}":{"get":{"tags":["media","Media Management"],"summary":"Get Media Item Details","description":"**Retrieve Media Item by ID**\n\nFetches the details for a specific *active* (non-deleted, non-trash) media item,\nincluding its associated keywords, its latest prompt/analysis, and document versions.","operationId":"get_media_item_api_v1_media__media_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"media_id","in":"path","required":true,"schema":{"type":"integer","description":"The ID of the media item","title":"Media Id"},"description":"The ID of the media item"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["media","Media Management"],"summary":"Update Media Item","description":"**Update Media Item Details**\n\nModifies attributes of an *active* main media item record (e.g., title, author).\n\nIf **content** is updated (`payload.content` is not None):\n  - A *new document version* is created using the provided `payload.content`.\n  - The `payload.prompt` and `payload.analysis` (if provided) are stored in this *new* version.\n  - The main `Media` record's `content`, `content_hash`, `last_modified`, and `version` (sync) are updated.\n  - FTS index for the media item is updated.\n\nIf only non-content fields (e.g., title, author) are updated:\n  - Only the main `Media` record is updated (fields, `last_modified`, `version`).\n  - No new document version is created.\n  - FTS index is updated if `title` changed.","operationId":"update_media_item_api_v1_media__media_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"media_id","in":"path","required":true,"schema":{"type":"integer","description":"The ID of the media item","title":"Media Id"},"description":"The ID of the media item"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MediaUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Update Media Item Api V1 Media  Media Id  Put"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/{media_id}/versions":{"post":{"tags":["media","Media Versioning"],"summary":"Create Media Version","description":"**Create a New Document Version**\n\nCreates a new version record for an existing *active* media item based on the\nprovided content, prompt, and analysis.","operationId":"create_version_api_v1_media__media_id__versions_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"media_id","in":"path","required":true,"schema":{"type":"integer","title":"Media Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VersionCreateRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Create Version Api V1 Media  Media Id  Versions Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["media","Media Versioning"],"summary":"List Media Versions","description":"**List Active Versions for an Active Media Item**\n\nRetrieves a paginated list of *active* versions (`deleted=0`) for a specific\n*active* media item (`deleted=0`, `is_trash=0`).\nOptionally includes the full content for each version. Ordered by version number descending.","operationId":"list_versions_api_v1_media__media_id__versions_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"media_id","in":"path","required":true,"schema":{"type":"integer","description":"The ID of the media item","title":"Media Id"},"description":"The ID of the media item"},{"name":"include_content","in":"query","required":false,"schema":{"type":"boolean","description":"Include full content in response","default":false,"title":"Include Content"},"description":"Include full content in response"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Results per page","default":10,"title":"Limit"},"description":"Results per page"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":true},"title":"Response List Versions Api V1 Media  Media Id  Versions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/{media_id}/versions/{version_number}":{"get":{"tags":["media","Media Versioning"],"summary":"Get Specific Media Version","description":"**Get Specific Active Version Details**\n\nRetrieves the details of a single, specific *active* version (`deleted=0`)\nfor an *active* media item (`deleted=0`, `is_trash=0`).","operationId":"get_version_api_v1_media__media_id__versions__version_number__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"media_id","in":"path","required":true,"schema":{"type":"integer","description":"The ID of the media item","title":"Media Id"},"description":"The ID of the media item"},{"name":"version_number","in":"path","required":true,"schema":{"type":"integer","description":"The version number","title":"Version Number"},"description":"The version number"},{"name":"include_content","in":"query","required":false,"schema":{"type":"boolean","description":"Include full content in response","default":true,"title":"Include Content"},"description":"Include full content in response"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Version Api V1 Media  Media Id  Versions  Version Number  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["media","Media Versioning"],"summary":"Soft Delete Media Version","description":"**Soft Delete a Specific Version**\n\nMarks a specific version of an active media item as deleted (`deleted=1`).\nCannot delete the only remaining active version for a media item.\nThis action is logged for synchronization but does not permanently remove data.","operationId":"delete_version_api_v1_media__media_id__versions__version_number__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"media_id","in":"path","required":true,"schema":{"type":"integer","description":"The ID of the media item","title":"Media Id"},"description":"The ID of the media item"},{"name":"version_number","in":"path","required":true,"schema":{"type":"integer","description":"The version number","title":"Version Number"},"description":"The version number"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/{media_id}/versions/rollback":{"post":{"tags":["media","Media Versioning"],"summary":"Rollback to Media Version","description":"**Rollback to a Previous Version**\n\nRestores the main content of an *active* media item to the state of a specified *active*\nprevious version. Creates a *new* version reflecting the rolled-back content and\nupdates the main Media record.","operationId":"rollback_version_api_v1_media__media_id__versions_rollback_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"media_id","in":"path","required":true,"schema":{"type":"integer","title":"Media Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VersionRollbackRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Rollback Version Api V1 Media  Media Id  Versions Rollback Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/":{"get":{"tags":["media","Media Management"],"summary":"List All Media Items","description":"Retrieve a paginated listing of all active (non-deleted, non-trash) media items.\nReturns \"items\" and a \"pagination\" dictionary matching the MediaListResponse schema.","operationId":"list_all_media_api_v1_media__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Results per page","default":10,"title":"Results Per Page"},"description":"Results per page"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MediaListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/transcription-models":{"get":{"tags":["media","Media Processing"],"summary":"Get Available Transcription Models","description":"Get all available transcription models grouped by category.\nReturns models suitable for populating dropdown menus.","operationId":"get_transcription_models_api_v1_media_transcription_models_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"items":{"additionalProperties":{"type":"string"},"type":"object"},"type":"array"},"type":"object","title":"Response Get Transcription Models Api V1 Media Transcription Models Get"}}}}}}},"/api/v1/media/search":{"post":{"tags":["media","Media Management"],"summary":"Search Media Items","description":"Search across media items based on various criteria.\nThe search is case-insensitive for LIKE queries and uses SQLite FTS capabilities.\nSupports ETag-based caching.","operationId":"search_media_items_api_v1_media_search_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Results per page","default":10,"title":"Results Per Page"},"description":"Results per page"},{"name":"if-none-match","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"If-None-Match"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MediaListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/add":{"post":{"tags":["media","Media Ingestion & Persistence"],"summary":"Add media (URLs/files) with processing and persistence","description":"**Add Media Endpoint**\n\nAdd multiple media items (from URLs and/or uploaded files) to the database with processing.\n\nIngests media from URLs or uploads, processes it (transcription, analysis, etc.),\nand **persists** the results and metadata to the database.\n\nUse this endpoint for adding new content to the system permanently.\n\nHierarchical chunking (optional):\n- Set `hierarchical_chunking=true` to enable structure-aware parsing and flattened chunks.\n- Optionally pass `hierarchical_template` with custom boundary rules:\n  `{\"boundaries\": [{\"kind\":\"my_section\",\"pattern\":\"^##\\s+Custom\",\"flags\":\"im\"}]}`","operationId":"add_media_api_v1_media_add_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_add_media_api_v1_media_add_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/process-videos":{"post":{"tags":["media","Media Processing (No DB)"],"summary":"Transcribe / chunk / analyse videos and return the full artefacts (no DB write)","description":"**Process Videos (No Persistence)**\n\nTranscribes, chunks, and analyses videos from URLs or uploaded files.\nReturns processing artifacts without saving to the database.\n\nDocs: `Docs/Code_Documentation/Ingestion_Pipeline_Video.md`\n\nExample:\n```python\nfrom tldw_Server_API.app.core.Ingestion_Media_Processing.Video.Video_DL_Ingestion_Lib import process_videos\nprocess_videos(inputs=[\"https://youtu.be/...\", \"/abs/local/video.mp4\"], transcription_model=\"medium\", perform_analysis=True, api_name=\"openai\")\n```","operationId":"process_videos_endpoint_api_v1_media_process_videos_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_process_videos_endpoint_api_v1_media_process_videos_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/process-audios":{"post":{"tags":["media","Media Processing (No DB)"],"summary":"Transcribe / chunk / analyse audio and return full artefacts (no DB write)","description":"**Process Audios (No Persistence)**\n\nTranscribes, chunks, and analyses audio from URLs or uploaded files.\nReturns processing artifacts without saving to the database.\n\nDocs: `Docs/Code_Documentation/Ingestion_Pipeline_Audio.md`\n\nExample:\n```python\nfrom tldw_Server_API.app.core.Ingestion_Media_Processing.Audio.Audio_Files import process_audio_files\nprocess_audio_files(inputs=[\"https://soundcloud.com/...\", \"/abs/audio.wav\"], transcription_model=\"large-v3\", perform_analysis=True, api_name=\"openai\")\n```","operationId":"process_audios_endpoint_api_v1_media_process_audios_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_process_audios_endpoint_api_v1_media_process_audios_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/process-ebooks":{"post":{"tags":["media","Media Processing (No DB)"],"summary":"Extract, chunk, analyse EPUBs (NO DB Persistence)","description":"**Process Ebooks (No Persistence)**\n\nProcesses EPUB files (URLs or uploads): extract content/metadata, optional chunking and analysis.\nReturns processing artifacts without saving to the database.\n\nDocs: `Docs/Code_Documentation/Ingestion_Pipeline_Ebooks.md`\n\nExample:\n```python\nfrom tldw_Server_API.app.core.Ingestion_Media_Processing.Books.Book_Processing_Lib import process_epub\nprocess_epub(\"/abs/book.epub\", perform_chunking=True, perform_analysis=True, api_name=\"openai\")\n```\n\nSupports `.epub` files.","operationId":"process_ebooks_endpoint_api_v1_media_process_ebooks_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_process_ebooks_endpoint_api_v1_media_process_ebooks_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/process-documents":{"post":{"tags":["media","Media Processing (No DB)"],"summary":"Extract, chunk, analyse Documents (NO DB Persistence)","description":"**Process Documents (No Persistence)**\n\nExtracts content from `.txt`, `.md`, `.docx`, `.rtf`, `.html`, `.htm`, `.xml` (Pandoc required for `.rtf`),\nwith optional chunking and analysis. Returns artifacts without DB writes.\n\nDocs: `Docs/Code_Documentation/Ingestion_Pipeline_Documents.md`\n\nExample:\n```python\nfrom tldw_Server_API.app.core.Ingestion_Media_Processing.Plaintext.Plaintext_Files import process_document_content\nprocess_document_content(Path(\"/abs/article.docx\"), perform_chunking=True, perform_analysis=True, api_name=\"openai\")\n```","operationId":"process_documents_endpoint_api_v1_media_process_documents_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_process_documents_endpoint_api_v1_media_process_documents_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Process Documents Endpoint Api V1 Media Process Documents Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/process-pdfs":{"post":{"tags":["media","Media Processing (No DB)"],"summary":"Extract, chunk, analyse PDFs (NO DB Persistence)","description":"**Process PDFs (No Persistence)**\n\nExtracts text/metadata from PDFs using `pymupdf4llm`/PyMuPDF (optionally Docling/OCR),\nwith optional chunking and analysis. Returns artifacts without DB writes.\n\nDocs: `Docs/Code_Documentation/Ingestion_Pipeline_PDF.md`\n\nExample:\n```python\nfrom tldw_Server_API.app.core.Ingestion_Media_Processing.PDF.PDF_Processing_Lib import process_pdf_task\nawait process_pdf_task(file_bytes, filename=\"paper.pdf\", parser=\"pymupdf4llm\", perform_chunking=True, api_name=\"openai\")\n```","operationId":"process_pdfs_endpoint_api_v1_media_process_pdfs_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_process_pdfs_endpoint_api_v1_media_process_pdfs_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/mediawiki/ingest-dump":{"post":{"tags":["media","MediaWiki Processing"],"summary":"Ingest and process a MediaWiki XML dump, storing results to database and vector store.","description":"**MediaWiki Ingest (Streaming)**\n\nStreams ingestion events while processing a MediaWiki XML dump and persisting results.\n\nDocs: `Docs/Code_Documentation/Ingestion_Pipeline_MediaWiki.md`\n\nExample (core iterator):\n```python\nfrom tldw_Server_API.app.core.Ingestion_Media_Processing.MediaWiki.Media_Wiki import import_mediawiki_dump\nevents = import_mediawiki_dump(\"/abs/enwiki.xml.bz2\", wiki_name=\"enwiki\", namespaces=[0], skip_redirects=True)\nfor ev in events: print(ev.get(\"type\"))\n```","operationId":"ingest_mediawiki_dump_endpoint_api_v1_media_mediawiki_ingest_dump_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_ingest_mediawiki_dump_endpoint_api_v1_media_mediawiki_ingest_dump_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/mediawiki/process-dump":{"post":{"tags":["media","MediaWiki Processing"],"summary":"Process a MediaWiki XML dump and return structured content without database storage.","description":"**MediaWiki Process (Ephemeral, Streaming)**\n\nStreams processed items from a MediaWiki XML dump without saving to the database.\n\nDocs: `Docs/Code_Documentation/Ingestion_Pipeline_MediaWiki.md`","operationId":"process_mediawiki_dump_ephemeral_endpoint_api_v1_media_mediawiki_process_dump_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_process_mediawiki_dump_ephemeral_endpoint_api_v1_media_mediawiki_process_dump_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/ingest-web-content":{"post":{"tags":["media"],"summary":"Ingest Web Content","description":"A single endpoint that supports multiple advanced scraping methods:\n  - individual: Each item in 'urls' is scraped individually\n  - sitemap:    Interprets the first 'url' as a sitemap, scrapes it\n  - url_level:  Scrapes all pages up to 'url_level' path segments from the first 'url'\n  - recursive:  Scrapes up to 'max_pages' links, up to 'max_depth' from the base 'url'\n\nAlso supports content analysis, translation, chunking, DB ingestion, etc.","operationId":"ingest_web_content_api_v1_media_ingest_web_content_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"token","in":"header","required":true,"schema":{"type":"string","description":"Authentication token","title":"Token"},"description":"Authentication token"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IngestWebContentRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/process-web-scraping":{"post":{"tags":["media"],"summary":"Process Web Scraping Endpoint","description":"Ingest / scrape data from websites or sitemaps, optionally summarize,\nthen either store ephemeral or persist in DB.","operationId":"process_web_scraping_endpoint_api_v1_media_process_web_scraping_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebScrapingRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/debug/schema":{"get":{"tags":["media"],"summary":"Debug Schema","description":"Diagnostic endpoint to check database schema.","operationId":"debug_schema_api_v1_media_debug_schema_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audio/speech":{"post":{"tags":["audio","TTS (OpenAI Compatible)"],"summary":"Generates audio from text input.","description":"Generates audio from the input text.\n\nRequires authentication via Bearer token in Authorization header.\nRate limited to 10 requests per minute per IP address.\n\nDocs: `Docs/Code_Documentation/Ingestion_Pipeline_Audio.md` (context on audio pipeline)\n\nExample (curl):\n```bash\ncurl -X POST \"http://127.0.0.1:8000/api/v1/audio/speech\"       -H \"Authorization: Bearer <TOKEN>\"       -H \"Content-Type: application/json\"       -d '{\"model\": \"tts-1\", \"input\": \"Hello world\", \"voice\": \"alloy\", \"response_format\": \"mp3\", \"stream\": true}'\n```","operationId":"create_speech_api_v1_audio_speech_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OpenAISpeechRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audio/transcriptions":{"post":{"tags":["audio","TTS (OpenAI Compatible)"],"summary":"Transcribes audio into text (OpenAI Compatible)","description":"Transcribes audio into the input language.\n\nCompatible with OpenAI's Audio API transcription endpoint.\nSupports multiple transcription models including Whisper, Parakeet, and Canary.\n\nModels:\n- whisper-1: Uses faster-whisper (default)\n- parakeet: NVIDIA Parakeet model (efficient)\n- canary: NVIDIA Canary model (multilingual)\n- qwen2audio: Qwen2 Audio model\n\nRate limited to 20 requests per minute per IP address.\n\nDocs: `Docs/Code_Documentation/Ingestion_Pipeline_Audio.md`,\n      `Docs/API-related/Audio_Transcription_API.md`\n\nExample (curl):\n```bash\ncurl -X POST \"http://127.0.0.1:8000/api/v1/audio/transcriptions\"       -H \"Authorization: Bearer <TOKEN>\"       -F \"file=@/abs/audio.wav\" -F \"model=whisper-1\" -F \"language=en\" -F \"response_format=json\"\n```","operationId":"create_transcription_api_v1_audio_transcriptions_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_create_transcription_api_v1_audio_transcriptions_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audio/translations":{"post":{"tags":["audio","TTS (OpenAI Compatible)"],"summary":"Translates audio into English (OpenAI Compatible)","description":"Translates audio into English.\n\nCompatible with OpenAI's Audio API translation endpoint.\nCurrently uses Whisper for translation to English.\n\nRate limited to 20 requests per minute per IP address.\n\nDocs: `Docs/Code_Documentation/Ingestion_Pipeline_Audio.md`,\n      `Docs/API-related/Audio_Transcription_API.md`","operationId":"create_translation_api_v1_audio_translations_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_create_translation_api_v1_audio_translations_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audio/health":{"get":{"tags":["audio","TTS (OpenAI Compatible)"],"summary":"Get Tts Health","description":"Get health status of TTS providers.\n\nReturns comprehensive health information including:\n- Provider availability\n- Circuit breaker status\n- Performance metrics\n- Active requests","operationId":"get_tts_health_api_v1_audio_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"429":{"description":"Rate limit exceeded"}}}},"/api/v1/audio/providers":{"get":{"tags":["audio","TTS (OpenAI Compatible)"],"summary":"List Tts Providers","description":"List all available TTS providers and their capabilities.","operationId":"list_tts_providers_api_v1_audio_providers_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"429":{"description":"Rate limit exceeded"}}}},"/api/v1/audio/voices/catalog":{"get":{"tags":["audio","TTS (OpenAI Compatible)"],"summary":"List available TTS voices across providers","description":"List available voices from TTS providers.\n\n- If `provider` is specified, returns voices only for that provider.\n- Otherwise returns a mapping of provider name to voice lists.\n\nFor ElevenLabs, this uses the adapter's cached user voices (plus defaults)\nloaded during adapter initialization.","operationId":"list_tts_voices_api_v1_audio_voices_catalog_get","parameters":[{"name":"provider","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Optional provider filter, e.g., 'elevenlabs' or 'openai'","title":"Provider"},"description":"Optional provider filter, e.g., 'elevenlabs' or 'openai'"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audio/reset-metrics":{"post":{"tags":["audio","TTS (OpenAI Compatible)"],"summary":"Reset Tts Metrics","description":"Reset TTS metrics.\n\nArgs:\n    provider: Optional provider name to reset metrics for. If not provided, resets all metrics.","operationId":"reset_tts_metrics_api_v1_audio_reset_metrics_post","parameters":[{"name":"provider","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Provider"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audio/stream/status":{"get":{"tags":["audio","TTS (OpenAI Compatible)"],"summary":"Check streaming transcription availability","description":"Check if streaming transcription is available.\n\nReturns:\n    JSON with status and available models","operationId":"streaming_status_api_v1_audio_stream_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"429":{"description":"Rate limit exceeded"}}}},"/api/v1/audio/stream/test":{"post":{"tags":["audio","TTS (OpenAI Compatible)"],"summary":"Test streaming transcription setup","description":"Test endpoint to verify streaming setup.\n\nReturns:\n    Test results","operationId":"test_streaming_api_v1_audio_stream_test_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"429":{"description":"Rate limit exceeded"}}}},"/api/v1/audio/voices/upload":{"post":{"tags":["audio","TTS (OpenAI Compatible)"],"summary":"Upload a custom voice sample","description":"Upload a custom voice sample for use with TTS.\n\nSupports voice cloning for compatible providers:\n- VibeVoice: Any duration (1-shot cloning)\n- Higgs: 3-10 seconds recommended\n- Chatterbox: 5-20 seconds recommended\n\nThe voice will be processed and optimized for the specified provider.","operationId":"upload_voice_api_v1_audio_voices_upload_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_voice_api_v1_audio_voices_upload_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audio/voices":{"get":{"tags":["audio","TTS (OpenAI Compatible)"],"summary":"List user's custom voices","description":"List all custom voice samples uploaded by the user.\n\nReturns voice metadata including:\n- Voice ID for use in TTS requests\n- Name and description\n- Duration and format\n- Compatible providers","operationId":"list_voices_api_v1_audio_voices_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audio/voices/{voice_id}":{"get":{"tags":["audio","TTS (OpenAI Compatible)"],"summary":"Get voice details","description":"Get detailed information about a specific voice.","operationId":"get_voice_details_api_v1_audio_voices__voice_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"voice_id","in":"path","required":true,"schema":{"type":"string","description":"Voice ID","title":"Voice Id"},"description":"Voice ID"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["audio","TTS (OpenAI Compatible)"],"summary":"Delete a custom voice","description":"Delete a custom voice sample.\n\nThis will remove the voice files and prevent it from being used in future TTS requests.","operationId":"delete_voice_api_v1_audio_voices__voice_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"voice_id","in":"path","required":true,"schema":{"type":"string","description":"Voice ID to delete","title":"Voice Id"},"description":"Voice ID to delete"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audio/voices/{voice_id}/preview":{"post":{"tags":["audio","TTS (OpenAI Compatible)"],"summary":"Generate voice preview","description":"Generate a short preview of a custom voice.\n\nThis endpoint generates a short audio sample using the specified voice\nto help users preview how it sounds before using it in full TTS requests.","operationId":"preview_voice_api_v1_audio_voices__voice_id__preview_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"voice_id","in":"path","required":true,"schema":{"type":"string","description":"Voice ID to preview","title":"Voice Id"},"description":"Voice ID to preview"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_preview_voice_api_v1_audio_voices__voice_id__preview_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/completions":{"post":{"tags":["chat","Chat"],"summary":"Creates a model response and manages conversation state.","operationId":"create_chat_completion_api_v1_chat_completions_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"type":"string","description":"Bearer token for authentication.","title":"Authorization"},"description":"Bearer token for authentication."},{"name":"Token","in":"header","required":false,"schema":{"type":"string","description":"Alternate bearer token header for backward compatibility.","title":"Token"},"description":"Alternate bearer token header for backward compatibility."},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatCompletionRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"400":{"description":"Invalid request (e.g., empty messages, text too long, bad parameters)."},"401":{"description":"Invalid authentication token."},"404":{"description":"Resource not found (e.g., character)."},"409":{"description":"Data conflict (e.g., version mismatch during DB operation)."},"413":{"description":"Request payload too large (e.g., too many messages, too many images)."},"429":{"description":"Rate limit exceeded."},"500":{"description":"Internal server error."},"502":{"description":"Error received from an upstream LLM provider."},"503":{"description":"Service temporarily unavailable or misconfigured (e.g., provider API key issue)."},"504":{"description":"Upstream LLM provider timed out."},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/dictionaries":{"post":{"tags":["chat","Chat Dictionaries"],"summary":"Create a new chat dictionary","description":"Create a new chat dictionary for pattern-based text replacements.\n\nDictionaries allow you to define patterns (literal or regex) that will be\nautomatically replaced in chat messages.","operationId":"create_chat_dictionary_api_v1_chat_dictionaries_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatDictionaryCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatDictionaryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["chat","Chat Dictionaries"],"summary":"List all chat dictionaries","description":"List all chat dictionaries for the current user.","operationId":"list_chat_dictionaries_api_v1_chat_dictionaries_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"include_inactive","in":"query","required":false,"schema":{"type":"boolean","description":"Include inactive dictionaries","default":false,"title":"Include Inactive"},"description":"Include inactive dictionaries"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DictionaryListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/dictionaries/{dictionary_id}":{"get":{"tags":["chat","Chat Dictionaries"],"summary":"Get dictionary with entries","description":"Get a specific dictionary with all its entries.","operationId":"get_chat_dictionary_api_v1_chat_dictionaries__dictionary_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"dictionary_id","in":"path","required":true,"schema":{"type":"integer","title":"Dictionary Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatDictionaryWithEntries"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["chat","Chat Dictionaries"],"summary":"Update a dictionary","description":"Update a dictionary's metadata.","operationId":"update_chat_dictionary_api_v1_chat_dictionaries__dictionary_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"dictionary_id","in":"path","required":true,"schema":{"type":"integer","title":"Dictionary Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatDictionaryUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatDictionaryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["chat","Chat Dictionaries"],"summary":"Delete a dictionary","description":"Delete a dictionary (soft delete by default).","operationId":"delete_chat_dictionary_api_v1_chat_dictionaries__dictionary_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"dictionary_id","in":"path","required":true,"schema":{"type":"integer","title":"Dictionary Id"}},{"name":"hard_delete","in":"query","required":false,"schema":{"type":"boolean","description":"Permanently delete instead of soft delete","default":false,"title":"Hard Delete"},"description":"Permanently delete instead of soft delete"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/dictionaries/{dictionary_id}/entries":{"post":{"tags":["chat","Chat Dictionaries"],"summary":"Add entry to dictionary","description":"Add a new entry to a dictionary.\n\nThe key can be:\n- A literal string: \"hello\"\n- A regex pattern: \"/hel+o/i\" (with optional flags: i=ignore case, m=multiline, s=dotall)","operationId":"add_dictionary_entry_api_v1_chat_dictionaries__dictionary_id__entries_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"dictionary_id","in":"path","required":true,"schema":{"type":"integer","title":"Dictionary Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DictionaryEntryCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DictionaryEntryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["chat","Chat Dictionaries"],"summary":"List dictionary entries","description":"List all entries in a dictionary, optionally filtered by group.","operationId":"list_dictionary_entries_api_v1_chat_dictionaries__dictionary_id__entries_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"dictionary_id","in":"path","required":true,"schema":{"type":"integer","title":"Dictionary Id"}},{"name":"group","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by group","title":"Group"},"description":"Filter by group"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__chat_dictionary_schemas__EntryListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/dictionaries/entries/{entry_id}":{"put":{"tags":["chat","Chat Dictionaries"],"summary":"Update dictionary entry","description":"Update a dictionary entry.","operationId":"update_dictionary_entry_api_v1_chat_dictionaries_entries__entry_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"entry_id","in":"path","required":true,"schema":{"type":"integer","title":"Entry Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DictionaryEntryUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DictionaryEntryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["chat","Chat Dictionaries"],"summary":"Delete dictionary entry","description":"Delete a dictionary entry.","operationId":"delete_dictionary_entry_api_v1_chat_dictionaries_entries__entry_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"entry_id","in":"path","required":true,"schema":{"type":"integer","title":"Entry Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/dictionaries/process":{"post":{"tags":["chat","Chat Dictionaries"],"summary":"Process text through dictionaries","description":"Process text through active dictionaries to apply replacements.\n\nThis endpoint applies pattern-based replacements defined in the user's\nactive dictionaries to the provided text.","operationId":"process_text_with_dictionaries_api_v1_chat_dictionaries_process_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProcessTextRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProcessTextResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/dictionaries/import":{"post":{"tags":["chat","Chat Dictionaries"],"summary":"Import dictionary from markdown","description":"Import a dictionary from markdown format.\n\nFormat example:\n```\nkey: value\n/regex/i: replacement\n\n## Group Name\ngrouped_key: grouped_value\n```","operationId":"import_dictionary_api_v1_chat_dictionaries_import_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportDictionaryRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportDictionaryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/dictionaries/{dictionary_id}/export":{"get":{"tags":["chat","Chat Dictionaries"],"summary":"Export dictionary to markdown","description":"Export a dictionary to markdown format.","operationId":"export_dictionary_api_v1_chat_dictionaries__dictionary_id__export_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"dictionary_id","in":"path","required":true,"schema":{"type":"integer","title":"Dictionary Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExportDictionaryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/dictionaries/{dictionary_id}/export/json":{"get":{"tags":["chat","Chat Dictionaries"],"summary":"Export dictionary to JSON","operationId":"export_dictionary_json_api_v1_chat_dictionaries__dictionary_id__export_json_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"dictionary_id","in":"path","required":true,"schema":{"type":"integer","title":"Dictionary Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExportDictionaryJSONResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/dictionaries/import/json":{"post":{"tags":["chat","Chat Dictionaries"],"summary":"Import dictionary from JSON","operationId":"import_dictionary_json_api_v1_chat_dictionaries_import_json_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportDictionaryJSONRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportDictionaryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/dictionaries/{dictionary_id}/statistics":{"get":{"tags":["chat","Chat Dictionaries"],"summary":"Get dictionary statistics","description":"Get statistics for a dictionary.","operationId":"get_dictionary_statistics_api_v1_chat_dictionaries__dictionary_id__statistics_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"dictionary_id","in":"path","required":true,"schema":{"type":"integer","title":"Dictionary Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DictionaryStatistics"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/documents/generate":{"post":{"tags":["chat","Document Generator"],"summary":"Generate a document from conversation","description":"Generate a document from a conversation.","operationId":"generate_document_api_v1_chat_documents_generate_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateDocumentRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/GenerateDocumentResponse"},{"$ref":"#/components/schemas/AsyncGenerationResponse"}],"title":"Response Generate Document Api V1 Chat Documents Generate Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/documents/jobs/{job_id}":{"get":{"tags":["chat","Document Generator"],"summary":"Get generation job status","description":"Get the status of a document generation job.","operationId":"get_job_status_api_v1_chat_documents_jobs__job_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["chat","Document Generator"],"summary":"Cancel generation job","description":"Cancel a document generation job.","operationId":"cancel_job_api_v1_chat_documents_jobs__job_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Cancel Job Api V1 Chat Documents Jobs  Job Id  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/documents":{"get":{"tags":["chat","Document Generator"],"summary":"List generated documents","description":"List previously generated documents.","operationId":"list_generated_documents_api_v1_chat_documents_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"conversation_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by conversation ID","title":"Conversation Id"},"description":"Filter by conversation ID"},{"name":"document_type","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/DocumentType"},{"type":"null"}],"description":"Filter by document type","title":"Document Type"},"description":"Filter by document type"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"description":"Maximum number of documents","default":50,"title":"Limit"},"description":"Maximum number of documents"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/documents/{document_id}":{"get":{"tags":["chat","Document Generator"],"summary":"Get generated document","description":"Get a specific generated document.","operationId":"get_generated_document_api_v1_chat_documents__document_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"integer","title":"Document Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GeneratedDocument"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["chat","Document Generator"],"summary":"Delete generated document","description":"Delete a generated document.","operationId":"delete_generated_document_api_v1_chat_documents__document_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"integer","title":"Document Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Delete Generated Document Api V1 Chat Documents  Document Id  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/documents/prompts":{"post":{"tags":["chat","Document Generator"],"summary":"Save custom prompt configuration","description":"Save a custom prompt configuration for a document type.","operationId":"save_prompt_config_api_v1_chat_documents_prompts_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SavePromptConfigRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromptConfigResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/documents/prompts/{document_type}":{"get":{"tags":["chat","Document Generator"],"summary":"Get prompt configuration","description":"Get the prompt configuration for a document type.","operationId":"get_prompt_config_api_v1_chat_documents_prompts__document_type__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"document_type","in":"path","required":true,"schema":{"$ref":"#/components/schemas/DocumentType"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromptConfigResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/documents/bulk":{"post":{"tags":["chat","Document Generator"],"summary":"Bulk generate documents","description":"Generate multiple documents in bulk (async).","operationId":"bulk_generate_documents_api_v1_chat_documents_bulk_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkGenerateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkGenerateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/documents/statistics":{"get":{"tags":["chat","Document Generator"],"summary":"Get generation statistics","description":"Get statistics about document generation.","operationId":"get_generation_statistics_api_v1_chat_documents_statistics_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerationStatistics"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/import":{"post":{"tags":["character, persona","Characters"],"summary":"Import character card","description":"Import a character card from a file.\n\nSupports:\n- Image files (PNG, WEBP) with embedded character data\n- JSON files (including Character Card V3 format)\n- Markdown files\n- Plain text files with JSON content\n\nFor JSON data, you can upload a .json file or a text file containing JSON.","operationId":"import_character_endpoint_api_v1_characters_import_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_import_character_endpoint_api_v1_characters_import_post"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CharacterImportResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/":{"get":{"tags":["character, persona","Characters"],"summary":"List characters","operationId":"list_all_characters_api_v1_characters__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CharacterResponse"},"title":"Response List All Characters Api V1 Characters  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["character, persona","Characters"],"summary":"Create character","operationId":"create_new_character_endpoint_api_v1_characters__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CharacterCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CharacterResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/rate-limit-status":{"get":{"tags":["character, persona","Characters"],"summary":"Get rate limit status","description":"Get current rate limit usage statistics for the authenticated user.","operationId":"get_rate_limit_status_api_v1_characters_rate_limit_status_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/filter":{"get":{"tags":["character, persona","Characters"],"summary":"Filter characters by tags","description":"Filter characters by tags.\n\nArgs:\n    tags: List of tags to filter by\n    match_all: If True, require all tags; if False, match any tag\n    limit: Maximum results\n    offset: Pagination offset\n    db: Database instance\n    \nReturns:\n    List of characters matching the tag criteria","operationId":"filter_characters_by_tags_api_v1_characters_filter_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"tags","in":"query","required":false,"schema":{"type":"array","items":{"type":"string"},"description":"List of tags to filter by","default":[],"title":"Tags"},"description":"List of tags to filter by"},{"name":"match_all","in":"query","required":false,"schema":{"type":"boolean","description":"Require all tags (AND) vs any tag (OR)","default":false,"title":"Match All"},"description":"Require all tags (AND) vs any tag (OR)"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CharacterResponse"},"title":"Response Filter Characters By Tags Api V1 Characters Filter Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/{character_id}":{"get":{"tags":["character, persona","Characters"],"summary":"Get character by ID","operationId":"get_character_by_id_endpoint_api_v1_characters__character_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"character_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"description":"ID of the character.","title":"Character Id"},"description":"ID of the character."},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CharacterResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["character, persona","Characters"],"summary":"Update character","operationId":"update_character_endpoint_api_v1_characters__character_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"character_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"description":"ID of the character to update.","title":"Character Id"},"description":"ID of the character to update."},{"name":"expected_version","in":"query","required":true,"schema":{"type":"integer","description":"Expected current version of the character for optimistic locking.","title":"Expected Version"},"description":"Expected current version of the character for optimistic locking."},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CharacterUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CharacterResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["character, persona","Characters"],"summary":"Delete character","operationId":"delete_character_endpoint_api_v1_characters__character_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"character_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"description":"ID of the character to delete.","title":"Character Id"},"description":"ID of the character to delete."},{"name":"expected_version","in":"query","required":true,"schema":{"type":"integer","description":"Expected current version of the character for optimistic locking.","title":"Expected Version"},"description":"Expected current version of the character for optimistic locking."},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeletionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/search/":{"get":{"tags":["character, persona","Characters"],"summary":"Search characters","description":"Searches for characters based on a query string.\nThe search is performed against FTS-indexed fields in the database.","operationId":"search_characters_endpoint_api_v1_characters_search__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","description":"Search term for character name, description, etc.","title":"Query"},"description":"Search term for character name, description, etc."},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CharacterResponse"},"title":"Response Search Characters Endpoint Api V1 Characters Search  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/world-books":{"post":{"tags":["character, persona","World Books"],"summary":"Create a world book","description":"Create a new world book for the user.","operationId":"create_world_book_api_v1_characters_world_books_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorldBookCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorldBookResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["character, persona","World Books"],"summary":"List world books","description":"List all world books for the user.","operationId":"list_world_books_api_v1_characters_world_books_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"include_disabled","in":"query","required":false,"schema":{"type":"boolean","description":"Include disabled world books","default":false,"title":"Include Disabled"},"description":"Include disabled world books"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorldBookListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/world-books/{world_book_id}":{"get":{"tags":["character, persona","World Books"],"summary":"Get world book with entries","description":"Get a world book with all its entries.","operationId":"get_world_book_api_v1_characters_world_books__world_book_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"world_book_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"description":"World book ID","title":"World Book Id"},"description":"World book ID"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorldBookWithEntries"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["character, persona","World Books"],"summary":"Update world book","description":"Update a world book.","operationId":"update_world_book_api_v1_characters_world_books__world_book_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"world_book_id","in":"path","required":true,"schema":{"type":"integer","title":"World Book Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorldBookUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorldBookResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["character, persona","World Books"],"summary":"Delete world book","description":"Delete a world book.","operationId":"delete_world_book_api_v1_characters_world_books__world_book_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"world_book_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"description":"World book ID","title":"World Book Id"},"description":"World book ID"},{"name":"hard_delete","in":"query","required":false,"schema":{"type":"boolean","description":"Permanently delete (default is soft delete)","default":false,"title":"Hard Delete"},"description":"Permanently delete (default is soft delete)"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeletionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/world-books/{world_book_id}/entries":{"post":{"tags":["character, persona","World Books"],"summary":"Add entry to world book","description":"Add an entry to a world book.","operationId":"add_world_book_entry_api_v1_characters_world_books__world_book_id__entries_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"world_book_id","in":"path","required":true,"schema":{"type":"integer","title":"World Book Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorldBookEntryCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorldBookEntryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["character, persona","World Books"],"summary":"List world book entries","description":"List all entries in a world book.","operationId":"list_world_book_entries_api_v1_characters_world_books__world_book_id__entries_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"world_book_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"description":"World book ID","title":"World Book Id"},"description":"World book ID"},{"name":"enabled_only","in":"query","required":false,"schema":{"type":"boolean","description":"Only show enabled entries","default":false,"title":"Enabled Only"},"description":"Only show enabled entries"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__world_book_schemas__EntryListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/world-books/entries/{entry_id}":{"put":{"tags":["character, persona","World Books"],"summary":"Update world book entry","description":"Update a world book entry.","operationId":"update_world_book_entry_api_v1_characters_world_books_entries__entry_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"entry_id","in":"path","required":true,"schema":{"type":"integer","title":"Entry Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorldBookEntryUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorldBookEntryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["character, persona","World Books"],"summary":"Delete world book entry","description":"Delete a world book entry.","operationId":"delete_world_book_entry_api_v1_characters_world_books_entries__entry_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"entry_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"description":"Entry ID","title":"Entry Id"},"description":"Entry ID"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeletionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/{character_id}/world-books":{"post":{"tags":["character, persona","World Books"],"summary":"Attach world book to character","description":"Attach a world book to a character.","operationId":"attach_world_book_to_character_api_v1_characters__character_id__world_books_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"character_id","in":"path","required":true,"schema":{"type":"integer","title":"Character Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CharacterWorldBookAttachment"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CharacterWorldBookResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["character, persona","World Books"],"summary":"List character's world books","description":"Get all world books attached to a character.","operationId":"get_character_world_books_api_v1_characters__character_id__world_books_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"character_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"description":"Character ID","title":"Character Id"},"description":"Character ID"},{"name":"enabled_only","in":"query","required":false,"schema":{"type":"boolean","description":"Only show enabled attachments","default":true,"title":"Enabled Only"},"description":"Only show enabled attachments"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CharacterWorldBookResponse"},"title":"Response Get Character World Books Api V1 Characters  Character Id  World Books Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/{character_id}/world-books/{world_book_id}":{"delete":{"tags":["character, persona","World Books"],"summary":"Detach world book from character","description":"Detach a world book from a character.","operationId":"detach_world_book_from_character_api_v1_characters__character_id__world_books__world_book_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"character_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"description":"Character ID","title":"Character Id"},"description":"Character ID"},{"name":"world_book_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"description":"World book ID","title":"World Book Id"},"description":"World book ID"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeletionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/world-books/process":{"post":{"tags":["character, persona","World Books"],"summary":"Process text with world info","description":"Process text to find and inject relevant world info.","operationId":"process_context_with_world_info_api_v1_characters_world_books_process_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProcessContextRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProcessContextResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/world-books/import":{"post":{"tags":["character, persona","World Books"],"summary":"Import world book","description":"Import a world book from external format.","operationId":"import_world_book_api_v1_characters_world_books_import_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorldBookImportRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorldBookImportResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/world-books/{world_book_id}/export":{"get":{"tags":["character, persona","World Books"],"summary":"Export world book","description":"Export a world book to external format.","operationId":"export_world_book_api_v1_characters_world_books__world_book_id__export_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"world_book_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"description":"World book ID","title":"World Book Id"},"description":"World book ID"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorldBookExport"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/world-books/{world_book_id}/statistics":{"get":{"tags":["character, persona","World Books"],"summary":"Get world book statistics","description":"Get statistics for a world book.","operationId":"get_world_book_statistics_api_v1_characters_world_books__world_book_id__statistics_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"world_book_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"description":"World book ID","title":"World Book Id"},"description":"World book ID"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorldBookStatistics"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/world-books/entries/bulk":{"post":{"tags":["character, persona","World Books"],"summary":"Bulk operations on entries","description":"Perform bulk operations on world book entries.","operationId":"bulk_entry_operations_api_v1_characters_world_books_entries_bulk_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkEntryOperation"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkOperationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/{character_id}/export":{"get":{"tags":["character, persona","Characters"],"summary":"Export character in various formats","description":"Export a character in various formats.\n\nArgs:\n    character_id: ID of character to export\n    format: Export format (v3 for Character Card V3, v2 for V2, json for raw)\n    include_world_books: Whether to include world book data\n    db: Database instance\n    \nReturns:\n    Character data in requested format\n    \nRaises:\n    HTTPException: 404 if character not found","operationId":"export_character_api_v1_characters__character_id__export_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"character_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"description":"Character ID to export","title":"Character Id"},"description":"Character ID to export"},{"name":"format","in":"query","required":false,"schema":{"type":"string","description":"Export format (v3, v2, json)","default":"v3","title":"Format"},"description":"Export format (v3, v2, json)"},{"name":"include_world_books","in":"query","required":false,"schema":{"type":"boolean","description":"Include associated world books","default":false,"title":"Include World Books"},"description":"Include associated world books"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Export Character Api V1 Characters  Character Id  Export Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chats/":{"post":{"tags":["character chat sessions","Chat Sessions"],"summary":"Create a new chat session","description":"Create a new chat session with a character.\n\nArgs:\n    session_data: Chat session creation data\n    db: Database instance\n    current_user: Authenticated user\n    \nReturns:\n    Created chat session details\n    \nRaises:\n    HTTPException: 404 if character not found, 429 if rate limited","operationId":"create_chat_session_api_v1_chats__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatSessionCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatSessionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["character chat sessions","Chat Sessions"],"summary":"List user's chat sessions","description":"List all chat sessions for the current user.\n\nArgs:\n    character_id: Optional character ID filter\n    limit: Maximum number of items to return\n    offset: Number of items to skip\n    db: Database instance\n    current_user: Authenticated user\n    \nReturns:\n    List of chat sessions with pagination info","operationId":"list_chat_sessions_api_v1_chats__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"character_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by character ID","title":"Character Id"},"description":"Filter by character ID"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"description":"Number of items to return","default":50,"title":"Limit"},"description":"Number of items to return"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Number of items to skip","default":0,"title":"Offset"},"description":"Number of items to skip"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatSessionListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chats/{chat_id}":{"get":{"tags":["character chat sessions","Chat Sessions"],"summary":"Get chat session details","description":"Get details of a specific chat session.\n\nArgs:\n    chat_id: Chat session ID\n    db: Database instance\n    current_user: Authenticated user\n    \nReturns:\n    Chat session details\n    \nRaises:\n    HTTPException: 404 if not found, 403 if unauthorized","operationId":"get_chat_session_api_v1_chats__chat_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"chat_id","in":"path","required":true,"schema":{"type":"string","description":"Chat session ID","title":"Chat Id"},"description":"Chat session ID"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatSessionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["character chat sessions","Chat Sessions"],"summary":"Update chat session","description":"Update a chat session's metadata.\n\nArgs:\n    chat_id: Chat session ID\n    update_data: Update data\n    expected_version: Expected version for optimistic locking\n    db: Database instance\n    current_user: Authenticated user\n    \nReturns:\n    Updated chat session details\n    \nRaises:\n    HTTPException: 404 if not found, 403 if unauthorized, 409 if version conflict","operationId":"update_chat_session_api_v1_chats__chat_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"chat_id","in":"path","required":true,"schema":{"type":"string","description":"Chat session ID","title":"Chat Id"},"description":"Chat session ID"},{"name":"expected_version","in":"query","required":true,"schema":{"type":"integer","description":"Expected version for optimistic locking","title":"Expected Version"},"description":"Expected version for optimistic locking"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatSessionUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatSessionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["character chat sessions","Chat Sessions"],"summary":"Delete chat session","description":"Soft delete a chat session.\n\nArgs:\n    chat_id: Chat session ID\n    expected_version: Expected version for optimistic locking\n    db: Database instance\n    current_user: Authenticated user\n    \nRaises:\n    HTTPException: 404 if not found, 403 if unauthorized, 409 if version conflict","operationId":"delete_chat_session_api_v1_chats__chat_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"chat_id","in":"path","required":true,"schema":{"type":"string","description":"Chat session ID","title":"Chat Id"},"description":"Chat session ID"},{"name":"expected_version","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Expected version for optimistic locking","title":"Expected Version"},"description":"Expected version for optimistic locking"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chats/{chat_id}/context":{"get":{"tags":["character chat sessions","Chat Sessions"],"summary":"Get chat context for completions","description":"Return chat context formatted for chat completions.","operationId":"get_chat_context_api_v1_chats__chat_id__context_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"chat_id","in":"path","required":true,"schema":{"type":"string","description":"Chat session ID","title":"Chat Id"},"description":"Chat session ID"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chats/{chat_id}/complete":{"post":{"tags":["character chat sessions","Chat Sessions"],"summary":"Legacy completion endpoint with simple rate limit","description":"Legacy completion endpoint used by tests to validate rate limiting.\n\nApplies a very small per-conversation throttle when TEST_MODE=true so that\nburst requests trigger HTTP 429 as expected by tests.","operationId":"complete_chat_legacy_api_v1_chats__chat_id__complete_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"chat_id","in":"path","required":true,"schema":{"type":"string","description":"Chat session ID","title":"Chat Id"},"description":"Chat session ID"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chats/{chat_id}/export":{"get":{"tags":["character chat sessions","Chat Export"],"summary":"Export chat history","description":"Export chat history in various formats.\n\nArgs:\n    chat_id: Chat session ID to export\n    format: Export format\n    include_metadata: Whether to include metadata\n    include_character: Whether to include character info\n    db: Database instance\n    current_user: Authenticated user\n    \nReturns:\n    Chat history in requested format\n    \nRaises:\n    HTTPException: 404 if chat not found, 403 if unauthorized","operationId":"export_chat_history_api_v1_chats__chat_id__export_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"chat_id","in":"path","required":true,"schema":{"type":"string","description":"Chat session ID","title":"Chat Id"},"description":"Chat session ID"},{"name":"format","in":"query","required":false,"schema":{"type":"string","description":"Export format (json, markdown, text)","default":"json","title":"Format"},"description":"Export format (json, markdown, text)"},{"name":"include_metadata","in":"query","required":false,"schema":{"type":"boolean","description":"Include chat metadata","default":true,"title":"Include Metadata"},"description":"Include chat metadata"},{"name":"include_character","in":"query","required":false,"schema":{"type":"boolean","description":"Include character info","default":true,"title":"Include Character"},"description":"Include character info"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chats/{chat_id}/messages":{"post":{"tags":["character messages","Messages"],"summary":"Send a message in a chat","description":"Add a new message to a chat session.\n\nArgs:\n    chat_id: Chat session ID\n    message_data: Message content and metadata\n    db: Database instance\n    current_user: Authenticated user\n    \nReturns:\n    Created message details\n    \nRaises:\n    HTTPException: 404 if chat not found, 403 if unauthorized, 429 if rate limited","operationId":"send_message_api_v1_chats__chat_id__messages_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"chat_id","in":"path","required":true,"schema":{"type":"string","description":"Chat session ID","title":"Chat Id"},"description":"Chat session ID"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__chat_session_schemas__MessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["character messages","Messages"],"summary":"Get messages in a chat","description":"Get messages from a chat session.\n\nArgs:\n    chat_id: Chat session ID\n    limit: Maximum number of messages to return\n    offset: Number of messages to skip\n    include_deleted: Whether to include soft-deleted messages\n    include_character_context: Include character personality as system message\n    format_for_completions: Return in format ready for /api/v1/chat/completions\n    db: Database instance\n    current_user: Authenticated user\n    \nReturns:\n    List of messages with pagination info, or formatted for completions if requested\n    \nRaises:\n    HTTPException: 404 if chat not found, 403 if unauthorized","operationId":"get_chat_messages_api_v1_chats__chat_id__messages_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"chat_id","in":"path","required":true,"schema":{"type":"string","description":"Chat session ID","title":"Chat Id"},"description":"Chat session ID"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"description":"Number of messages to return","default":50,"title":"Limit"},"description":"Number of messages to return"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Number of messages to skip","default":0,"title":"Offset"},"description":"Number of messages to skip"},{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","description":"Include deleted messages","default":false,"title":"Include Deleted"},"description":"Include deleted messages"},{"name":"include_character_context","in":"query","required":false,"schema":{"type":"boolean","description":"Include character context for chat completions","default":false,"title":"Include Character Context"},"description":"Include character context for chat completions"},{"name":"format_for_completions","in":"query","required":false,"schema":{"type":"boolean","description":"Format messages for use with chat/completions endpoint","default":false,"title":"Format For Completions"},"description":"Format messages for use with chat/completions endpoint"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/messages/{message_id}":{"get":{"tags":["character messages","Messages"],"summary":"Get a specific message","description":"Get details of a specific message.\n\nArgs:\n    message_id: Message ID\n    db: Database instance\n    current_user: Authenticated user\n    \nReturns:\n    Message details\n    \nRaises:\n    HTTPException: 404 if not found, 403 if unauthorized","operationId":"get_message_api_v1_messages__message_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"message_id","in":"path","required":true,"schema":{"type":"string","description":"Message ID","title":"Message Id"},"description":"Message ID"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__chat_session_schemas__MessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["character messages","Messages"],"summary":"Edit a message","description":"Edit the content of a message.\n\nArgs:\n    message_id: Message ID to edit\n    update_data: New message content\n    expected_version: Expected version for optimistic locking\n    db: Database instance\n    current_user: Authenticated user\n    \nReturns:\n    Updated message details\n    \nRaises:\n    HTTPException: 404 if not found, 403 if unauthorized, 409 if version conflict","operationId":"edit_message_api_v1_messages__message_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"message_id","in":"path","required":true,"schema":{"type":"string","description":"Message ID","title":"Message Id"},"description":"Message ID"},{"name":"expected_version","in":"query","required":true,"schema":{"type":"integer","description":"Expected version for optimistic locking","title":"Expected Version"},"description":"Expected version for optimistic locking"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__chat_session_schemas__MessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["character messages","Messages"],"summary":"Delete a message","description":"Soft delete a message from a conversation.\n\nArgs:\n    message_id: Message ID to delete\n    expected_version: Expected version for optimistic locking\n    db: Database instance\n    current_user: Authenticated user\n    \nRaises:\n    HTTPException: 404 if not found, 403 if unauthorized, 409 if version conflict","operationId":"delete_message_api_v1_messages__message_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"message_id","in":"path","required":true,"schema":{"type":"string","description":"Message ID","title":"Message Id"},"description":"Message ID"},{"name":"expected_version","in":"query","required":true,"schema":{"type":"integer","description":"Expected version for optimistic locking","title":"Expected Version"},"description":"Expected version for optimistic locking"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chats/{chat_id}/messages/search":{"get":{"tags":["character messages","Messages"],"summary":"Search messages in a chat","description":"Search for messages in a chat session.\n\nArgs:\n    chat_id: Chat session ID\n    query: Search query string\n    limit: Maximum number of results\n    db: Database instance\n    current_user: Authenticated user\n    \nReturns:\n    List of matching messages\n    \nRaises:\n    HTTPException: 404 if chat not found, 403 if unauthorized","operationId":"search_messages_api_v1_chats__chat_id__messages_search_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"chat_id","in":"path","required":true,"schema":{"type":"string","description":"Chat session ID","title":"Chat Id"},"description":"Chat session ID"},{"name":"query","in":"query","required":true,"schema":{"type":"string","minLength":1,"description":"Search query","title":"Query"},"description":"Search query"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"description":"Maximum results","default":50,"title":"Limit"},"description":"Maximum results"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/metrics/json":{"get":{"tags":["metrics","Metrics"],"summary":"Get metrics in JSON format","description":"Get all metrics in JSON format.\n\nThis provides a more detailed view of metrics with statistics,\nuseful for debugging and custom monitoring solutions.","operationId":"get_json_metrics_api_v1_metrics_json_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Json Metrics Api V1 Metrics Json Get"}}}}}}},"/api/v1/metrics/health":{"get":{"tags":["metrics","Metrics"],"summary":"Health check with metrics","description":"Health check endpoint with basic metrics.\n\nReturns the health status of the application along with\nkey operational metrics.","operationId":"health_check_with_metrics_api_v1_metrics_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Health Check With Metrics Api V1 Metrics Health Get"}}}}}}},"/api/v1/metrics/chat":{"get":{"tags":["metrics","Metrics"],"summary":"Get chat-specific metrics","description":"Get detailed chat-specific metrics.\n\nThis endpoint provides metrics specifically related to the chat\nfunctionality, including:\n- Request counts by provider and model\n- Token usage and costs\n- Streaming statistics\n- Character and conversation metrics","operationId":"get_chat_metrics_endpoint_api_v1_metrics_chat_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Chat Metrics Endpoint Api V1 Metrics Chat Get"}}}}}}},"/api/v1/metrics/reset":{"post":{"tags":["metrics","Metrics"],"summary":"Reset metrics (admin only)","description":"Reset all metrics to their initial state.\n\nWARNING: This will clear all historical metrics data.\nThis endpoint should be protected with admin authentication\nin production.","operationId":"reset_metrics_api_v1_metrics_reset_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Reset Metrics Api V1 Metrics Reset Post"}}}}}}},"/api/v1/chunking/chunk_text":{"post":{"tags":["chunking","Text Processing","Chunking"],"summary":"Chunks provided text content based on specified options.","description":"Accepts text content and chunking options in a JSON body.\nReturns the text divided into chunks with associated metadata.\n\n- **text_content**: The raw string data to be chunked.\n- **file_name**: (Optional) A nominal filename for context.\n- **options**: (Optional) A dictionary specifying chunking parameters:\n    - **method**: e.g., 'words', 'sentences', 'json', 'semantic', 'xml', 'ebook_chapters'.\n    - **max_size**: Max size for chunks (depends on method).\n    - **overlap**: Overlap between chunks.\n    - **language**: e.g., 'en'. Auto-detected if None.\n    - **adaptive**: (bool) For methods that support it.\n    - **multi_level**: (bool) For methods that support it.\n    - **custom_chapter_pattern**: (str) Regex for 'ebook_chapters' method.\n    *(Refer to ChunkingOptionsRequest schema for all parameters and defaults)*","operationId":"process_text_for_chunking_json_api_v1_chunking_chunk_text_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChunkingTextRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChunkingResponse"}}}},"400":{"description":"Invalid input, options, or chunking error (e.g., invalid JSON in text for 'json' method)."},"422":{"description":"Validation error in request payload."},"500":{"description":"Internal server error during chunking."}}}},"/api/v1/chunking/chunk_file":{"post":{"tags":["chunking","Text Processing","Chunking"],"summary":"Uploads a file, chunks its content, and returns the chunks.","operationId":"process_file_for_chunking_api_v1_chunking_chunk_file_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_process_file_for_chunking_api_v1_chunking_chunk_file_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChunkingResponse"}}}},"400":{"description":"No file uploaded, or chunking error."},"422":{"description":"Validation error in form parameters."},"500":{"description":"Internal server error during chunking."}}}},"/api/v1/chunking/capabilities":{"get":{"tags":["chunking","Text Processing","Chunking"],"summary":"List chunking methods and defaults","operationId":"get_chunking_capabilities_api_v1_chunking_capabilities_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chunking/templates":{"get":{"tags":["chunking templates","Chunking Templates"],"summary":"List Templates","description":"List all available chunking templates with optional filtering.\n\nReturns:\n    List of chunking templates matching the filter criteria","operationId":"list_templates_api_v1_chunking_templates_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"include_builtin","in":"query","required":false,"schema":{"type":"boolean","description":"Include built-in templates","default":true,"title":"Include Builtin"},"description":"Include built-in templates"},{"name":"include_custom","in":"query","required":false,"schema":{"type":"boolean","description":"Include custom templates","default":true,"title":"Include Custom"},"description":"Include custom templates"},{"name":"tags","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"description":"Filter by tags","title":"Tags"},"description":"Filter by tags"},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by user ID","title":"User Id"},"description":"Filter by user ID"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChunkingTemplateListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["chunking templates","Chunking Templates"],"summary":"Create Template","description":"Create a new chunking template.\n\nArgs:\n    template_data: Template configuration and metadata\n    \nReturns:\n    The created chunking template\n    \nRaises:\n    400: Invalid template configuration\n    409: Template with same name already exists","operationId":"create_template_api_v1_chunking_templates_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChunkingTemplateCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChunkingTemplateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chunking/templates/{template_name}":{"get":{"tags":["chunking templates","Chunking Templates"],"summary":"Get Template","description":"Get a specific chunking template by name.\n\nArgs:\n    template_name: Name of the template to retrieve\n    \nReturns:\n    The requested chunking template\n    \nRaises:\n    404: Template not found","operationId":"get_template_api_v1_chunking_templates__template_name__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"template_name","in":"path","required":true,"schema":{"type":"string","title":"Template Name"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChunkingTemplateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["chunking templates","Chunking Templates"],"summary":"Update Template","description":"Update an existing chunking template.\n\nArgs:\n    template_name: Name of the template to update\n    template_update: Fields to update\n    \nReturns:\n    The updated chunking template\n    \nRaises:\n    400: Cannot modify built-in templates\n    404: Template not found","operationId":"update_template_api_v1_chunking_templates__template_name__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"template_name","in":"path","required":true,"schema":{"type":"string","title":"Template Name"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChunkingTemplateUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChunkingTemplateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["chunking templates","Chunking Templates"],"summary":"Delete Template","description":"Delete a chunking template.\n\nArgs:\n    template_name: Name of the template to delete\n    hard_delete: If true, permanently delete; otherwise soft delete\n    \nRaises:\n    400: Cannot delete built-in templates\n    404: Template not found","operationId":"delete_template_api_v1_chunking_templates__template_name__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"template_name","in":"path","required":true,"schema":{"type":"string","title":"Template Name"}},{"name":"hard_delete","in":"query","required":false,"schema":{"type":"boolean","description":"Permanently delete template","default":false,"title":"Hard Delete"},"description":"Permanently delete template"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chunking/templates/apply":{"post":{"tags":["chunking templates","Chunking Templates"],"summary":"Apply Template","description":"Apply a chunking template to text.\n\nArgs:\n    request: Template name and text to chunk\n    \nReturns:\n    The chunked text results\n    \nRaises:\n    404: Template not found\n    400: Template application error","operationId":"apply_template_api_v1_chunking_templates_apply_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"include_metadata","in":"query","required":false,"schema":{"type":"boolean","description":"Return chunk metadata; if false, return only text list","default":false,"title":"Include Metadata"},"description":"Return chunk metadata; if false, return only text list"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplyTemplateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplyTemplateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chunking/templates/validate":{"post":{"tags":["chunking templates","Chunking Templates"],"summary":"Validate Template","description":"Validate a template configuration without saving it.\n\nArgs:\n    template_config: Template configuration to validate\n    \nReturns:\n    Validation results with any errors or warnings","operationId":"validate_template_api_v1_chunking_templates_validate_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Template Config","description":"Template configuration to validate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TemplateValidationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chunking/templates/match":{"post":{"tags":["chunking templates","Chunking Templates"],"summary":"Match Templates","description":"Return templates ranked by a simple metadata-based score for auto-apply.","operationId":"match_templates_api_v1_chunking_templates_match_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"media_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Media Type"}},{"name":"title","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"}},{"name":"url","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"}},{"name":"filename","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Filename"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chunking/templates/learn":{"post":{"tags":["chunking templates","Chunking Templates"],"summary":"Learn Template","description":"Learn a basic hierarchical boundary template from an example text and optionally save it.","operationId":"learn_template_api_v1_chunking_templates_learn_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LearnTemplateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings":{"post":{"tags":["embeddings","Embeddings"],"summary":"Create embeddings (enhanced with circuit breaker)","description":"Create embeddings with circuit breaker protection and enhanced error recovery","operationId":"create_embedding_endpoint_api_v1_embeddings_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"x-provider","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Provider"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateEmbeddingRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateEmbeddingResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/models":{"get":{"tags":["embeddings","Embeddings"],"summary":"List available embedding models","description":"List configured/known models with allowlist status.","operationId":"list_embedding_models_api_v1_embeddings_models_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"}}}},"/api/v1/embeddings/models/warmup":{"post":{"tags":["embeddings","Embeddings"],"summary":"Warmup (preload) an embedding model (admin)","operationId":"warmup_model_api_v1_embeddings_models_warmup_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModelActionRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/models/download":{"post":{"tags":["embeddings","Embeddings"],"summary":"Download/prepare a model (admin)","operationId":"download_model_api_v1_embeddings_models_download_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModelActionRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/cache":{"delete":{"tags":["embeddings","Embeddings"],"summary":"Clear embedding cache (admin only)","description":"Clear the embedding cache - requires admin privileges","operationId":"clear_cache_api_v1_embeddings_cache_delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/health":{"get":{"tags":["embeddings","Embeddings"],"summary":"Health check with circuit breaker status","description":"Enhanced health check with circuit breaker status","operationId":"health_check_api_v1_embeddings_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"}}}},"/api/v1/embeddings/circuit-breakers":{"get":{"tags":["embeddings","Embeddings"],"summary":"Get circuit breaker status (admin only)","description":"Get detailed circuit breaker status - requires admin privileges","operationId":"get_circuit_breakers_api_v1_embeddings_circuit_breakers_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/circuit-breakers/{provider}/reset":{"post":{"tags":["embeddings","Embeddings"],"summary":"Reset circuit breaker (admin only)","description":"Reset specific circuit breaker - requires admin privileges","operationId":"reset_circuit_breaker_api_v1_embeddings_circuit_breakers__provider__reset_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"provider","in":"path","required":true,"schema":{"type":"string","title":"Provider"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/metrics":{"get":{"tags":["embeddings","Embeddings"],"summary":"Get service metrics (admin only)","description":"Get detailed service metrics - requires admin privileges","operationId":"get_metrics_api_v1_embeddings_metrics_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vector_stores":{"post":{"tags":["vector-stores","Vector Stores"],"summary":"Create Vector Store","operationId":"create_vector_store_api_v1_vector_stores_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VectorStoreCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VectorStoreObject"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["vector-stores","Vector Stores"],"summary":"List Vector Stores","operationId":"list_vector_stores_api_v1_vector_stores_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vector_stores/admin/users":{"get":{"tags":["vector-stores","Vector Stores"],"summary":"List Vector Store Users","operationId":"list_vector_store_users_api_v1_vector_stores_admin_users_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vector_stores/{store_id}":{"patch":{"tags":["vector-stores","Vector Stores"],"summary":"Update Vector Store","operationId":"update_vector_store_api_v1_vector_stores__store_id__patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"store_id","in":"path","required":true,"schema":{"type":"string","title":"Store Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VectorStoreUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VectorStoreObject"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["vector-stores","Vector Stores"],"summary":"Delete Vector Store","operationId":"delete_vector_store_api_v1_vector_stores__store_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"store_id","in":"path","required":true,"schema":{"type":"string","title":"Store Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["vector-stores","Vector Stores"],"summary":"Get Vector Store","description":"Fetch a single vector store by id.\n\nPlaced after batch/admin routes to avoid path shadowing of '/vector_stores/batches'.","operationId":"get_vector_store_api_v1_vector_stores__store_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"store_id","in":"path","required":true,"schema":{"type":"string","title":"Store Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VectorStoreObject"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vector_stores/{store_id}/vectors":{"post":{"tags":["vector-stores","Vector Stores"],"summary":"Upsert Vectors","operationId":"upsert_vectors_api_v1_vector_stores__store_id__vectors_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"store_id","in":"path","required":true,"schema":{"type":"string","title":"Store Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpsertVectorsRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["vector-stores","Vector Stores"],"summary":"List Vectors","operationId":"list_vectors_api_v1_vector_stores__store_id__vectors_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"store_id","in":"path","required":true,"schema":{"type":"string","title":"Store Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"exclusiveMinimum":1,"default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vector_stores/{store_id}/duplicate":{"post":{"tags":["vector-stores","Vector Stores"],"summary":"Duplicate Vector Store","operationId":"duplicate_vector_store_api_v1_vector_stores__store_id__duplicate_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"store_id","in":"path","required":true,"schema":{"type":"string","title":"Store Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DuplicateStoreRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vector_stores/{store_id}/vectors/{vector_id}":{"delete":{"tags":["vector-stores","Vector Stores"],"summary":"Delete Vector","operationId":"delete_vector_api_v1_vector_stores__store_id__vectors__vector_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"store_id","in":"path","required":true,"schema":{"type":"string","title":"Store Id"}},{"name":"vector_id","in":"path","required":true,"schema":{"type":"string","title":"Vector Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vector_stores/{store_id}/query":{"post":{"tags":["vector-stores","Vector Stores"],"summary":"Query Vectors","operationId":"query_vectors_api_v1_vector_stores__store_id__query_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"store_id","in":"path","required":true,"schema":{"type":"string","title":"Store Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QueryRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vector_stores/{store_id}/vectors/batches":{"post":{"tags":["vector-stores","Vector Stores"],"summary":"Upsert Vectors Batch","operationId":"upsert_vectors_batch_api_v1_vector_stores__store_id__vectors_batches_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"store_id","in":"path","required":true,"schema":{"type":"string","title":"Store Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpsertVectorsRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vector_stores/{store_id}/vectors/batches/{batch_id}":{"get":{"tags":["vector-stores","Vector Stores"],"summary":"Get Batch Status","operationId":"get_batch_status_api_v1_vector_stores__store_id__vectors_batches__batch_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"store_id","in":"path","required":true,"schema":{"type":"string","title":"Store Id"}},{"name":"batch_id","in":"path","required":true,"schema":{"type":"string","title":"Batch Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vector_stores/batches":{"get":{"tags":["vector-stores","Vector Stores"],"summary":"List Vector Batches","operationId":"list_vector_batches_api_v1_vector_stores_batches_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"exclusiveMinimum":0,"default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Admin-only: override user id to view their batches","title":"User Id"},"description":"Admin-only: override user id to view their batches"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vector_stores/create_from_media":{"post":{"tags":["vector-stores","Vector Stores"],"summary":"Create Store From Media","operationId":"create_store_from_media_api_v1_vector_stores_create_from_media_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateFromMediaRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/claims/{media_id}":{"get":{"tags":["claims"],"summary":"List Claims","operationId":"list_claims_api_v1_claims__media_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"media_id","in":"path","required":true,"schema":{"type":"integer","title":"Media Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":true},"title":"Response List Claims Api V1 Claims  Media Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/claims/{media_id}/rebuild":{"post":{"tags":["claims"],"summary":"Rebuild Claims","operationId":"rebuild_claims_api_v1_claims__media_id__rebuild_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"media_id","in":"path","required":true,"schema":{"type":"integer","title":"Media Id"}},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Rebuild Claims Api V1 Claims  Media Id  Rebuild Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/claims/rebuild/all":{"post":{"tags":["claims"],"summary":"Rebuild All Media","description":"Enqueue rebuild tasks for all media for the current user based on policy:\n- missing: media with no non-deleted claims\n- all: all media\n- stale: media where MAX(Claims.last_modified) < Media.last_modified","operationId":"rebuild_all_media_api_v1_claims_rebuild_all_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"policy","in":"query","required":false,"schema":{"type":"string","default":"missing","title":"Policy"}},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Rebuild All Media Api V1 Claims Rebuild All Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/claims/rebuild_fts":{"post":{"tags":["claims"],"summary":"Rebuild Claims Fts","description":"Rebuild claims_fts index from Claims content.","operationId":"rebuild_claims_fts_api_v1_claims_rebuild_fts_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Rebuild Claims Fts Api V1 Claims Rebuild Fts Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/{media_id}/embeddings/status":{"get":{"tags":["media-embeddings","Media Embeddings"],"summary":"Get Embeddings Status","description":"Check if embeddings exist for a media item","operationId":"get_embeddings_status_api_v1_media__media_id__embeddings_status_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"media_id","in":"path","required":true,"schema":{"type":"integer","title":"Media Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmbeddingsStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/{media_id}/embeddings":{"post":{"tags":["media-embeddings","Media Embeddings"],"summary":"Generate Embeddings","description":"Generate embeddings for a media item","operationId":"generate_embeddings_api_v1_media__media_id__embeddings_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"media_id","in":"path","required":true,"schema":{"type":"integer","title":"Media Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateEmbeddingsRequest","default":{"chunk_size":1000,"chunk_overlap":200,"force_regenerate":false}}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateEmbeddingsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["media-embeddings","Media Embeddings"],"summary":"Delete Embeddings","description":"Delete embeddings for a media item","operationId":"delete_embeddings_api_v1_media__media_id__embeddings_delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"media_id","in":"path","required":true,"schema":{"type":"integer","title":"Media Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Delete Embeddings Api V1 Media  Media Id  Embeddings Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/embeddings/jobs/{job_id}":{"get":{"tags":["media-embeddings","Media Embeddings"],"summary":"Get Media Embedding Job","operationId":"get_media_embedding_job_api_v1_media_embeddings_jobs__job_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/embeddings/jobs":{"get":{"tags":["media-embeddings","Media Embeddings"],"summary":"List Media Embedding Jobs","operationId":"list_media_embedding_jobs_api_v1_media_embeddings_jobs_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notes/health":{"get":{"tags":["notes","Notes"],"summary":"Notes service health","description":"Lightweight health endpoint for the Notes subsystem.","operationId":"notes_health_api_v1_notes_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Notes Health Api V1 Notes Health Get"}}}}}}},"/api/v1/notes/":{"post":{"tags":["notes","Notes"],"summary":"Create a new note","operationId":"create_note_api_v1_notes__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["notes","Notes"],"summary":"List all notes for the current user","operationId":"list_notes_api_v1_notes__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"Number of notes to return","default":100,"title":"Limit"},"description":"Number of notes to return"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Offset for pagination","default":0,"title":"Offset"},"description":"Offset for pagination"},{"name":"include_keywords","in":"query","required":false,"schema":{"type":"boolean","description":"If true, include linked keywords inline per note","default":false,"title":"Include Keywords"},"description":"If true, include linked keywords inline per note"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response List Notes Api V1 Notes  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notes/{note_id}":{"get":{"tags":["notes","Notes"],"summary":"Get a specific note by ID","operationId":"get_note_api_v1_notes__note_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"note_id","in":"path","required":true,"schema":{"type":"string","title":"Note Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteResponse"}}}},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailResponse"}}},"description":"Not Found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["notes","Notes"],"summary":"Update an existing note","operationId":"update_note_api_v1_notes__note_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"note_id","in":"path","required":true,"schema":{"type":"string","title":"Note Id"}},{"name":"expected-version","in":"header","required":true,"schema":{"type":"integer","description":"The expected version of the note for optimistic locking","title":"Expected-Version"},"description":"The expected version of the note for optimistic locking"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteResponse"}}}},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailResponse"}}},"description":"Not Found"},"409":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailResponse"}}},"description":"Conflict"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["notes","Notes"],"summary":"Partially update an existing note","description":"PATCH variant that allows updates without an explicit expected-version header.\nIf header is not provided, it fetches current version and applies the update.","operationId":"patch_note_api_v1_notes__note_id__patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"note_id","in":"path","required":true,"schema":{"type":"string","title":"Note Id"}},{"name":"expected-version","in":"header","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Optional expected version for optimistic locking","title":"Expected-Version"},"description":"Optional expected version for optimistic locking"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteResponse"}}}},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailResponse"}}},"description":"Not Found"},"409":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailResponse"}}},"description":"Conflict"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["notes","Notes"],"summary":"Soft-delete a note","operationId":"delete_note_api_v1_notes__note_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"note_id","in":"path","required":true,"schema":{"type":"string","title":"Note Id"}},{"name":"expected-version","in":"header","required":true,"schema":{"type":"integer","description":"The expected version of the note for optimistic locking","title":"Expected-Version"},"description":"The expected version of the note for optimistic locking"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"204":{"description":"Successful Response"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailResponse"}}},"description":"Not Found"},"409":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailResponse"}}},"description":"Conflict"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notes/search/":{"get":{"tags":["notes","Notes"],"summary":"Search notes for the current user","operationId":"search_notes_endpoint_api_v1_notes_search__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","minLength":1,"description":"Search term for notes","title":"Query"},"description":"Search term for notes"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Number of results to return","default":10,"title":"Limit"},"description":"Number of results to return"},{"name":"include_keywords","in":"query","required":false,"schema":{"type":"boolean","description":"If true, include linked keywords inline per note","default":false,"title":"Include Keywords"},"description":"If true, include linked keywords inline per note"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/NoteResponse"},"title":"Response Search Notes Endpoint Api V1 Notes Search  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notes/bulk":{"post":{"tags":["notes","Notes"],"summary":"Bulk create notes with optional keywords","operationId":"bulk_create_notes_api_v1_notes_bulk_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteBulkCreateRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteBulkCreateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notes/keywords/":{"post":{"tags":["notes","Keywords (for Notes)"],"summary":"Create a new keyword","operationId":"create_keyword_api_v1_notes_keywords__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__notes_schemas__KeywordCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__notes_schemas__KeywordResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["notes","Keywords (for Notes)"],"summary":"List all keywords for the current user","operationId":"list_keywords_endpoint_api_v1_notes_keywords__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__notes_schemas__KeywordResponse"},"title":"Response List Keywords Endpoint Api V1 Notes Keywords  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notes/keywords/{keyword_id}":{"get":{"tags":["notes","Keywords (for Notes)"],"summary":"Get a keyword by its ID","operationId":"get_keyword_api_v1_notes_keywords__keyword_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"keyword_id","in":"path","required":true,"schema":{"type":"integer","title":"Keyword Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__notes_schemas__KeywordResponse"}}}},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailResponse"}}},"description":"Not Found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["notes","Keywords (for Notes)"],"summary":"Soft-delete a keyword","operationId":"delete_keyword_api_v1_notes_keywords__keyword_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"keyword_id","in":"path","required":true,"schema":{"type":"integer","title":"Keyword Id"}},{"name":"expected-version","in":"header","required":true,"schema":{"type":"integer","description":"The expected version of the keyword for optimistic locking","title":"Expected-Version"},"description":"The expected version of the keyword for optimistic locking"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"204":{"description":"Successful Response"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailResponse"}}},"description":"Not Found"},"409":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailResponse"}}},"description":"Conflict"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notes/keywords/text/{keyword_text}":{"get":{"tags":["notes","Keywords (for Notes)"],"summary":"Get a keyword by its text content","operationId":"get_keyword_by_text_api_v1_notes_keywords_text__keyword_text__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"keyword_text","in":"path","required":true,"schema":{"type":"string","title":"Keyword Text"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__notes_schemas__KeywordResponse"}}}},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailResponse"}}},"description":"Not Found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notes/keywords/search/":{"get":{"tags":["notes","Keywords (for Notes)"],"summary":"Search keywords for the current user","operationId":"search_keywords_endpoint_api_v1_notes_keywords_search__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","minLength":1,"description":"Search term for keywords","title":"Query"},"description":"Search term for keywords"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__notes_schemas__KeywordResponse"},"title":"Response Search Keywords Endpoint Api V1 Notes Keywords Search  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notes/{note_id}/keywords/{keyword_id}":{"post":{"tags":["notes","Notes Linking"],"summary":"Link a note to a keyword","operationId":"link_note_to_keyword_endpoint_api_v1_notes__note_id__keywords__keyword_id__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"note_id","in":"path","required":true,"schema":{"type":"string","title":"Note Id"}},{"name":"keyword_id","in":"path","required":true,"schema":{"type":"integer","title":"Keyword Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteKeywordLinkResponse"}}}},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailResponse"}}},"description":"Not Found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["notes","Notes Linking"],"summary":"Unlink a note from a keyword","operationId":"unlink_note_from_keyword_endpoint_api_v1_notes__note_id__keywords__keyword_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"note_id","in":"path","required":true,"schema":{"type":"string","title":"Note Id"}},{"name":"keyword_id","in":"path","required":true,"schema":{"type":"integer","title":"Keyword Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteKeywordLinkResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notes/{note_id}/keywords/":{"get":{"tags":["notes","Notes Linking"],"summary":"Get all keywords linked to a note","operationId":"get_keywords_for_note_endpoint_api_v1_notes__note_id__keywords__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"note_id","in":"path","required":true,"schema":{"type":"string","title":"Note Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/KeywordsForNoteResponse"}}}},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailResponse"}}},"description":"Not Found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notes/keywords/{keyword_id}/notes/":{"get":{"tags":["notes","Notes Linking"],"summary":"Get all notes linked to a keyword","operationId":"get_notes_for_keyword_endpoint_api_v1_notes_keywords__keyword_id__notes__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"keyword_id","in":"path","required":true,"schema":{"type":"integer","title":"Keyword Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotesForKeywordResponse"}}}},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailResponse"}}},"description":"Not Found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompts/health":{"get":{"tags":["prompts","Prompts"],"summary":"Prompts service health","description":"Lightweight health endpoint for the Prompts subsystem.","operationId":"prompts_health_api_v1_prompts_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/prompts/sync-log":{"get":{"tags":["prompts"],"summary":"Get sync log entries (admin/debug)","operationId":"get_sync_log_api_v1_prompts_sync_log_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"since_change_id","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Since Change Id"}},{"name":"limit","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":1000,"minimum":1},{"type":"null"}],"default":100,"title":"Limit"}},{"name":"Token","in":"header","required":false,"schema":{"type":"string","title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SyncLogEntryResponse"},"title":"Response Get Sync Log Api V1 Prompts Sync Log Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompts/search":{"post":{"tags":["prompts"],"summary":"Search prompts","operationId":"search_all_prompts_api_v1_prompts_search_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"search_query","in":"query","required":true,"schema":{"type":"string","minLength":1,"description":"Search term(s)","title":"Search Query"},"description":"Search term(s)"},{"name":"search_fields","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"description":"Fields to search: name, author, details, system_prompt, user_prompt, keywords","title":"Search Fields"},"description":"Fields to search: name, author, details, system_prompt, user_prompt, keywords"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Results Per Page"}},{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Deleted"}},{"name":"Token","in":"header","required":false,"schema":{"type":"string","title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromptSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompts/keywords/":{"post":{"tags":["prompts"],"summary":"Add a new keyword","operationId":"create_keyword_api_v1_prompts_keywords__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"Token","in":"header","required":false,"schema":{"type":"string","title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__prompt_schemas__KeywordCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__prompt_schemas__KeywordResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["prompts"],"summary":"List all active keywords","operationId":"list_all_keywords_api_v1_prompts_keywords__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"Token","in":"header","required":false,"schema":{"type":"string","title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"string"},"title":"Response List All Keywords Api V1 Prompts Keywords  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompts/keywords/{keyword_text}":{"delete":{"tags":["prompts"],"summary":"Soft delete a keyword","operationId":"delete_keyword_api_v1_prompts_keywords__keyword_text__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"keyword_text","in":"path","required":true,"schema":{"type":"string","title":"Keyword Text"}},{"name":"Token","in":"header","required":false,"schema":{"type":"string","title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompts/export":{"get":{"tags":["prompts"],"summary":"Export prompts to CSV or Markdown (as base64 string)","operationId":"export_prompts_api_api_v1_prompts_export_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"export_format","in":"query","required":false,"schema":{"type":"string","enum":["csv","markdown"],"default":"csv","title":"Export Format"}},{"name":"filter_keywords","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"title":"Filter Keywords"}},{"name":"include_system","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Include System"}},{"name":"include_user","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Include User"}},{"name":"include_details","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Include Details"}},{"name":"include_author","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Include Author"}},{"name":"include_associated_keywords","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Include Associated Keywords"}},{"name":"markdown_template_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"Basic Template","title":"Markdown Template Name"}},{"name":"Token","in":"header","required":false,"schema":{"type":"string","title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExportResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompts/keywords/export-csv":{"get":{"tags":["prompts"],"summary":"Export all prompt keywords with associations to CSV (as base64 string)","operationId":"export_keywords_api_api_v1_prompts_keywords_export_csv_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"Token","in":"header","required":false,"schema":{"type":"string","title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExportResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompts/create":{"post":{"tags":["prompts"],"summary":"Create prompt (compatibility)","operationId":"create_prompt_compat_api_v1_prompts_create_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"Token","in":"header","required":false,"schema":{"type":"string","title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompts":{"post":{"tags":["prompts"],"summary":"Create a new prompt [no-slash alias]","operationId":"create_prompt_api_v1_prompts_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"Token","in":"header","required":false,"schema":{"type":"string","title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__prompt_schemas__PromptCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromptResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["prompts"],"summary":"List all prompts (paginated) [no-slash alias]","operationId":"list_all_prompts_api_v1_prompts_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":10,"title":"Per Page"},"description":"Items per page"},{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","description":"Include soft-deleted prompts","default":false,"title":"Include Deleted"},"description":"Include soft-deleted prompts"},{"name":"Token","in":"header","required":false,"schema":{"type":"string","title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedPromptsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompts/":{"post":{"tags":["prompts"],"summary":"Create a new prompt","operationId":"create_prompt_api_v1_prompts__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"Token","in":"header","required":false,"schema":{"type":"string","title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__prompt_schemas__PromptCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromptResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["prompts"],"summary":"List all prompts (paginated)","operationId":"list_all_prompts_api_v1_prompts__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":10,"title":"Per Page"},"description":"Items per page"},{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","description":"Include soft-deleted prompts","default":false,"title":"Include Deleted"},"description":"Include soft-deleted prompts"},{"name":"Token","in":"header","required":false,"schema":{"type":"string","title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedPromptsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompts/{prompt_identifier}":{"get":{"tags":["prompts"],"summary":"Get a specific prompt by ID, UUID, or Name","operationId":"get_prompt_api_v1_prompts__prompt_identifier__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"prompt_identifier","in":"path","required":true,"schema":{"anyOf":[{"type":"integer"},{"type":"string"}],"title":"Prompt Identifier"}},{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","description":"Include if soft-deleted","default":false,"title":"Include Deleted"},"description":"Include if soft-deleted"},{"name":"Token","in":"header","required":false,"schema":{"type":"string","title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromptResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["prompts"],"summary":"Update an existing prompt (or create if name matches and overwrite=true logic used)","operationId":"update_prompt_api_v1_prompts__prompt_identifier__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"prompt_identifier","in":"path","required":true,"schema":{"anyOf":[{"type":"integer"},{"type":"string"}],"title":"Prompt Identifier"}},{"name":"Token","in":"header","required":false,"schema":{"type":"string","title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__prompt_schemas__PromptCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromptResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["prompts"],"summary":"Soft delete a prompt","operationId":"delete_prompt_api_v1_prompts__prompt_identifier__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"prompt_identifier","in":"path","required":true,"schema":{"anyOf":[{"type":"integer"},{"type":"string"}],"title":"Prompt Identifier"}},{"name":"Token","in":"header","required":false,"schema":{"type":"string","title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompts/collections/create":{"post":{"tags":["prompts"],"summary":"Create a prompt collection (minimal)","operationId":"create_collection_api_v1_prompts_collections_create_post","parameters":[{"name":"Token","in":"header","required":false,"schema":{"type":"string","title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"type":"string","title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompts/collections/{collection_id}":{"get":{"tags":["prompts"],"summary":"Get a prompt collection (minimal)","operationId":"get_collection_api_v1_prompts_collections__collection_id__get","parameters":[{"name":"collection_id","in":"path","required":true,"schema":{"type":"integer","title":"Collection Id"}},{"name":"Token","in":"header","required":false,"schema":{"type":"string","title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"type":"string","title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/projects/":{"post":{"tags":["Prompt Studio","Prompt Studio - Projects"],"summary":"Create Project","description":"Create a new Prompt Studio project.\n\nArgs:\n    project_data: Project creation data\n    user_context: Current user context\n    db: Database instance\n    \nReturns:\n    Created project details","operationId":"create_project_api_v1_prompt_studio_projects__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Prompt Studio","Prompt Studio - Projects"],"summary":"List Projects","description":"List projects for the current user.\n\nArgs:\n    page: Page number\n    per_page: Items per page\n    status: Filter by project status\n    include_deleted: Include soft-deleted projects\n    search: Search query\n    user_context: Current user context\n    db: Database instance\n    \nReturns:\n    Paginated list of projects","operationId":"list_projects_api_v1_prompt_studio_projects__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":20,"title":"Per Page"},"description":"Items per page"},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by status","title":"Status"},"description":"Filter by status"},{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","description":"Include deleted projects","default":false,"title":"Include Deleted"},"description":"Include deleted projects"},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search in name and description","title":"Search"},"description":"Search in name and description"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/projects/get/{project_id}":{"get":{"tags":["Prompt Studio","Prompt Studio - Projects"],"summary":"Get Project","description":"Get a specific project by ID.\n\nArgs:\n    project_id: Project ID\n    db: Database instance\n    \nReturns:\n    Project details","operationId":"get_project_api_v1_prompt_studio_projects_get__project_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/projects/update/{project_id}":{"put":{"tags":["Prompt Studio","Prompt Studio - Projects"],"summary":"Update Project","description":"Update a project.\n\nArgs:\n    project_id: Project ID\n    updates: Fields to update\n    db: Database instance\n    user_context: Current user context\n    \nReturns:\n    Updated project details","operationId":"update_project_api_v1_prompt_studio_projects_update__project_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/projects/delete/{project_id}":{"delete":{"tags":["Prompt Studio","Prompt Studio - Projects"],"summary":"Delete Project","description":"Delete a project (soft delete by default).\n\nArgs:\n    project_id: Project ID\n    permanent: If True, permanently delete the project\n    db: Database instance\n    user_context: Current user context\n    \nReturns:\n    Success response","operationId":"delete_project_api_v1_prompt_studio_projects_delete__project_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"permanent","in":"query","required":false,"schema":{"type":"boolean","description":"Permanently delete (cannot be undone)","default":false,"title":"Permanent"},"description":"Permanently delete (cannot be undone)"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/projects/archive/{project_id}":{"post":{"tags":["Prompt Studio","Prompt Studio - Projects"],"summary":"Archive Project","description":"Archive a project (set status to archived).\n\nArgs:\n    project_id: Project ID\n    db: Database instance\n    user_context: Current user context\n    \nReturns:\n    Updated project details","operationId":"archive_project_api_v1_prompt_studio_projects_archive__project_id__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/projects/unarchive/{project_id}":{"post":{"tags":["Prompt Studio","Prompt Studio - Projects"],"summary":"Unarchive Project","description":"Unarchive a project (set status to active).\n\nArgs:\n    project_id: Project ID\n    db: Database instance\n    user_context: Current user context\n    \nReturns:\n    Updated project details","operationId":"unarchive_project_api_v1_prompt_studio_projects_unarchive__project_id__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/projects/stats/{project_id}":{"get":{"tags":["Prompt Studio","Prompt Studio - Projects"],"summary":"Get Project Stats","description":"Get statistics for a project.\n\nArgs:\n    project_id: Project ID\n    db: Database instance\n    \nReturns:\n    Project statistics","operationId":"get_project_stats_api_v1_prompt_studio_projects_stats__project_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/prompts/create":{"post":{"tags":["Prompt Studio","Prompt Studio - Prompts"],"summary":"Create Prompt","description":"Create a new prompt in a project.\n\nArgs:\n    prompt_data: Prompt creation data\n    db: Database instance\n    security_config: Security configuration\n    user_context: Current user context\n    \nReturns:\n    Created prompt details","operationId":"create_prompt_api_v1_prompt_studio_prompts_create_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__prompt_studio_project__PromptCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/prompts/list/{project_id}":{"get":{"tags":["Prompt Studio","Prompt Studio - Prompts"],"summary":"List Prompts","description":"List prompts in a project.\n\nArgs:\n    project_id: Project ID\n    page: Page number\n    per_page: Items per page\n    include_deleted: Include soft-deleted prompts\n    db: Database instance\n    \nReturns:\n    Paginated list of prompts","operationId":"list_prompts_api_v1_prompt_studio_prompts_list__project_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":20,"title":"Per Page"},"description":"Items per page"},{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","description":"Include deleted prompts","default":false,"title":"Include Deleted"},"description":"Include deleted prompts"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/prompts/get/{prompt_id}":{"get":{"tags":["Prompt Studio","Prompt Studio - Prompts"],"summary":"Get Prompt","description":"Get a specific prompt by ID.\n\nArgs:\n    prompt_id: Prompt ID\n    db: Database instance\n    \nReturns:\n    Prompt details","operationId":"get_prompt_api_v1_prompt_studio_prompts_get__prompt_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"prompt_id","in":"path","required":true,"schema":{"type":"integer","description":"Prompt ID","title":"Prompt Id"},"description":"Prompt ID"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/prompts/update/{prompt_id}":{"put":{"tags":["Prompt Studio","Prompt Studio - Prompts"],"summary":"Update Prompt","description":"Update a prompt (creates a new version).\n\nArgs:\n    prompt_id: Prompt ID\n    updates: Fields to update\n    db: Database instance\n    security_config: Security configuration\n    user_context: Current user context\n    \nReturns:\n    New prompt version details","operationId":"update_prompt_api_v1_prompt_studio_prompts_update__prompt_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"prompt_id","in":"path","required":true,"schema":{"type":"integer","description":"Prompt ID","title":"Prompt Id"},"description":"Prompt ID"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromptUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/prompts/history/{prompt_id}":{"get":{"tags":["Prompt Studio","Prompt Studio - Prompts"],"summary":"Get Prompt History","description":"Get version history for a prompt.\n\nArgs:\n    prompt_id: Prompt ID\n    db: Database instance\n    \nReturns:\n    List of prompt versions","operationId":"get_prompt_history_api_v1_prompt_studio_prompts_history__prompt_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"prompt_id","in":"path","required":true,"schema":{"type":"integer","description":"Prompt ID","title":"Prompt Id"},"description":"Prompt ID"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/prompts/revert/{prompt_id}/{version}":{"post":{"tags":["Prompt Studio","Prompt Studio - Prompts"],"summary":"Revert Prompt","description":"Revert a prompt to a previous version (creates a new version).\n\nArgs:\n    prompt_id: Current prompt ID\n    version: Version number to revert to\n    db: Database instance\n    user_context: Current user context\n    \nReturns:\n    New prompt version details","operationId":"revert_prompt_api_v1_prompt_studio_prompts_revert__prompt_id___version__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"prompt_id","in":"path","required":true,"schema":{"type":"integer","description":"Current prompt ID","title":"Prompt Id"},"description":"Current prompt ID"},{"name":"version","in":"path","required":true,"schema":{"type":"integer","description":"Version number to revert to","title":"Version"},"description":"Version number to revert to"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/test-cases/create":{"post":{"tags":["Prompt Studio","Prompt Studio - Test Cases"],"summary":"Create Test Case","description":"Create a new test case.\n\nArgs:\n    test_case_data: Test case creation data\n    db: Database instance\n    security_config: Security configuration\n    user_context: Current user context\n    \nReturns:\n    Created test case details","operationId":"create_test_case_api_v1_prompt_studio_test_cases_create_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TestCaseCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/test-cases/bulk":{"post":{"tags":["Prompt Studio","Prompt Studio - Test Cases"],"summary":"Create Bulk Test Cases","description":"Create multiple test cases at once.\n\nArgs:\n    bulk_data: Bulk test case creation data\n    db: Database instance\n    security_config: Security configuration\n    user_context: Current user context\n    \nReturns:\n    List of created test cases","operationId":"create_bulk_test_cases_api_v1_prompt_studio_test_cases_bulk_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TestCaseBulkCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/test-cases/list/{project_id}":{"get":{"tags":["Prompt Studio","Prompt Studio - Test Cases"],"summary":"List Test Cases","description":"List test cases in a project.\n\nArgs:\n    project_id: Project ID\n    page: Page number\n    per_page: Items per page\n    is_golden: Filter by golden status\n    tags: Filter by tags\n    search: Search query\n    signature_id: Filter by signature\n    db: Database instance\n    \nReturns:\n    Paginated list of test cases","operationId":"list_test_cases_api_v1_prompt_studio_test_cases_list__project_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":20,"title":"Per Page"},"description":"Items per page"},{"name":"is_golden","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter by golden status","title":"Is Golden"},"description":"Filter by golden status"},{"name":"tags","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Comma-separated tags to filter","title":"Tags"},"description":"Comma-separated tags to filter"},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search in name and description","title":"Search"},"description":"Search in name and description"},{"name":"signature_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by signature","title":"Signature Id"},"description":"Filter by signature"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/test-cases/get/{test_case_id}":{"get":{"tags":["Prompt Studio","Prompt Studio - Test Cases"],"summary":"Get Test Case","description":"Get a specific test case by ID.\n\nArgs:\n    test_case_id: Test case ID\n    db: Database instance\n    \nReturns:\n    Test case details","operationId":"get_test_case_api_v1_prompt_studio_test_cases_get__test_case_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"test_case_id","in":"path","required":true,"schema":{"type":"integer","description":"Test case ID","title":"Test Case Id"},"description":"Test case ID"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/test-cases/update/{test_case_id}":{"put":{"tags":["Prompt Studio","Prompt Studio - Test Cases"],"summary":"Update Test Case","description":"Update a test case.\n\nArgs:\n    test_case_id: Test case ID\n    updates: Fields to update\n    db: Database instance\n    user_context: Current user context\n    \nReturns:\n    Updated test case details","operationId":"update_test_case_api_v1_prompt_studio_test_cases_update__test_case_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"test_case_id","in":"path","required":true,"schema":{"type":"integer","description":"Test case ID","title":"Test Case Id"},"description":"Test case ID"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TestCaseUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/test-cases/delete/{test_case_id}":{"delete":{"tags":["Prompt Studio","Prompt Studio - Test Cases"],"summary":"Delete Test Case","description":"Delete a test case.\n\nArgs:\n    test_case_id: Test case ID\n    permanent: If True, permanently delete\n    db: Database instance\n    user_context: Current user context\n    \nReturns:\n    Success response","operationId":"delete_test_case_api_v1_prompt_studio_test_cases_delete__test_case_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"test_case_id","in":"path","required":true,"schema":{"type":"integer","description":"Test case ID","title":"Test Case Id"},"description":"Test case ID"},{"name":"permanent","in":"query","required":false,"schema":{"type":"boolean","description":"Permanently delete","default":false,"title":"Permanent"},"description":"Permanently delete"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/test-cases/import":{"post":{"tags":["Prompt Studio","Prompt Studio - Test Cases"],"summary":"Import Test Cases","description":"Import test cases from CSV or JSON.\n\nArgs:\n    import_data: Import request data\n    db: Database instance\n    security_config: Security configuration\n    user_context: Current user context\n    \nReturns:\n    Import results","operationId":"import_test_cases_api_v1_prompt_studio_test_cases_import_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TestCaseImportRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/test-cases/export/{project_id}":{"post":{"tags":["Prompt Studio","Prompt Studio - Test Cases"],"summary":"Export Test Cases","description":"Export test cases to CSV or JSON.\n\nArgs:\n    project_id: Project ID\n    export_request: Export configuration\n    db: Database instance\n    \nReturns:\n    Exported data","operationId":"export_test_cases_api_v1_prompt_studio_test_cases_export__project_id__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","description":"Project ID","title":"Project Id"},"description":"Project ID"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TestCaseExportRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/test-cases/generate":{"post":{"tags":["Prompt Studio","Prompt Studio - Test Cases"],"summary":"Generate Test Cases","description":"Auto-generate test cases.\n\nArgs:\n    generate_request: Generation configuration\n    db: Database instance\n    security_config: Security configuration\n    user_context: Current user context\n    \nReturns:\n    Generated test cases","operationId":"generate_test_cases_api_v1_prompt_studio_test_cases_generate_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TestCaseGenerateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/optimizations/create":{"post":{"tags":["Prompt Studio","Prompt Studio - Optimizations"],"summary":"Create Optimization","description":"Create and start a new optimization.\n\nArgs:\n    optimization_data: Optimization configuration\n    background_tasks: Background task manager\n    db: Database instance\n    security_config: Security configuration\n    user_context: Current user context\n    \nReturns:\n    Created optimization details","operationId":"create_optimization_api_v1_prompt_studio_optimizations_create_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OptimizationCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/optimizations/list/{project_id}":{"get":{"tags":["Prompt Studio","Prompt Studio - Optimizations"],"summary":"List Optimizations","description":"List optimizations for a project.\n\nArgs:\n    project_id: Project ID\n    page: Page number\n    per_page: Items per page\n    status: Optional status filter\n    db: Database instance\n    \nReturns:\n    Paginated list of optimizations","operationId":"list_optimizations_api_v1_prompt_studio_optimizations_list__project_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":20,"title":"Per Page"},"description":"Items per page"},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by status","title":"Status"},"description":"Filter by status"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/optimizations/get/{optimization_id}":{"get":{"tags":["Prompt Studio","Prompt Studio - Optimizations"],"summary":"Get Optimization","description":"Get optimization details.\n\nArgs:\n    optimization_id: Optimization ID\n    db: Database instance\n    \nReturns:\n    Optimization details","operationId":"get_optimization_api_v1_prompt_studio_optimizations_get__optimization_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"optimization_id","in":"path","required":true,"schema":{"type":"integer","description":"Optimization ID","title":"Optimization Id"},"description":"Optimization ID"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/optimizations/cancel/{optimization_id}":{"post":{"tags":["Prompt Studio","Prompt Studio - Optimizations"],"summary":"Cancel Optimization","description":"Cancel a running optimization.\n\nArgs:\n    optimization_id: Optimization ID\n    reason: Optional cancellation reason\n    db: Database instance\n    user_context: Current user context\n    \nReturns:\n    Success response","operationId":"cancel_optimization_api_v1_prompt_studio_optimizations_cancel__optimization_id__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"optimization_id","in":"path","required":true,"schema":{"type":"integer","description":"Optimization ID","title":"Optimization Id"},"description":"Optimization ID"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"string","description":"Cancellation reason","title":"Reason"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/optimizations/strategies":{"get":{"tags":["Prompt Studio","Prompt Studio - Optimizations"],"summary":"Get Optimization Strategies","description":"Get available optimization strategies.\n\nReturns:\n    List of available strategies with descriptions","operationId":"get_optimization_strategies_api_v1_prompt_studio_optimizations_strategies_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"}}}},"/api/v1/prompt-studio/optimizations/compare":{"post":{"tags":["Prompt Studio","Prompt Studio - Optimizations"],"summary":"Compare Strategies","description":"Compare multiple optimization strategies.\n\nArgs:\n    prompt_id: Prompt to optimize\n    test_case_ids: Test cases\n    strategies: List of strategies to compare\n    model_config: Model configuration\n    background_tasks: Background task manager\n    db: Database instance\n    user_context: Current user context\n    \nReturns:\n    Comparison job details","operationId":"compare_strategies_api_v1_prompt_studio_optimizations_compare_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompareStrategiesRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/evaluations":{"post":{"tags":["Prompt Studio"],"summary":"Create Evaluation","description":"Create a new evaluation for a prompt.\n\nArgs:\n    evaluation: Evaluation configuration\n    background_tasks: FastAPI background tasks\n    db: Database instance\n    user_context: Current user context\n    \nReturns:\n    Created evaluation response","operationId":"create_evaluation_api_v1_prompt_studio_evaluations_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EvaluationCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__prompt_studio_schemas__EvaluationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Prompt Studio"],"summary":"List Evaluations","description":"List evaluations for a project.\n\nArgs:\n    project_id: Project ID\n    prompt_id: Optional prompt ID filter\n    limit: Maximum results\n    offset: Pagination offset\n    db: Database instance\n    user_context: Current user context\n    \nReturns:\n    List of evaluations","operationId":"list_evaluations_api_v1_prompt_studio_evaluations_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","description":"Project ID","title":"Project Id"},"description":"Project ID"},{"name":"prompt_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by prompt ID","title":"Prompt Id"},"description":"Filter by prompt ID"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__prompt_studio_schemas__EvaluationResponse"},"title":"Response List Evaluations Api V1 Prompt Studio Evaluations Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/evaluations/{evaluation_id}":{"get":{"tags":["Prompt Studio"],"summary":"Get Evaluation","description":"Get a specific evaluation.\n\nArgs:\n    evaluation_id: Evaluation ID\n    db: Database instance\n    user_context: Current user context\n    \nReturns:\n    Evaluation details","operationId":"get_evaluation_api_v1_prompt_studio_evaluations__evaluation_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"evaluation_id","in":"path","required":true,"schema":{"type":"integer","title":"Evaluation Id"}},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__prompt_studio_schemas__EvaluationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Prompt Studio"],"summary":"Delete Evaluation","description":"Delete an evaluation (soft delete).\n\nArgs:\n    evaluation_id: Evaluation ID\n    db: Database instance\n    user_context: Current user context\n    \nReturns:\n    Success message","operationId":"delete_evaluation_api_v1_prompt_studio_evaluations__evaluation_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"evaluation_id","in":"path","required":true,"schema":{"type":"integer","title":"Evaluation Id"}},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Delete Evaluation Api V1 Prompt Studio Evaluations  Evaluation Id  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/background/ping":{"post":{"tags":["Prompt Studio"],"summary":"Background Ping","description":"Schedule a trivial background task to verify background execution works.","operationId":"background_ping_api_v1_prompt_studio_background_ping_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Background Ping Api V1 Prompt Studio Background Ping Post"}}}}}}},"/api/v1/prompt-studio/background/pings/{ping_id}":{"get":{"tags":["Prompt Studio"],"summary":"Get Ping Status","operationId":"get_ping_status_api_v1_prompt_studio_background_pings__ping_id__get","parameters":[{"name":"ping_id","in":"path","required":true,"schema":{"type":"string","title":"Ping Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Ping Status Api V1 Prompt Studio Background Pings  Ping Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/rag/health":{"get":{"tags":["RAG - Health","RAG Health"],"summary":"RAG service health check","description":"Comprehensive health check for RAG service.\n\nReturns health status of all components.","operationId":"health_check_api_v1_rag_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Health Check Api V1 Rag Health Get"}}}}}}},"/api/v1/rag/health/live":{"get":{"tags":["RAG - Health","RAG Health"],"summary":"Simple liveness check","description":"Simple liveness check for container orchestration.\n\nReturns 200 if service is alive.","operationId":"liveness_check_api_v1_rag_health_live_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Liveness Check Api V1 Rag Health Live Get"}}}}}}},"/api/v1/rag/health/ready":{"get":{"tags":["RAG - Health","RAG Health"],"summary":"Readiness check","description":"Readiness check for container orchestration.\n\nReturns 200 if service is ready to handle requests.","operationId":"readiness_check_api_v1_rag_health_ready_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Readiness Check Api V1 Rag Health Ready Get"}}}}}}},"/api/v1/rag/cache/stats":{"get":{"tags":["RAG - Health","RAG Health"],"summary":"Get cache statistics","description":"Get detailed cache statistics.\n\nReturns cache performance metrics and status.","operationId":"get_cache_statistics_api_v1_rag_cache_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Cache Statistics Api V1 Rag Cache Stats Get"}}}}}}},"/api/v1/rag/cache/clear":{"post":{"tags":["RAG - Health","RAG Health"],"summary":"Clear cache","description":"Clear all cache entries.\n\nWARNING: This will impact performance until cache is rebuilt.","operationId":"clear_cache_api_v1_rag_cache_clear_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Clear Cache Api V1 Rag Cache Clear Post"}}}}}}},"/api/v1/rag/cache/warm":{"get":{"tags":["RAG - Health","RAG Health"],"summary":"Get cache warming status","description":"Get status of cache warming operations.","operationId":"get_cache_warming_status_api_v1_rag_cache_warm_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Cache Warming Status Api V1 Rag Cache Warm Get"}}}}}}},"/api/v1/rag/metrics/summary":{"get":{"tags":["RAG - Health","RAG Health"],"summary":"Get metrics summary","description":"Get summary of RAG pipeline metrics.","operationId":"get_metrics_summary_api_v1_rag_metrics_summary_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Metrics Summary Api V1 Rag Metrics Summary Get"}}}}}}},"/api/v1/rag/costs/summary":{"get":{"tags":["RAG - Health","RAG Health"],"summary":"Get cost tracking summary","description":"Get summary of LLM API costs.","operationId":"get_cost_summary_api_v1_rag_costs_summary_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Cost Summary Api V1 Rag Costs Summary Get"}}}}}}},"/api/v1/rag/batch/jobs":{"get":{"tags":["RAG - Health","RAG Health"],"summary":"Get batch job statuses","description":"Get status of all batch processing jobs.","operationId":"get_batch_jobs_api_v1_rag_batch_jobs_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Batch Jobs Api V1 Rag Batch Jobs Get"}}}}}}},"/api/v1/rag/capabilities":{"get":{"tags":["RAG - Unified","RAG - Unified"],"summary":"Capabilities","description":"List RAG pipeline features and defaults available to the current user","operationId":"get_capabilities_api_v1_rag_capabilities_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/rag/search":{"post":{"tags":["RAG - Unified","RAG - Unified"],"summary":"Unified RAG Search","description":"The unified RAG search endpoint with ALL features accessible via parameters.\n    \n    **Key Features:**\n    - No configuration files needed\n    - Every feature is a direct parameter\n    - Mix and match any features\n    - Transparent execution\n    \n    **Available Features:**\n    - Query expansion (acronym, synonym, domain, entity)\n    - Semantic caching with adaptive thresholds\n    - Multi-database search (media, notes, characters, chats)\n    - Security filtering and PII detection\n    - Citation generation (APA, MLA, Chicago, Harvard)\n    - Answer generation from context\n    - Document reranking (FlashRank, Cross-Encoder, Hybrid)\n    - Table processing and extraction\n    - Enhanced chunking with parent context\n    - User feedback collection\n    - Performance monitoring and observability\n    - Batch processing support\n    - Resilience features (retries, circuit breakers)\n    \n    Simply set any feature parameter to enable it. All parameters are optional\n    except the query itself.","operationId":"unified_search_endpoint_api_v1_rag_search_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnifiedRAGRequest"}}}},"responses":{"200":{"description":"Search results with all requested features applied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnifiedRAGResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/rag/batch":{"post":{"tags":["RAG - Unified","RAG - Unified"],"summary":"Batch RAG Search","description":"Process multiple queries concurrently using the unified pipeline.\n    \n    All parameters from the single search endpoint are available and will\n    be applied to all queries in the batch.","operationId":"unified_batch_endpoint_api_v1_rag_batch_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnifiedBatchRequest"}}}},"responses":{"200":{"description":"Batch processing results","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnifiedBatchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/rag/simple":{"get":{"tags":["RAG - Unified","RAG - Unified"],"summary":"Simple Search","description":"Simplified search endpoint for basic use cases.\n    \n    Uses sensible defaults:\n    - Caching enabled\n    - Reranking enabled\n    - No query expansion","operationId":"simple_search_endpoint_api_v1_rag_simple_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","title":"Query"}},{"name":"top_k","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Top K"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Search results","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/rag/search/stream":{"post":{"tags":["RAG - Unified","RAG - Unified"],"summary":"Unified RAG Streaming Search","description":"Stream generated answer chunks with optional incremental claim overlay events (NDJSON)","operationId":"unified_search_stream_endpoint_api_v1_rag_search_stream_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnifiedRAGRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/rag/advanced":{"get":{"tags":["RAG - Unified","RAG - Unified"],"summary":"Advanced Search","description":"Advanced search with commonly used features enabled.\n    \n    Automatically enables:\n    - Query expansion\n    - Citations\n    - Answer generation\n    - Table processing\n    - Performance analysis","operationId":"advanced_search_endpoint_api_v1_rag_advanced_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","title":"Query"}},{"name":"with_citations","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"With Citations"}},{"name":"with_answer","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"With Answer"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Full search results with analysis","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/rag/features":{"get":{"tags":["RAG - Unified","RAG - Unified"],"summary":"List Available Features","description":"Get a list of all available features in the unified pipeline","operationId":"list_features_api_v1_rag_features_get","responses":{"200":{"description":"Feature list with descriptions","content":{"application/json":{"schema":{}}}}}}},"/api/v1/rag/health/simple":{"get":{"tags":["RAG - Unified","RAG - Unified"],"summary":"Unified Health (Simple)","description":"Lightweight health check for the unified RAG pipeline","operationId":"unified_health_simple_api_v1_rag_health_simple_get","responses":{"200":{"description":"Health status","content":{"application/json":{"schema":{}}}}}}},"/api/v1/workflows":{"post":{"tags":["Workflows","Workflows"],"summary":"Create Definition","operationId":"create_definition_api_v1_workflows_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkflowDefinitionCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkflowDefinitionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Workflows","Workflows"],"summary":"List Definitions","operationId":"list_definitions_api_v1_workflows_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/WorkflowDefinitionResponse"},"title":"Response List Definitions Api V1 Workflows Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/workflows/{workflow_id}":{"get":{"tags":["Workflows","Workflows"],"summary":"Get Definition","operationId":"get_definition_api_v1_workflows__workflow_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"workflow_id","in":"path","required":true,"schema":{"type":"integer","title":"Workflow Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Workflows","Workflows"],"summary":"Delete Definition","operationId":"delete_definition_api_v1_workflows__workflow_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"workflow_id","in":"path","required":true,"schema":{"type":"integer","title":"Workflow Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/workflows/{workflow_id}/versions":{"post":{"tags":["Workflows","Workflows"],"summary":"Create New Version","operationId":"create_new_version_api_v1_workflows__workflow_id__versions_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"workflow_id","in":"path","required":true,"schema":{"type":"integer","title":"Workflow Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkflowDefinitionCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkflowDefinitionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/workflows/{workflow_id}/run":{"post":{"tags":["Workflows","Workflows"],"summary":"Run Saved","operationId":"run_saved_api_v1_workflows__workflow_id__run_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"workflow_id","in":"path","required":true,"schema":{"type":"integer","title":"Workflow Id"}},{"name":"mode","in":"query","required":false,"schema":{"type":"string","description":"Execution mode: async|sync","default":"async","title":"Mode"},"description":"Execution mode: async|sync"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RunRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkflowRunResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/workflows/run":{"post":{"tags":["Workflows","Workflows"],"summary":"Run Adhoc","operationId":"run_adhoc_api_v1_workflows_run_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"mode","in":"query","required":false,"schema":{"type":"string","description":"Execution mode: async|sync","default":"async","title":"Mode"},"description":"Execution mode: async|sync"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdhocRunRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkflowRunResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/workflows/runs/{run_id}":{"get":{"tags":["Workflows","Workflows"],"summary":"Get Run","operationId":"get_run_api_v1_workflows_runs__run_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"run_id","in":"path","required":true,"schema":{"type":"string","title":"Run Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkflowRunResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/workflows/runs/{run_id}/events":{"get":{"tags":["Workflows","Workflows"],"summary":"Get Run Events","operationId":"get_run_events_api_v1_workflows_runs__run_id__events_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"run_id","in":"path","required":true,"schema":{"type":"string","title":"Run Id"}},{"name":"since","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Since"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":500,"title":"Limit"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/workflows/runs/{run_id}/artifacts":{"get":{"tags":["Workflows","Workflows"],"summary":"Get Run Artifacts","operationId":"get_run_artifacts_api_v1_workflows_runs__run_id__artifacts_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"run_id","in":"path","required":true,"schema":{"type":"string","title":"Run Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/workflows/artifacts/{artifact_id}/download":{"get":{"tags":["Workflows","Workflows"],"summary":"Download Artifact","operationId":"download_artifact_api_v1_workflows_artifacts__artifact_id__download_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"artifact_id","in":"path","required":true,"schema":{"type":"string","title":"Artifact Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/workflows/runs/{run_id}/artifacts/download":{"get":{"tags":["Workflows","Workflows"],"summary":"Download Run Artifacts Zip","operationId":"download_run_artifacts_zip_api_v1_workflows_runs__run_id__artifacts_download_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"run_id","in":"path","required":true,"schema":{"type":"string","title":"Run Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/workflows/options/chunkers":{"get":{"tags":["Workflows","Workflows"],"summary":"Get Chunker Options","description":"Return available chunking methods with defaults and a basic parameter schema.\n\nThis introspects the Chunking module to surface methods and default options\nfor UI builders. Version is static for now.","operationId":"get_chunker_options_api_v1_workflows_options_chunkers_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/workflows/runs/{run_id}/{action}":{"post":{"tags":["Workflows","Workflows"],"summary":"Control Run","operationId":"control_run_api_v1_workflows_runs__run_id___action__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"run_id","in":"path","required":true,"schema":{"type":"string","title":"Run Id"}},{"name":"action","in":"path","required":true,"schema":{"type":"string","title":"Action"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/workflows/runs/{run_id}/retry":{"post":{"tags":["Workflows","Workflows"],"summary":"Retry Run","operationId":"retry_run_api_v1_workflows_runs__run_id__retry_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"run_id","in":"path","required":true,"schema":{"type":"string","title":"Run Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/workflows/runs/{run_id}/steps/{step_id}/approve":{"post":{"tags":["Workflows","Workflows"],"summary":"Approve Step","operationId":"approve_step_api_v1_workflows_runs__run_id__steps__step_id__approve_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"run_id","in":"path","required":true,"schema":{"type":"string","title":"Run Id"}},{"name":"step_id","in":"path","required":true,"schema":{"type":"string","title":"Step Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HumanReviewPayload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/workflows/runs/{run_id}/steps/{step_id}/reject":{"post":{"tags":["Workflows","Workflows"],"summary":"Reject Step","operationId":"reject_step_api_v1_workflows_runs__run_id__steps__step_id__reject_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"run_id","in":"path","required":true,"schema":{"type":"string","title":"Run Id"}},{"name":"step_id","in":"path","required":true,"schema":{"type":"string","title":"Step Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HumanReviewPayload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/research/arxiv-search":{"get":{"tags":["research","Research Tools - arXiv"],"summary":"Search arXiv Papers","description":"Searches the arXiv repository based on query, author, and year.\nReturns a paginated list of matching papers.","operationId":"arxiv_search_endpoint_api_v1_research_arxiv_search_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-Token","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Token"}},{"name":"query","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search query for title, abstract, etc.","title":"Query"},"description":"Search query for title, abstract, etc."},{"name":"author","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by author name.","title":"Author"},"description":"Filter by author name."},{"name":"year","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by submission year (e.g., '2023').","title":"Year"},"description":"Filter by submission year (e.g., '2023')."},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number for pagination.","default":1,"title":"Page"},"description":"Page number for pagination."},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Number of results per page.","default":10,"title":"Results Per Page"},"description":"Number of results per page."},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ArxivSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/research/semantic-scholar-search":{"get":{"tags":["research","Research Tools - Semantic Scholar"],"summary":"Search Semantic Scholar","description":"Searches the Semantic Scholar database for papers based on various criteria.","operationId":"semantic_scholar_search_endpoint_api_v1_research_semantic_scholar_search_get","parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","minLength":1,"description":"Search query (e.g., paper title, keywords, author name).","title":"Query"},"description":"Search query (e.g., paper title, keywords, author name)."},{"name":"fields_of_study","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Comma-separated list of fields of study. Choices include: Computer Science, Medicine, Chemistry, Biology, Materials Science, etc.","title":"Fields Of Study"},"description":"Comma-separated list of fields of study. Choices include: Computer Science, Medicine, Chemistry, Biology, Materials Science, etc."},{"name":"publication_types","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Comma-separated list of publication types. Choices include: Review, JournalArticle, CaseReport, ClinicalTrial, Conference, etc.","title":"Publication Types"},"description":"Comma-separated list of publication types. Choices include: Review, JournalArticle, CaseReport, ClinicalTrial, Conference, etc."},{"name":"year_range","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by publication year or range (e.g., '2020' or '2019-2021').","title":"Year Range"},"description":"Filter by publication year or range (e.g., '2020' or '2019-2021')."},{"name":"venue","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Comma-separated list of publication venues (e.g., 'Nature,CVPR').","title":"Venue"},"description":"Comma-separated list of publication venues (e.g., 'Nature,CVPR')."},{"name":"min_citations","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":0},{"type":"null"}],"description":"Minimum number of citations.","title":"Min Citations"},"description":"Minimum number of citations."},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number for pagination (1-indexed).","default":1,"title":"Page"},"description":"Page number for pagination (1-indexed)."},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Number of results per page.","default":10,"title":"Results Per Page"},"description":"Number of results per page."}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SemanticScholarSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/embeddings/abtest":{"post":{"tags":["evaluations","Evaluations"],"summary":"Create Embeddings Abtest","description":"Create an embeddings A/B test (stub).\n\nValidates shape and returns a generated test_id. Persistence to DB and\norchestration will be added in implementation phases per plan.","operationId":"create_embeddings_abtest_api_v1_evaluations_embeddings_abtest_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmbeddingsABTestCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmbeddingsABTestCreateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/embeddings/abtest/{test_id}/run":{"post":{"tags":["evaluations","Evaluations"],"summary":"Run Embeddings Abtest","description":"Start an embeddings A/B test (stub runner).\n\nAs a minimal integration path, embed queries for each arm using the\narm's provider/model to avoid retriever refactors. Returns running status.","operationId":"run_embeddings_abtest_api_v1_evaluations_embeddings_abtest__test_id__run_post","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"test_id","in":"path","required":true,"schema":{"type":"string","title":"Test Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmbeddingsABTestCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmbeddingsABTestStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/embeddings/abtest/{test_id}":{"get":{"tags":["evaluations","Evaluations"],"summary":"Get Embeddings Abtest Status","operationId":"get_embeddings_abtest_status_api_v1_evaluations_embeddings_abtest__test_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"test_id","in":"path","required":true,"schema":{"type":"string","title":"Test Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmbeddingsABTestResultSummary"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["evaluations","Evaluations"],"summary":"Delete Embeddings Abtest","description":"Cancel/cleanup an embeddings A/B test (stub).","operationId":"delete_embeddings_abtest_api_v1_evaluations_embeddings_abtest__test_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"test_id","in":"path","required":true,"schema":{"type":"string","title":"Test Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/embeddings/abtest/{test_id}/results":{"get":{"tags":["evaluations","Evaluations"],"summary":"Get Embeddings Abtest Results","operationId":"get_embeddings_abtest_results_api_v1_evaluations_embeddings_abtest__test_id__results_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"test_id","in":"path","required":true,"schema":{"type":"string","title":"Test Id"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":50,"title":"Page Size"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmbeddingsABTestResultsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/embeddings/abtest/{test_id}/significance":{"get":{"tags":["evaluations","Evaluations"],"summary":"Get Embeddings Abtest Significance","operationId":"get_embeddings_abtest_significance_api_v1_evaluations_embeddings_abtest__test_id__significance_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"test_id","in":"path","required":true,"schema":{"type":"string","title":"Test Id"}},{"name":"metric","in":"query","required":false,"schema":{"type":"string","default":"ndcg","title":"Metric"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/embeddings/abtest/{test_id}/events":{"get":{"tags":["evaluations","Evaluations"],"summary":"Stream Embeddings Abtest Events","description":"SSE stream of progress and updates for an A/B test.","operationId":"stream_embeddings_abtest_events_api_v1_evaluations_embeddings_abtest__test_id__events_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"test_id","in":"path","required":true,"schema":{"type":"string","title":"Test Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/embeddings/abtest/{test_id}/export":{"get":{"tags":["evaluations","Evaluations"],"summary":"Export Embeddings Abtest","description":"Export AB test results (JSON or CSV). Admin-only.","operationId":"export_embeddings_abtest_api_v1_evaluations_embeddings_abtest__test_id__export_get","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"test_id","in":"path","required":true,"schema":{"type":"string","title":"Test Id"}},{"name":"format","in":"query","required":false,"schema":{"type":"string","pattern":"^(json|csv)$","default":"json","title":"Format"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations":{"post":{"tags":["evaluations","Evaluations"],"summary":"Create Evaluation","description":"Create a new evaluation definition (OpenAI-compatible).\n\nThis endpoint creates an evaluation that can be run multiple times with different models.","operationId":"create_evaluation_api_v1_evaluations_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateEvaluationRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__evaluation_schemas_unified__EvaluationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["evaluations","Evaluations"],"summary":"List Evaluations","description":"List evaluations with pagination","operationId":"list_evaluations_api_v1_evaluations_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Limit"}},{"name":"after","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"After"}},{"name":"eval_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Eval Type"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EvaluationListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/rate-limits":{"get":{"tags":["evaluations","Evaluations"],"summary":"Get Rate Limit Status","description":"Get current rate limit status for the authenticated user","operationId":"get_rate_limit_status_api_v1_evaluations_rate_limits_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RateLimitStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/rag/pipeline/presets":{"post":{"tags":["evaluations","Evaluations"],"summary":"Create Or Update Pipeline Preset","operationId":"create_or_update_pipeline_preset_api_v1_evaluations_rag_pipeline_presets_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PipelinePresetCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PipelinePresetResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["evaluations","Evaluations"],"summary":"List Pipeline Presets","operationId":"list_pipeline_presets_api_v1_evaluations_rag_pipeline_presets_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PipelinePresetListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/rag/pipeline/presets/{name}":{"get":{"tags":["evaluations","Evaluations"],"summary":"Get Pipeline Preset","operationId":"get_pipeline_preset_api_v1_evaluations_rag_pipeline_presets__name__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"name","in":"path","required":true,"schema":{"type":"string","title":"Name"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PipelinePresetResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["evaluations","Evaluations"],"summary":"Delete Pipeline Preset","operationId":"delete_pipeline_preset_api_v1_evaluations_rag_pipeline_presets__name__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"name","in":"path","required":true,"schema":{"type":"string","title":"Name"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/rag/pipeline/cleanup":{"post":{"tags":["evaluations","Evaluations"],"summary":"Cleanup Ephemeral Collections","description":"Delete expired ephemeral collections according to TTL registry.","operationId":"cleanup_ephemeral_collections_api_v1_evaluations_rag_pipeline_cleanup_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PipelineCleanupResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/datasets":{"post":{"tags":["evaluations","Evaluations"],"summary":"Create Dataset","description":"Create a new dataset","operationId":"create_dataset_api_v1_evaluations_datasets_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateDatasetRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DatasetResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["evaluations","Evaluations"],"summary":"List Datasets","description":"List datasets with pagination","operationId":"list_datasets_api_v1_evaluations_datasets_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Limit"}},{"name":"after","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"After"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DatasetListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/datasets/{dataset_id}":{"get":{"tags":["evaluations","Evaluations"],"summary":"Get Dataset","description":"Get dataset by ID","operationId":"get_dataset_api_v1_evaluations_datasets__dataset_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"dataset_id","in":"path","required":true,"schema":{"type":"string","title":"Dataset Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DatasetResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["evaluations","Evaluations"],"summary":"Delete Dataset","description":"Delete a dataset","operationId":"delete_dataset_api_v1_evaluations_datasets__dataset_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"dataset_id","in":"path","required":true,"schema":{"type":"string","title":"Dataset Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/health":{"get":{"tags":["evaluations","Evaluations"],"summary":"Health Check","description":"Check evaluation service health","operationId":"health_check_api_v1_evaluations_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthCheckResponse"}}}}}}},"/api/v1/evaluations/metrics":{"get":{"tags":["evaluations","Evaluations"],"summary":"Get Metrics","description":"Get Prometheus metrics","operationId":"get_metrics_api_v1_evaluations_metrics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/evaluations/webhooks":{"post":{"tags":["evaluations","Evaluations"],"summary":"Register Webhook","description":"Register a webhook for evaluation notifications","operationId":"register_webhook_api_v1_evaluations_webhooks_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookRegistrationRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookRegistrationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["evaluations","Evaluations"],"summary":"List Webhooks","description":"List all registered webhooks for the authenticated user","operationId":"list_webhooks_api_v1_evaluations_webhooks_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/WebhookStatusResponse"},"title":"Response List Webhooks Api V1 Evaluations Webhooks Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["evaluations","Evaluations"],"summary":"Unregister Webhook","description":"Unregister a webhook","operationId":"unregister_webhook_api_v1_evaluations_webhooks_delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"url","in":"query","required":true,"schema":{"type":"string","description":"Webhook URL to unregister","title":"Url"},"description":"Webhook URL to unregister"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/webhooks/test":{"post":{"tags":["evaluations","Evaluations"],"summary":"Test Webhook","description":"Send a test webhook to verify endpoint configuration","operationId":"test_webhook_api_v1_evaluations_webhooks_test_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookTestRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookTestResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/{eval_id}":{"get":{"tags":["evaluations","Evaluations"],"summary":"Get Evaluation","description":"Get evaluation by ID","operationId":"get_evaluation_api_v1_evaluations__eval_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"eval_id","in":"path","required":true,"schema":{"type":"string","title":"Eval Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__evaluation_schemas_unified__EvaluationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["evaluations","Evaluations"],"summary":"Update Evaluation","description":"Update evaluation definition","operationId":"update_evaluation_api_v1_evaluations__eval_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"eval_id","in":"path","required":true,"schema":{"type":"string","title":"Eval Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateEvaluationRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__evaluation_schemas_unified__EvaluationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["evaluations","Evaluations"],"summary":"Delete Evaluation","description":"Delete an evaluation","operationId":"delete_evaluation_api_v1_evaluations__eval_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"eval_id","in":"path","required":true,"schema":{"type":"string","title":"Eval Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/{eval_id}/runs":{"post":{"tags":["evaluations","Evaluations"],"summary":"Create Run","description":"Create and start an evaluation run","operationId":"create_run_api_v1_evaluations__eval_id__runs_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"eval_id","in":"path","required":true,"schema":{"type":"string","title":"Eval Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRunRequest"}}}},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RunResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["evaluations","Evaluations"],"summary":"List Runs","description":"List runs for an evaluation","operationId":"list_runs_api_v1_evaluations__eval_id__runs_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"eval_id","in":"path","required":true,"schema":{"type":"string","title":"Eval Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Limit"}},{"name":"after","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"After"}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RunListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/geval":{"post":{"tags":["evaluations","Evaluations"],"summary":"Evaluate Geval","description":"Evaluate a summary using G-Eval metrics.\n\nG-Eval evaluates summaries on fluency, consistency, relevance, and coherence.","operationId":"evaluate_geval_api_v1_evaluations_geval_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GEvalRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GEvalResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/rag":{"post":{"tags":["evaluations","Evaluations"],"summary":"Evaluate Rag","description":"Evaluate RAG system performance.\n\nEvaluates relevance, faithfulness, answer similarity, and context precision.","operationId":"evaluate_rag_api_v1_evaluations_rag_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RAGEvaluationRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RAGEvaluationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/response-quality":{"post":{"tags":["evaluations","Evaluations"],"summary":"Evaluate Response Quality","description":"Evaluate the quality of a generated response.\n\nChecks relevance, completeness, accuracy, and format compliance.","operationId":"evaluate_response_quality_api_v1_evaluations_response_quality_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseQualityRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseQualityResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/propositions":{"post":{"tags":["evaluations","Evaluations"],"summary":"Evaluate Propositions Endpoint","description":"Evaluate proposition extraction quality.\nComputes precision/recall/F1 with semantic or Jaccard matching and density metrics.","operationId":"evaluate_propositions_endpoint_api_v1_evaluations_propositions_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PropositionEvaluationRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PropositionEvaluationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/runs/{run_id}":{"get":{"tags":["evaluations","Evaluations"],"summary":"Get Run","description":"Get run status and details","operationId":"get_run_api_v1_evaluations_runs__run_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"run_id","in":"path","required":true,"schema":{"type":"string","title":"Run Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RunResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/runs/{run_id}/cancel":{"post":{"tags":["evaluations","Evaluations"],"summary":"Cancel Run","description":"Cancel a running evaluation","operationId":"cancel_run_api_v1_evaluations_runs__run_id__cancel_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"run_id","in":"path","required":true,"schema":{"type":"string","title":"Run Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/batch":{"post":{"tags":["evaluations","Evaluations"],"summary":"Batch Evaluate","description":"Run multiple evaluations in batch.\n\nSupports running multiple evaluation types with configurable parallelism.","operationId":"batch_evaluate_api_v1_evaluations_batch_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchEvaluationRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchEvaluationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/ocr":{"post":{"tags":["evaluations","Evaluations"],"summary":"Evaluate Ocr Endpoint","description":"Evaluate OCR effectiveness on provided items (text-to-text comparison).\n\nNote: This endpoint currently expects pre-extracted text per item.\nPDF-based OCR execution can be added in future if needed.","operationId":"evaluate_ocr_endpoint_api_v1_evaluations_ocr_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OCREvaluationRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OCREvaluationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/ocr-pdf":{"post":{"tags":["evaluations","Evaluations"],"summary":"Evaluate Ocr Pdf Endpoint","description":"Evaluate OCR by running OCR on uploaded PDFs and comparing to provided ground-truths.","operationId":"evaluate_ocr_pdf_endpoint_api_v1_evaluations_ocr_pdf_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_evaluate_ocr_pdf_endpoint_api_v1_evaluations_ocr_pdf_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OCREvaluationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/history":{"post":{"tags":["evaluations","Evaluations"],"summary":"Get Evaluation History","description":"Retrieve evaluation history for a user.\n\nSupports filtering by date range, evaluation type, and pagination.","operationId":"get_evaluation_history_api_v1_evaluations_history_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EvaluationHistoryRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EvaluationHistoryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/benchmarks/list":{"get":{"tags":["benchmarks","Benchmarks"],"summary":"List Benchmarks","description":"List all available benchmarks.\n\nReturns information about registered benchmarks including\ntheir types, descriptions, and metadata.","operationId":"list_benchmarks_api_v1_benchmarks_list_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BenchmarkListResponse"}}}}}}},"/api/v1/benchmarks/{benchmark_name}/info":{"get":{"tags":["benchmarks","Benchmarks"],"summary":"Get Benchmark Info","description":"Get detailed information about a specific benchmark.\n\nArgs:\n    benchmark_name: Name of the benchmark\n    \nReturns:\n    Detailed benchmark information including configuration and metadata.","operationId":"get_benchmark_info_api_v1_benchmarks__benchmark_name__info_get","parameters":[{"name":"benchmark_name","in":"path","required":true,"schema":{"type":"string","title":"Benchmark Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BenchmarkInfoResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/benchmarks/{benchmark_name}/samples":{"get":{"tags":["benchmarks","Benchmarks"],"summary":"Get Benchmark Samples","description":"Get sample items from a benchmark dataset.\n\nUseful for previewing benchmark questions before running full evaluation.\n\nArgs:\n    benchmark_name: Name of the benchmark\n    limit: Number of samples to return (max 100)\n    \nReturns:\n    Sample items from the benchmark dataset.","operationId":"get_benchmark_samples_api_v1_benchmarks__benchmark_name__samples_get","parameters":[{"name":"benchmark_name","in":"path","required":true,"schema":{"type":"string","title":"Benchmark Name"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Number of samples to return","default":5,"title":"Limit"},"description":"Number of samples to return"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BenchmarkSampleResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/benchmarks/{benchmark_name}/run":{"post":{"tags":["benchmarks","Benchmarks"],"summary":"Run Benchmark","description":"Run a benchmark evaluation.\n\nThis endpoint loads the benchmark dataset, evaluates each item,\nand returns aggregated results.\n\nArgs:\n    benchmark_name: Name of the benchmark to run\n    request: Run configuration\n    user_id: User ID from auth\n    \nReturns:\n    Summary of benchmark results.","operationId":"run_benchmark_api_v1_benchmarks__benchmark_name__run_post","parameters":[{"name":"benchmark_name","in":"path","required":true,"schema":{"type":"string","title":"Benchmark Name"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BenchmarkRunRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BenchmarkRunResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/benchmarks/simpleqa/evaluate":{"post":{"tags":["benchmarks","Benchmarks"],"summary":"Evaluate Simpleqa","description":"Evaluate a single SimpleQA-style question.\n\nReturns the three-grade classification: correct, incorrect, or not_attempted.","operationId":"evaluate_simpleqa_api_v1_benchmarks_simpleqa_evaluate_post","parameters":[{"name":"question","in":"query","required":true,"schema":{"type":"string","description":"The question to ask","title":"Question"},"description":"The question to ask"},{"name":"api_name","in":"query","required":false,"schema":{"type":"string","description":"API to use","default":"openai","title":"Api Name"},"description":"API to use"},{"name":"strict_grading","in":"query","required":false,"schema":{"type":"boolean","description":"Use strict grading","default":true,"title":"Strict Grading"},"description":"Use strict grading"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/config/docs-info":{"get":{"tags":["config"],"summary":"Get Documentation Config","description":"Get configuration information suitable for auto-populating documentation.\n\nThis endpoint returns non-sensitive configuration that can be used to:\n- Auto-populate API keys in documentation (single-user mode only)\n- Show which LLM providers are configured\n- Provide the correct base URL for examples\n\nReturns:\n    Dict with configuration information safe for documentation","operationId":"get_documentation_config_api_v1_config_docs_info_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/config/quickstart":{"get":{"tags":["config"],"summary":"Get Quickstart Redirect","description":"Redirect to a Quickstart URL defined in config.txt or environment.\n\nPrecedence:\n1) Environment variable QUICKSTART_URL\n2) Config [WebUI] quickstart_url\n3) Config [Docs] quickstart_url\n4) Default: /webui/\n\nBehavior:\n- If the target starts with http(s)://, redirect there.\n- If the target starts with '/', redirect to that path (same origin).\n- Otherwise, treat as WebUI-relative file and redirect to /webui/<target>.","operationId":"get_quickstart_redirect_api_v1_config_quickstart_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/sync/send":{"post":{"tags":["sync"],"summary":"Receive changes from a client","description":"Receives a batch of sync log entries from a client, applies them\nto the user's database on the server synchronously in a thread pool.","operationId":"receive_changes_from_client_api_v1_sync_send_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClientChangesPayload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/sync/get":{"get":{"tags":["sync"],"summary":"Send changes back to a client","description":"Sends sync log entries from the user's server-side database back to\nthe requesting client, starting after the `since_change_id`.\nFilters out changes that originated from the requesting client.\nUses asyncio.to_thread for DB access.","operationId":"send_changes_to_client_api_v1_sync_get_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"client_id","in":"query","required":true,"schema":{"type":"string","title":"Client Id"}},{"name":"since_change_id","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Since Change Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServerChangesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/mcp/request":{"post":{"tags":["MCP Unified","MCP Unified"],"summary":"Mcp Request","description":"Process an MCP request via HTTP.\n\nThis endpoint provides a simpler alternative to WebSocket for clients\nthat don't need real-time bidirectional communication.","operationId":"mcp_request_api_v1_mcp_request_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"client_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Client identifier","title":"Client Id"},"description":"Client identifier"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MCPRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MCPResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/mcp/status":{"get":{"tags":["MCP Unified","MCP Unified"],"summary":"Get Server Status","description":"Get MCP server status.\n\nReturns:\n- Server health status\n- Uptime\n- Connection statistics\n- Module health summary","operationId":"get_server_status_api_v1_mcp_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServerStatusResponse"}}}}}}},"/api/v1/mcp/metrics":{"get":{"tags":["MCP Unified","MCP Unified"],"summary":"Get Server Metrics","description":"Get detailed server metrics (requires admin).\n\nReturns:\n- Connection metrics\n- Module performance metrics\n- Error rates\n- Latency statistics","operationId":"get_server_metrics_api_v1_mcp_metrics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServerMetricsResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/mcp/tools":{"get":{"tags":["MCP Unified","MCP Unified"],"summary":"List Tools","description":"List available MCP tools.\n\nReturns tools with their descriptions and required parameters.\nTools are filtered based on user permissions if authenticated.","operationId":"list_tools_api_v1_mcp_tools_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"module","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by module","title":"Module"},"description":"Filter by module"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/mcp/tools/execute":{"post":{"tags":["MCP Unified","MCP Unified"],"summary":"Execute Tool","description":"Execute a specific tool (requires authentication).\n\nTools are executed with user context for permission checking.","operationId":"execute_tool_api_v1_mcp_tools_execute_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToolExecutionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToolExecutionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/mcp/modules":{"get":{"tags":["MCP Unified","MCP Unified"],"summary":"List Modules","description":"List registered MCP modules.\n\nReturns module information including status and capabilities.","operationId":"list_modules_api_v1_mcp_modules_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/mcp/modules/health":{"get":{"tags":["MCP Unified","MCP Unified"],"summary":"Get Modules Health","description":"Get detailed health status of all modules (requires admin).\n\nReturns health checks and metrics for each module.","operationId":"get_modules_health_api_v1_mcp_modules_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/mcp/resources":{"get":{"tags":["MCP Unified","MCP Unified"],"summary":"List Resources","description":"List available MCP resources.\n\nResources are filtered based on user permissions if authenticated.","operationId":"list_resources_api_v1_mcp_resources_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/mcp/prompts":{"get":{"tags":["MCP Unified","MCP Unified"],"summary":"List Prompts","description":"List available MCP prompts.\n\nPrompts are filtered based on user permissions if authenticated.","operationId":"list_prompts_api_v1_mcp_prompts_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/mcp/auth/token":{"post":{"tags":["MCP Unified","MCP Unified"],"summary":"Create Token","description":"Create authentication token.\n\nSupports authentication via:\n- Username/password\n- API key\n\nReturns JWT access token and optional refresh token.","operationId":"create_token_api_v1_mcp_auth_token_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthTokenRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthTokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/mcp/auth/refresh":{"post":{"tags":["MCP Unified","MCP Unified"],"summary":"Refresh Token","description":"Refresh authentication token.\n\nExchange a valid refresh token for a new access token.","operationId":"refresh_token_api_v1_mcp_auth_refresh_post","parameters":[{"name":"refresh_token","in":"query","required":true,"schema":{"type":"string","description":"Refresh token","title":"Refresh Token"},"description":"Refresh token"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthTokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/mcp/health":{"get":{"tags":["MCP Unified","MCP Unified"],"summary":"Health Check","description":"Health check endpoint for load balancers.\n\nReturns 200 if server is healthy, 503 if not.","operationId":"health_check_api_v1_mcp_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/chatbooks/health":{"get":{"tags":["chatbooks","chatbooks"],"summary":"Chatbooks service health","description":"Lightweight health endpoint for the Chatbooks subsystem.","operationId":"chatbooks_health_api_v1_chatbooks_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/chatbooks/export":{"post":{"tags":["chatbooks","chatbooks"],"summary":"Create Chatbook","description":"Create a chatbook from selected content.\n\nThis endpoint allows users to export their content (conversations, notes, characters, etc.)\ninto a portable chatbook format. The operation can be run synchronously or asynchronously.\n\nArgs:\n    request: Chatbook creation parameters\n    background_tasks: FastAPI background tasks\n    service: Chatbook service instance\n    user: Current authenticated user\n    \nReturns:\n    CreateChatbookResponse with job ID (async) or file path (sync)","operationId":"create_chatbook_api_v1_chatbooks_export_post","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateChatbookRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateChatbookResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chatbooks/import":{"post":{"tags":["chatbooks","chatbooks"],"summary":"Import Chatbook","description":"Import a chatbook file.\n\nThis endpoint allows users to import content from a chatbook file. The operation\ncan handle conflicts through various resolution strategies and can be run\nsynchronously or asynchronously.\n\nArgs:\n    file: The chatbook file to import (ZIP format)\n    request: Import configuration\n    background_tasks: FastAPI background tasks\n    service: Chatbook service instance\n    user: Current authenticated user\n    \nReturns:\n    ImportChatbookResponse with job ID (async) or import results (sync)","operationId":"import_chatbook_api_v1_chatbooks_import_post","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"conflict_resolution","in":"query","required":false,"schema":{"$ref":"#/components/schemas/ConflictResolution","default":"skip"}},{"name":"prefix_imported","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Prefix Imported"}},{"name":"import_media","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Import Media"}},{"name":"import_embeddings","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Import Embeddings"}},{"name":"async_mode","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Async Mode"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_import_chatbook_api_v1_chatbooks_import_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportChatbookResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chatbooks/preview":{"post":{"tags":["chatbooks","chatbooks"],"summary":"Preview Chatbook","description":"Preview a chatbook without importing it.\n\nThis endpoint allows users to examine the contents of a chatbook file\nbefore deciding whether to import it.\n\nArgs:\n    file: The chatbook file to preview (ZIP format)\n    service: Chatbook service instance\n    user: Current authenticated user\n    \nReturns:\n    PreviewChatbookResponse with manifest information","operationId":"preview_chatbook_api_v1_chatbooks_preview_post","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_preview_chatbook_api_v1_chatbooks_preview_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PreviewChatbookResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chatbooks/export/jobs":{"get":{"tags":["chatbooks","chatbooks"],"summary":"List Export Jobs","description":"List all export jobs for the current user.\n\nArgs:\n    limit: Maximum number of results\n    offset: Offset for pagination\n    service: Chatbook service instance\n    user: Current authenticated user\n    \nReturns:\n    ListExportJobsResponse with list of export jobs","operationId":"list_export_jobs_api_v1_chatbooks_export_jobs_get","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListExportJobsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chatbooks/export/jobs/{job_id}":{"get":{"tags":["chatbooks","chatbooks"],"summary":"Get Export Job","description":"Get status of a specific export job.\n\nArgs:\n    job_id: The export job ID\n    service: Chatbook service instance\n    user: Current authenticated user\n    \nReturns:\n    ExportJobResponse with job details","operationId":"get_export_job_api_v1_chatbooks_export_jobs__job_id__get","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExportJobResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["chatbooks","chatbooks"],"summary":"Cancel Export Job","description":"Cancel an export job.\n\nArgs:\n    job_id: The export job ID to cancel\n    service: Chatbook service instance\n    user: Current authenticated user\n    \nReturns:\n    Success message","operationId":"cancel_export_job_api_v1_chatbooks_export_jobs__job_id__delete","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chatbooks/import/jobs":{"get":{"tags":["chatbooks","chatbooks"],"summary":"List Import Jobs","description":"List all import jobs for the current user.\n\nArgs:\n    limit: Maximum number of results\n    offset: Offset for pagination\n    service: Chatbook service instance\n    user: Current authenticated user\n    \nReturns:\n    ListImportJobsResponse with list of import jobs","operationId":"list_import_jobs_api_v1_chatbooks_import_jobs_get","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListImportJobsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chatbooks/import/jobs/{job_id}":{"get":{"tags":["chatbooks","chatbooks"],"summary":"Get Import Job","description":"Get status of a specific import job.\n\nArgs:\n    job_id: The import job ID\n    service: Chatbook service instance\n    user: Current authenticated user\n    \nReturns:\n    ImportJobResponse with job details","operationId":"get_import_job_api_v1_chatbooks_import_jobs__job_id__get","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportJobResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["chatbooks","chatbooks"],"summary":"Cancel Import Job","description":"Cancel an import job.\n\nArgs:\n    job_id: The import job ID to cancel\n    service: Chatbook service instance\n    user: Current authenticated user\n    \nReturns:\n    Success message","operationId":"cancel_import_job_api_v1_chatbooks_import_jobs__job_id__delete","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chatbooks/download/{job_id}":{"get":{"tags":["chatbooks","chatbooks"],"summary":"Download Chatbook","description":"Download an exported chatbook file by job ID.\n\nArgs:\n    job_id: The export job ID\n    service: Chatbook service instance\n    user: Current authenticated user\n    \nReturns:\n    FileResponse with the chatbook file","operationId":"download_chatbook_api_v1_chatbooks_download__job_id__get","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chatbooks/cleanup":{"post":{"tags":["chatbooks","chatbooks"],"summary":"Cleanup Expired Exports","description":"Clean up expired export files.\n\nThis endpoint removes export files that have passed their expiration date.\n\nArgs:\n    service: Chatbook service instance\n    user: Current authenticated user\n    \nReturns:\n    CleanupExpiredExportsResponse with count of deleted files","operationId":"cleanup_expired_exports_api_v1_chatbooks_cleanup_post","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CleanupExpiredExportsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/llm/health":{"get":{"tags":["llm"],"summary":"LLM inference health","description":"Health endpoint for the LLM inference subsystem (providers, queue, rate limiter).","operationId":"llm_health_api_v1_llm_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Llm Health Api V1 Llm Health Get"}}}}}}},"/api/v1/llm/providers":{"get":{"tags":["llm"],"summary":"Get configured LLM providers","description":"Returns a list of all configured LLM providers with their models from config","operationId":"get_llm_providers_api_v1_llm_providers_get","parameters":[{"name":"include_deprecated","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Deprecated"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Llm Providers Api V1 Llm Providers Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/llm/models/metadata":{"get":{"tags":["llm"],"summary":"Get model metadata across providers","description":"Returns flattened model metadata for all providers","operationId":"get_models_metadata_api_v1_llm_models_metadata_get","parameters":[{"name":"include_deprecated","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Deprecated"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Models Metadata Api V1 Llm Models Metadata Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/llm/providers/{provider_name}":{"get":{"tags":["llm"],"summary":"Get specific provider details","description":"Returns details for a specific LLM provider","operationId":"get_provider_details_api_v1_llm_providers__provider_name__get","parameters":[{"name":"provider_name","in":"path","required":true,"schema":{"type":"string","title":"Provider Name"}},{"name":"include_deprecated","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Deprecated"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Provider Details Api V1 Llm Providers  Provider Name  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/llm/models":{"get":{"tags":["llm"],"summary":"Get all available models","description":"Returns a flat list of all available models across all providers","operationId":"get_all_models_api_v1_llm_models_get","parameters":[{"name":"include_deprecated","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Deprecated"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"string"},"title":"Response Get All Models Api V1 Llm Models Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/llamacpp/start_server":{"post":{"tags":["llamacpp"],"summary":"Start or Swap Llama.cpp Server Model","description":"Starts the Llama.cpp server with the specified model.\nIf a server is already running, it will be stopped and restarted with the new model (model swap).","operationId":"start_llamacpp_server_endpoint_api_v1_llamacpp_start_server_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_start_llamacpp_server_endpoint_api_v1_llamacpp_start_server_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/llamacpp/stop_server":{"post":{"tags":["llamacpp"],"summary":"Stop Llama.cpp Server","operationId":"stop_llamacpp_server_endpoint_api_v1_llamacpp_stop_server_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/llamacpp/status":{"get":{"tags":["llamacpp"],"summary":"Get Llama.cpp Server Status","operationId":"get_llamacpp_status_endpoint_api_v1_llamacpp_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/llamacpp/models":{"get":{"tags":["llamacpp"],"summary":"List available Llama.cpp models","operationId":"list_llamacpp_models_endpoint_api_v1_llamacpp_models_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/llamacpp/inference":{"post":{"tags":["llamacpp"],"summary":"Run inference with Llama.cpp","description":"Runs inference using the currently loaded Llama.cpp model.\nPayload should be OpenAI compatible (e.g., include 'messages' list).\nExample: {\"messages\": [{\"role\": \"user\", \"content\": \"Hello!\"}], \"temperature\": 0.7}","operationId":"run_llamacpp_inference_endpoint_api_v1_llamacpp_inference_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Payload","description":"OpenAI compatible payload (messages, temperature, etc.)"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/web-scraping/status":{"get":{"tags":["web-scraping","Web Scraping Management"],"summary":"Get Scraping Service Status","description":"Get the status of the web scraping service including queue statistics.\n\nReturns:\n    Service status including:\n    - Initialization status\n    - Queue statistics (active, pending, completed jobs)\n    - Rate limiting configuration","operationId":"get_scraping_service_status_web_scraping_status_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Scraping Service Status Web Scraping Status Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/web-scraping/job/{job_id}":{"get":{"tags":["web-scraping","Web Scraping Management"],"summary":"Get Scraping Job Status","description":"Get the status of a specific scraping job.\n\nArgs:\n    job_id: The ID of the scraping job\n    \nReturns:\n    Job details including status, progress, and results","operationId":"get_scraping_job_status_web_scraping_job__job_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Scraping Job Status Web Scraping Job  Job Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["web-scraping","Web Scraping Management"],"summary":"Cancel Scraping Job","description":"Cancel a pending or active scraping job.\n\nArgs:\n    job_id: The ID of the scraping job to cancel\n    \nReturns:\n    Cancellation status","operationId":"cancel_scraping_job_web_scraping_job__job_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Cancel Scraping Job Web Scraping Job  Job Id  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/web-scraping/service/initialize":{"post":{"tags":["web-scraping","Web Scraping Management"],"summary":"Initialize Scraping Service","description":"Initialize the web scraping service if not already initialized.\n\nThis starts the worker pool and prepares the service for scraping.","operationId":"initialize_scraping_service_web_scraping_service_initialize_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Initialize Scraping Service Web Scraping Service Initialize Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/web-scraping/service/shutdown":{"post":{"tags":["web-scraping","Web Scraping Management"],"summary":"Shutdown Scraping Service","description":"Shutdown the web scraping service gracefully.\n\nThis stops all workers and cleans up resources.\nAdmin only endpoint.","operationId":"shutdown_scraping_service_web_scraping_service_shutdown_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Shutdown Scraping Service Web Scraping Service Shutdown Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/web-scraping/progress/{task_id}":{"get":{"tags":["web-scraping","Web Scraping Management"],"summary":"Get Scraping Progress","description":"Get progress information for a scraping task.\n\nUseful for long-running recursive or sitemap scraping tasks.\n\nArgs:\n    task_id: The task identifier\n    \nReturns:\n    Progress information including pages scraped, remaining, current URL, etc.","operationId":"get_scraping_progress_web_scraping_progress__task_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"string","title":"Task Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Scraping Progress Web Scraping Progress  Task Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/web-scraping/cookies/{domain}":{"get":{"tags":["web-scraping","Web Scraping Management"],"summary":"Get Cookies For Domain","description":"Get stored cookies for a specific domain.\n\nArgs:\n    domain: The domain to get cookies for\n    \nReturns:\n    List of cookies for the domain","operationId":"get_cookies_for_domain_web_scraping_cookies__domain__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"domain","in":"path","required":true,"schema":{"type":"string","title":"Domain"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Cookies For Domain Web Scraping Cookies  Domain  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["web-scraping","Web Scraping Management"],"summary":"Set Cookies For Domain","description":"Set cookies for a specific domain.\n\nUseful for handling authentication or paywalled content.\n\nArgs:\n    domain: The domain to set cookies for\n    cookies: List of cookie dictionaries\n    \nReturns:\n    Success status","operationId":"set_cookies_for_domain_web_scraping_cookies__domain__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"domain","in":"path","required":true,"schema":{"type":"string","title":"Domain"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":true},"title":"Cookies"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Set Cookies For Domain Web Scraping Cookies  Domain  Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/web-scraping/duplicates/check":{"get":{"tags":["web-scraping","Web Scraping Management"],"summary":"Check Url Duplicate","description":"Check if a URL's content has already been scraped (duplicate detection).\n\nArgs:\n    url: The URL to check\n    \nReturns:\n    Duplicate status and information about the original if found","operationId":"check_url_duplicate_web_scraping_duplicates_check_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"url","in":"query","required":true,"schema":{"type":"string","description":"URL to check for duplicate content","title":"Url"},"description":"URL to check for duplicate content"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Check Url Duplicate Web Scraping Duplicates Check Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/web-scraping/status":{"get":{"tags":["web-scraping","Web Scraping Management"],"summary":"Get Scraping Service Status","description":"Get the status of the web scraping service including queue statistics.\n\nReturns:\n    Service status including:\n    - Initialization status\n    - Queue statistics (active, pending, completed jobs)\n    - Rate limiting configuration","operationId":"get_scraping_service_status_api_v1_web_scraping_status_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Scraping Service Status Api V1 Web Scraping Status Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/web-scraping/job/{job_id}":{"get":{"tags":["web-scraping","Web Scraping Management"],"summary":"Get Scraping Job Status","description":"Get the status of a specific scraping job.\n\nArgs:\n    job_id: The ID of the scraping job\n    \nReturns:\n    Job details including status, progress, and results","operationId":"get_scraping_job_status_api_v1_web_scraping_job__job_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Scraping Job Status Api V1 Web Scraping Job  Job Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["web-scraping","Web Scraping Management"],"summary":"Cancel Scraping Job","description":"Cancel a pending or active scraping job.\n\nArgs:\n    job_id: The ID of the scraping job to cancel\n    \nReturns:\n    Cancellation status","operationId":"cancel_scraping_job_api_v1_web_scraping_job__job_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Cancel Scraping Job Api V1 Web Scraping Job  Job Id  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/web-scraping/service/initialize":{"post":{"tags":["web-scraping","Web Scraping Management"],"summary":"Initialize Scraping Service","description":"Initialize the web scraping service if not already initialized.\n\nThis starts the worker pool and prepares the service for scraping.","operationId":"initialize_scraping_service_api_v1_web_scraping_service_initialize_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Initialize Scraping Service Api V1 Web Scraping Service Initialize Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/web-scraping/service/shutdown":{"post":{"tags":["web-scraping","Web Scraping Management"],"summary":"Shutdown Scraping Service","description":"Shutdown the web scraping service gracefully.\n\nThis stops all workers and cleans up resources.\nAdmin only endpoint.","operationId":"shutdown_scraping_service_api_v1_web_scraping_service_shutdown_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Shutdown Scraping Service Api V1 Web Scraping Service Shutdown Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/web-scraping/progress/{task_id}":{"get":{"tags":["web-scraping","Web Scraping Management"],"summary":"Get Scraping Progress","description":"Get progress information for a scraping task.\n\nUseful for long-running recursive or sitemap scraping tasks.\n\nArgs:\n    task_id: The task identifier\n    \nReturns:\n    Progress information including pages scraped, remaining, current URL, etc.","operationId":"get_scraping_progress_api_v1_web_scraping_progress__task_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"string","title":"Task Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Scraping Progress Api V1 Web Scraping Progress  Task Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/web-scraping/cookies/{domain}":{"get":{"tags":["web-scraping","Web Scraping Management"],"summary":"Get Cookies For Domain","description":"Get stored cookies for a specific domain.\n\nArgs:\n    domain: The domain to get cookies for\n    \nReturns:\n    List of cookies for the domain","operationId":"get_cookies_for_domain_api_v1_web_scraping_cookies__domain__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"domain","in":"path","required":true,"schema":{"type":"string","title":"Domain"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Cookies For Domain Api V1 Web Scraping Cookies  Domain  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["web-scraping","Web Scraping Management"],"summary":"Set Cookies For Domain","description":"Set cookies for a specific domain.\n\nUseful for handling authentication or paywalled content.\n\nArgs:\n    domain: The domain to set cookies for\n    cookies: List of cookie dictionaries\n    \nReturns:\n    Success status","operationId":"set_cookies_for_domain_api_v1_web_scraping_cookies__domain__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"domain","in":"path","required":true,"schema":{"type":"string","title":"Domain"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":true},"title":"Cookies"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Set Cookies For Domain Api V1 Web Scraping Cookies  Domain  Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/web-scraping/duplicates/check":{"get":{"tags":["web-scraping","Web Scraping Management"],"summary":"Check Url Duplicate","description":"Check if a URL's content has already been scraped (duplicate detection).\n\nArgs:\n    url: The URL to check\n    \nReturns:\n    Duplicate status and information about the original if found","operationId":"check_url_duplicate_api_v1_web_scraping_duplicates_check_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"url","in":"query","required":true,"schema":{"type":"string","description":"URL to check for duplicate content","title":"Url"},"description":"URL to check for duplicate content"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Check Url Duplicate Api V1 Web Scraping Duplicates Check Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"summary":"Health Check","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"ABTestArm":{"properties":{"provider":{"type":"string","title":"Provider","description":"Embedding provider id, e.g., 'openai' or 'huggingface'"},"model":{"type":"string","title":"Model","description":"Embedding model id"},"dimensions":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Dimensions","description":"Requested output dimensions if supported"}},"additionalProperties":false,"type":"object","required":["provider","model"],"title":"ABTestArm"},"ABTestChunking":{"properties":{"method":{"type":"string","title":"Method","description":"Chunking method, e.g., 'words' or 'sentences'"},"size":{"type":"integer","minimum":1.0,"title":"Size","description":"Max chunk size"},"overlap":{"type":"integer","minimum":0.0,"title":"Overlap","description":"Chunk overlap"},"language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language","description":"Language hint"}},"additionalProperties":false,"type":"object","required":["method","size","overlap"],"title":"ABTestChunking"},"ABTestCleanupPolicy":{"properties":{"on_complete":{"type":"boolean","title":"On Complete","description":"Delete collections on completion","default":false},"ttl_hours":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Ttl Hours","description":"TTL for collections if not deleted immediately"}},"additionalProperties":false,"type":"object","title":"ABTestCleanupPolicy"},"ABTestLimits":{"properties":{"max_docs":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Max Docs","description":"Max docs to include from corpus"},"timeout_s":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Timeout S","description":"Global timeout in seconds"}},"additionalProperties":false,"type":"object","title":"ABTestLimits"},"ABTestQuery":{"properties":{"text":{"type":"string","title":"Text","description":"Query text"},"expected_ids":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Expected Ids","description":"Optional ground truth media ids"},"metadata":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Metadata","description":"Optional query metadata"}},"additionalProperties":false,"type":"object","required":["text"],"title":"ABTestQuery"},"ABTestReRanker":{"properties":{"provider":{"type":"string","title":"Provider","description":"Reranker provider id"},"model":{"type":"string","title":"Model","description":"Reranker model id"}},"additionalProperties":false,"type":"object","required":["provider","model"],"title":"ABTestReRanker"},"ABTestRetrieval":{"properties":{"k":{"type":"integer","maximum":1000.0,"minimum":1.0,"title":"K","description":"Top-k results to return"},"search_mode":{"anyOf":[{"type":"string","enum":["fts","vector","hybrid"]},{"type":"null"}],"title":"Search Mode","description":"Retrieval mode","default":"vector"},"hybrid_alpha":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Hybrid Alpha","description":"0=FTS only, 1=Vector only (hybrid blend)"},"re_ranker":{"anyOf":[{"$ref":"#/components/schemas/ABTestReRanker"},{"type":"null"}],"description":"Optional reranker config"},"index_params":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Index Params","description":"Index parameters for vector store"},"apply_reranker":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Apply Reranker","description":"Apply reranker in vector-only mode when re_ranker is set","default":false}},"additionalProperties":false,"type":"object","required":["k"],"title":"ABTestRetrieval"},"AdhocRunRequest":{"properties":{"definition":{"$ref":"#/components/schemas/WorkflowDefinitionCreate"},"inputs":{"additionalProperties":true,"type":"object","title":"Inputs"},"idempotency_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Idempotency Key"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"}},"type":"object","required":["definition"],"title":"AdhocRunRequest"},"ApplyTemplateRequest":{"properties":{"template_name":{"type":"string","title":"Template Name","description":"Name of the template to apply"},"text":{"type":"string","title":"Text","description":"Text to chunk using the template"},"override_options":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Override Options","description":"Options to override template defaults"}},"type":"object","required":["template_name","text"],"title":"ApplyTemplateRequest","description":"Request schema for applying a template to text."},"ApplyTemplateResponse":{"properties":{"template_name":{"type":"string","title":"Template Name","description":"Applied template name"},"chunks":{"items":{},"type":"array","title":"Chunks","description":"Resulting chunks (text or {text, metadata} when include_metadata=true)"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"Additional metadata from processing"}},"type":"object","required":["template_name","chunks"],"title":"ApplyTemplateResponse","description":"Response schema for template application."},"ArmSummary":{"properties":{"arm_id":{"type":"string","title":"Arm Id"},"provider":{"type":"string","title":"Provider"},"model":{"type":"string","title":"Model"},"dimensions":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Dimensions"},"metrics":{"additionalProperties":{"type":"number"},"type":"object","title":"Metrics"},"latency_ms":{"additionalProperties":{"type":"number"},"type":"object","title":"Latency Ms"},"doc_counts":{"additionalProperties":{"type":"integer"},"type":"object","title":"Doc Counts"}},"type":"object","required":["arm_id","provider","model"],"title":"ArmSummary"},"ArxivPaper":{"properties":{"id":{"type":"string","title":"Id"},"title":{"type":"string","title":"Title"},"authors":{"type":"string","title":"Authors"},"published_date":{"type":"string","title":"Published Date"},"abstract":{"type":"string","title":"Abstract"},"pdf_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pdf Url"}},"type":"object","required":["id","title","authors","published_date","abstract"],"title":"ArxivPaper"},"ArxivSearchResponse":{"properties":{"query_echo":{"additionalProperties":true,"type":"object","title":"Query Echo"},"items":{"items":{"$ref":"#/components/schemas/ArxivPaper"},"type":"array","title":"Items"},"total_results":{"type":"integer","title":"Total Results"},"page":{"type":"integer","title":"Page"},"results_per_page":{"type":"integer","title":"Results Per Page"},"total_pages":{"type":"integer","title":"Total Pages"}},"type":"object","required":["query_echo","items","total_results","page","results_per_page","total_pages"],"title":"ArxivSearchResponse"},"AsyncGenerationResponse":{"properties":{"job_id":{"type":"string","title":"Job Id","description":"Job ID for tracking"},"status":{"$ref":"#/components/schemas/GenerationStatus","description":"Current job status"},"conversation_id":{"type":"integer","title":"Conversation Id","description":"Conversation ID"},"document_type":{"$ref":"#/components/schemas/DocumentType","description":"Type of document being generated"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Job creation timestamp"},"message":{"type":"string","title":"Message","description":"Status message"}},"type":"object","required":["job_id","status","conversation_id","document_type","created_at","message"],"title":"AsyncGenerationResponse","description":"Response schema for async document generation."},"AuditLogEntry":{"properties":{"id":{"type":"integer","title":"Id"},"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"},"username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username"},"action":{"type":"string","title":"Action"},"details":{"anyOf":[{},{"type":"null"}],"title":"Details"},"ip_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ip Address"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","action","created_at"],"title":"AuditLogEntry","description":"Single audit log entry"},"AuditLogResponse":{"properties":{"entries":{"items":{"$ref":"#/components/schemas/AuditLogEntry"},"type":"array","title":"Entries"}},"type":"object","required":["entries"],"title":"AuditLogResponse","description":"Response for audit log endpoint"},"AuthTokenRequest":{"properties":{"username":{"type":"string","title":"Username"},"password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Password"},"api_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Key"}},"type":"object","required":["username"],"title":"AuthTokenRequest","description":"Authentication token request"},"AuthTokenResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"},"expires_in":{"type":"integer","title":"Expires In"},"refresh_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Refresh Token"}},"type":"object","required":["access_token","expires_in"],"title":"AuthTokenResponse","description":"Authentication token response"},"BatchEvaluationRequest":{"properties":{"evaluation_type":{"type":"string","enum":["geval","rag","response_quality"],"title":"Evaluation Type"},"items":{"items":{"additionalProperties":true,"type":"object"},"type":"array","maxItems":1000,"minItems":1,"title":"Items"},"parallel_workers":{"type":"integer","maximum":20.0,"minimum":1.0,"title":"Parallel Workers","default":4},"continue_on_error":{"type":"boolean","title":"Continue On Error","default":true}},"type":"object","required":["evaluation_type","items"],"title":"BatchEvaluationRequest","description":"Batch evaluation request"},"BatchEvaluationResponse":{"properties":{"total_items":{"type":"integer","title":"Total Items"},"successful":{"type":"integer","title":"Successful"},"failed":{"type":"integer","title":"Failed"},"results":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Results"},"aggregate_metrics":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Aggregate Metrics"},"processing_time":{"type":"number","title":"Processing Time"}},"type":"object","required":["total_items","successful","failed","results","processing_time"],"title":"BatchEvaluationResponse","description":"Batch evaluation response"},"BenchmarkInfoResponse":{"properties":{"name":{"type":"string","title":"Name","description":"Benchmark name"},"description":{"type":"string","title":"Description","description":"Benchmark description"},"evaluation_type":{"type":"string","title":"Evaluation Type","description":"Type of evaluation"},"dataset_source":{"type":"string","title":"Dataset Source","description":"Dataset source"},"metadata":{"additionalProperties":true,"type":"object","title":"Metadata","description":"Additional metadata"}},"type":"object","required":["name","description","evaluation_type","dataset_source"],"title":"BenchmarkInfoResponse","description":"Response for benchmark information."},"BenchmarkListResponse":{"properties":{"benchmarks":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Benchmarks","description":"List of available benchmarks"},"total":{"type":"integer","title":"Total","description":"Total number of benchmarks"}},"type":"object","required":["benchmarks","total"],"title":"BenchmarkListResponse","description":"Response for benchmark list."},"BenchmarkRunRequest":{"properties":{"limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Limit","description":"Limit number of samples"},"api_name":{"type":"string","title":"Api Name","description":"API to use for evaluation","default":"openai"},"api_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Key","description":"API key if not in config"},"parallel":{"type":"integer","maximum":16.0,"minimum":1.0,"title":"Parallel","description":"Number of parallel workers","default":4},"save_results":{"type":"boolean","title":"Save Results","description":"Save results to database","default":true},"filter_categories":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Filter Categories","description":"Filter by categories"}},"type":"object","title":"BenchmarkRunRequest","description":"Request to run a benchmark."},"BenchmarkRunResponse":{"properties":{"benchmark":{"type":"string","title":"Benchmark","description":"Benchmark name"},"total_samples":{"type":"integer","title":"Total Samples","description":"Total samples evaluated"},"results_summary":{"additionalProperties":true,"type":"object","title":"Results Summary","description":"Summary of results"},"evaluation_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Evaluation Id","description":"Evaluation ID if saved"}},"type":"object","required":["benchmark","total_samples","results_summary"],"title":"BenchmarkRunResponse","description":"Response from benchmark run."},"BenchmarkSampleResponse":{"properties":{"benchmark":{"type":"string","title":"Benchmark","description":"Benchmark name"},"samples":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Samples","description":"Sample questions/items"},"total_available":{"type":"integer","title":"Total Available","description":"Total samples in dataset"}},"type":"object","required":["benchmark","samples","total_available"],"title":"BenchmarkSampleResponse","description":"Response with benchmark samples."},"Body_add_media_api_v1_media_add_post":{"properties":{"files":{"anyOf":[{"items":{"type":"string","format":"binary"},"type":"array"},{"type":"null"}],"title":"Files","description":"List of files to upload"},"media_type":{"type":"string","enum":["video","audio","document","pdf","ebook"],"title":"Media Type","description":"Type of media (e.g., 'audio', 'video', 'pdf')"},"urls":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Urls","description":"List of URLs of the media items to add"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title","description":"Optional title (applied if only one item processed)"},"author":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author","description":"Optional author (applied similarly to title)"},"keywords":{"type":"string","title":"Keywords","description":"Comma-separated keywords (applied to all processed items)","default":""},"custom_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Prompt","description":"Optional custom prompt (applied to all)"},"system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt","description":"Optional system prompt (applied to all)"},"overwrite_existing":{"type":"boolean","title":"Overwrite Existing","description":"Overwrite existing media","default":false},"keep_original_file":{"type":"boolean","title":"Keep Original File","description":"Retain original uploaded files","default":false},"perform_analysis":{"type":"boolean","title":"Perform Analysis","description":"Perform analysis (default=True)","default":true},"api_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name","description":"Optional API name"},"use_cookies":{"type":"boolean","title":"Use Cookies","description":"Use cookies for URL download requests","default":false},"cookies":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cookies","description":"Cookie string if `use_cookies` is True"},"transcription_model":{"type":"string","title":"Transcription Model","description":"Transcription model","default":"deepdml/faster-distil-whisper-large-v3.5"},"transcription_language":{"type":"string","title":"Transcription Language","description":"Transcription language","default":"en"},"diarize":{"type":"boolean","title":"Diarize","description":"Enable speaker diarization","default":false},"timestamp_option":{"type":"boolean","title":"Timestamp Option","description":"Include timestamps in transcription","default":true},"vad_use":{"type":"boolean","title":"Vad Use","description":"Enable VAD filter","default":false},"perform_confabulation_check_of_analysis":{"type":"boolean","title":"Perform Confabulation Check Of Analysis","description":"Enable confabulation check","default":false},"start_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Start Time","description":"Optional start time (HH:MM:SS or seconds)"},"end_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"End Time","description":"Optional end time (HH:MM:SS or seconds)"},"pdf_parsing_engine":{"anyOf":[{"type":"string","enum":["pymupdf4llm","pymupdf","docling"]},{"type":"null"}],"title":"Pdf Parsing Engine","description":"PDF parsing engine","default":"pymupdf4llm"},"perform_chunking":{"type":"boolean","title":"Perform Chunking","description":"Enable chunking","default":true},"chunk_method":{"anyOf":[{"type":"string","enum":["semantic","tokens","paragraphs","sentences","words","ebook_chapters","json","propositions"]},{"type":"null"}],"title":"Chunk Method","description":"Chunking method"},"use_adaptive_chunking":{"type":"boolean","title":"Use Adaptive Chunking","description":"Enable adaptive chunking","default":false},"use_multi_level_chunking":{"type":"boolean","title":"Use Multi Level Chunking","description":"Enable multi-level chunking","default":false},"chunk_language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Language","description":"Chunking language override"},"chunk_size":{"type":"integer","title":"Chunk Size","description":"Target chunk size","default":500},"chunk_overlap":{"type":"integer","title":"Chunk Overlap","description":"Chunk overlap size","default":200},"custom_chapter_pattern":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Chapter Pattern","description":"Regex pattern for custom chapter splitting"},"perform_rolling_summarization":{"type":"boolean","title":"Perform Rolling Summarization","description":"Perform rolling summarization","default":false},"enable_contextual_chunking":{"type":"boolean","title":"Enable Contextual Chunking","description":"Enable contextual chunking","default":false},"contextual_llm_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contextual Llm Model","description":"LLM model for contextual chunking"},"context_window_size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Context Window Size","description":"Context window size (chars)"},"context_strategy":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Context Strategy","description":"Context strategy: auto|full|window|outline_window"},"context_token_budget":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Context Token Budget","description":"Approx token budget for auto strategy"},"summarize_recursively":{"type":"boolean","title":"Summarize Recursively","description":"Perform recursive summarization","default":false},"generate_embeddings":{"type":"boolean","title":"Generate Embeddings","description":"Generate embeddings after media processing","default":false},"embedding_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Embedding Model","description":"Specific embedding model to use"},"embedding_provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Embedding Provider","description":"Embedding provider (huggingface, openai, etc)"}},"type":"object","required":["media_type"],"title":"Body_add_media_api_v1_media_add_post"},"Body_create_transcription_api_v1_audio_transcriptions_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"The audio file to transcribe"},"model":{"type":"string","title":"Model","description":"Model to use for transcription","default":"whisper-1"},"language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language","description":"Language of the audio in ISO-639-1 format"},"prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Prompt","description":"Optional text to guide the model's style"},"response_format":{"type":"string","title":"Response Format","description":"Format of the transcript output","default":"json"},"temperature":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Temperature","description":"Sampling temperature","default":0.0},"timestamp_granularities":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Timestamp Granularities","description":"Timestamp granularities (comma-separated)","default":"segment"}},"type":"object","required":["file"],"title":"Body_create_transcription_api_v1_audio_transcriptions_post"},"Body_create_translation_api_v1_audio_translations_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"The audio file to translate"},"model":{"type":"string","title":"Model","description":"Model to use for translation","default":"whisper-1"},"prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Prompt","description":"Optional text to guide the model's style"},"response_format":{"type":"string","title":"Response Format","description":"Format of the transcript output","default":"json"},"temperature":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Temperature","description":"Sampling temperature","default":0.0}},"type":"object","required":["file"],"title":"Body_create_translation_api_v1_audio_translations_post"},"Body_evaluate_ocr_pdf_endpoint_api_v1_evaluations_ocr_pdf_post":{"properties":{"files":{"items":{"type":"string","format":"binary"},"type":"array","title":"Files","description":"PDF files to OCR and evaluate"},"ground_truths":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Ground Truths","description":"Ground-truth text per file (order aligned)"},"ground_truths_json":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ground Truths Json","description":"JSON array of ground-truth texts aligned to files"},"metrics":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Metrics","description":"Metrics to compute (cer, wer, coverage, page_coverage)"},"ground_truths_pages_json":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ground Truths Pages Json","description":"JSON array of per-file page arrays of ground truth text (e.g., [[...],[...]])"},"thresholds_json":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Thresholds Json","description":"JSON dict of thresholds (max_cer, max_wer, min_coverage, min_page_coverage)"},"enable_ocr":{"type":"boolean","title":"Enable Ocr","description":"Enable OCR","default":true},"ocr_backend":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ocr Backend","description":"OCR backend (e.g., 'tesseract' or 'auto')"},"ocr_lang":{"type":"string","title":"Ocr Lang","description":"OCR language","default":"eng"},"ocr_dpi":{"type":"integer","title":"Ocr Dpi","description":"Render DPI (72-600)","default":300},"ocr_mode":{"type":"string","title":"Ocr Mode","description":"OCR mode: 'always' or 'fallback'","default":"fallback"},"ocr_min_page_text_chars":{"type":"integer","title":"Ocr Min Page Text Chars","description":"Threshold for per-page OCR fallback","default":40}},"type":"object","required":["files"],"title":"Body_evaluate_ocr_pdf_endpoint_api_v1_evaluations_ocr_pdf_post"},"Body_import_character_endpoint_api_v1_characters_import_post":{"properties":{"character_file":{"type":"string","format":"binary","title":"Character File","description":"Character card file (PNG, WEBP, JSON, MD)."}},"type":"object","required":["character_file"],"title":"Body_import_character_endpoint_api_v1_characters_import_post"},"Body_import_chatbook_api_v1_chatbooks_import_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"},"content_selections":{"anyOf":[{"additionalProperties":{"items":{"type":"string"},"type":"array"},"propertyNames":{"$ref":"#/components/schemas/ContentType"},"type":"object"},{"type":"null"}],"title":"Content Selections"}},"type":"object","required":["file"],"title":"Body_import_chatbook_api_v1_chatbooks_import_post"},"Body_ingest_mediawiki_dump_endpoint_api_v1_media_mediawiki_ingest_dump_post":{"properties":{"dump_file":{"type":"string","format":"binary","title":"Dump File","description":"MediaWiki XML dump file (.xml, .xml.bz2, .xml.gz)."},"wiki_name":{"type":"string","title":"Wiki Name","description":"A unique name for this MediaWiki instance."},"namespaces_str":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Namespaces Str","description":"Comma-separated namespace IDs (e.g., '0,1'). All if None."},"skip_redirects":{"type":"boolean","title":"Skip Redirects","description":"Skip redirect pages.","default":true},"chunk_max_size":{"type":"integer","title":"Chunk Max Size","description":"Max chunk size."},"api_name_vector_db":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name Vector Db","description":"API name for vector DB/embedding service."},"api_key_vector_db":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Key Vector Db","description":"API key for vector DB/embedding service."}},"type":"object","required":["dump_file","wiki_name"],"title":"Body_ingest_mediawiki_dump_endpoint_api_v1_media_mediawiki_ingest_dump_post"},"Body_login_api_v1_auth_login_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"^password$"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","format":"password","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"format":"password","title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login_api_v1_auth_login_post"},"Body_preview_chatbook_api_v1_chatbooks_preview_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_preview_chatbook_api_v1_chatbooks_preview_post"},"Body_preview_voice_api_v1_audio_voices__voice_id__preview_post":{"properties":{"text":{"type":"string","title":"Text","description":"Text to speak","default":"Hello, this is a preview of your custom voice."}},"type":"object","title":"Body_preview_voice_api_v1_audio_voices__voice_id__preview_post"},"Body_process_audios_endpoint_api_v1_media_process_audios_post":{"properties":{"files":{"anyOf":[{"items":{"type":"string","format":"binary"},"type":"array"},{"type":"null"}],"title":"Files","description":"Audio file uploads"},"urls":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Urls","description":"List of URLs of the audio items"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title","description":"Optional title (applied if only one item processed)"},"author":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author","description":"Optional author (applied similarly to title)"},"keywords":{"type":"string","title":"Keywords","description":"Comma-separated keywords","default":""},"custom_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Prompt","description":"Optional custom prompt"},"system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt","description":"Optional system prompt"},"overwrite_existing":{"type":"boolean","title":"Overwrite Existing","description":"Overwrite existing media (Not used in this endpoint, but needed for model)","default":false},"perform_analysis":{"type":"boolean","title":"Perform Analysis","description":"Perform analysis","default":true},"api_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name","description":"Optional API name"},"use_cookies":{"type":"boolean","title":"Use Cookies","description":"Use cookies for URL download requests","default":false},"cookies":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cookies","description":"Cookie string if `use_cookies` is True"},"transcription_model":{"type":"string","title":"Transcription Model","description":"Transcription model","default":"deepdml/faster-distil-whisper-large-v3.5"},"transcription_language":{"type":"string","title":"Transcription Language","description":"Transcription language","default":"en"},"diarize":{"type":"boolean","title":"Diarize","description":"Enable speaker diarization","default":false},"timestamp_option":{"type":"boolean","title":"Timestamp Option","description":"Include timestamps in transcription","default":true},"vad_use":{"type":"boolean","title":"Vad Use","description":"Enable VAD filter","default":false},"perform_confabulation_check_of_analysis":{"type":"boolean","title":"Perform Confabulation Check Of Analysis","description":"Enable confabulation check","default":false},"perform_chunking":{"type":"boolean","title":"Perform Chunking","description":"Enable chunking","default":true},"chunk_method":{"anyOf":[{"type":"string","enum":["semantic","tokens","paragraphs","sentences","words","ebook_chapters","json","propositions"]},{"type":"null"}],"title":"Chunk Method","description":"Chunking method"},"use_adaptive_chunking":{"type":"boolean","title":"Use Adaptive Chunking","description":"Enable adaptive chunking","default":false},"use_multi_level_chunking":{"type":"boolean","title":"Use Multi Level Chunking","description":"Enable multi-level chunking","default":false},"chunk_language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Language","description":"Chunking language override"},"chunk_size":{"type":"integer","title":"Chunk Size","description":"Target chunk size","default":500},"chunk_overlap":{"type":"integer","title":"Chunk Overlap","description":"Chunk overlap size","default":200},"perform_rolling_summarization":{"type":"boolean","title":"Perform Rolling Summarization","description":"Perform rolling summarization","default":false},"summarize_recursively":{"type":"boolean","title":"Summarize Recursively","description":"Perform recursive summarization","default":false},"pdf_parsing_engine":{"anyOf":[{"type":"string","enum":["pymupdf4llm","pymupdf","docling"]},{"type":"null"}],"title":"Pdf Parsing Engine","description":"PDF parsing engine (for model compatibility)","default":"pymupdf4llm"},"custom_chapter_pattern":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Chapter Pattern","description":"Regex pattern for custom chapter splitting (for model compatibility)"},"start_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Start Time","description":"Optional start time (HH:MM:SS or seconds)"},"end_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"End Time","description":"Optional end time (HH:MM:SS or seconds)"},"enable_contextual_chunking":{"type":"boolean","title":"Enable Contextual Chunking","description":"Enable contextual chunking","default":false},"contextual_llm_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contextual Llm Model","description":"LLM model for contextualization"},"context_window_size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Context Window Size","description":"Context window size (chars)"},"context_strategy":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Context Strategy","description":"Context strategy: auto|full|window|outline_window"},"context_token_budget":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Context Token Budget","description":"Approx token budget for auto strategy"}},"type":"object","title":"Body_process_audios_endpoint_api_v1_media_process_audios_post"},"Body_process_documents_endpoint_api_v1_media_process_documents_post":{"properties":{"files":{"anyOf":[{"items":{"type":"string","format":"binary"},"type":"array"},{"type":"null"}],"title":"Files","description":"Document file uploads (.txt, .md, .docx, .rtf, .html, .xml)"},"urls":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Urls","description":"List of URLs of the documents"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title","description":"Optional title override"},"author":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author","description":"Optional author override"},"keywords":{"type":"string","title":"Keywords","description":"Comma-separated keywords","default":""},"custom_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Prompt","description":"Optional custom prompt for analysis"},"system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt","description":"Optional system prompt for analysis"},"overwrite_existing":{"type":"boolean","title":"Overwrite Existing","default":false},"perform_analysis":{"type":"boolean","title":"Perform Analysis","default":true},"api_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name"},"use_cookies":{"type":"boolean","title":"Use Cookies","default":false},"cookies":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cookies"},"summarize_recursively":{"type":"boolean","title":"Summarize Recursively","default":false},"perform_rolling_summarization":{"type":"boolean","title":"Perform Rolling Summarization","default":false},"perform_chunking":{"type":"boolean","title":"Perform Chunking","default":true},"chunk_method":{"anyOf":[{"type":"string","enum":["semantic","tokens","paragraphs","sentences","words","ebook_chapters","json","propositions"]},{"type":"null"}],"title":"Chunk Method","default":"sentences"},"chunk_language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Language"},"chunk_size":{"type":"integer","title":"Chunk Size","default":1000},"chunk_overlap":{"type":"integer","title":"Chunk Overlap","default":200},"custom_chapter_pattern":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Chapter Pattern"},"use_adaptive_chunking":{"type":"boolean","title":"Use Adaptive Chunking","default":false},"use_multi_level_chunking":{"type":"boolean","title":"Use Multi Level Chunking","default":false},"start_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Start Time"},"end_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"End Time"},"transcription_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Transcription Model"},"transcription_language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Transcription Language"},"diarize":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Diarize"},"timestamp_option":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Timestamp Option"},"vad_use":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Vad Use"},"perform_confabulation_check_of_analysis":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Perform Confabulation Check Of Analysis"},"pdf_parsing_engine":{"anyOf":[{},{"type":"null"}],"title":"Pdf Parsing Engine"},"extraction_method":{"anyOf":[{},{"type":"null"}],"title":"Extraction Method"},"enable_contextual_chunking":{"type":"boolean","title":"Enable Contextual Chunking","description":"Enable contextual chunking","default":false},"contextual_llm_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contextual Llm Model","description":"LLM model for contextualization"},"context_window_size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Context Window Size","description":"Context window size (chars)"},"context_strategy":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Context Strategy","description":"Context strategy: auto|full|window|outline_window"},"context_token_budget":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Context Token Budget","description":"Approx token budget for auto strategy"}},"type":"object","title":"Body_process_documents_endpoint_api_v1_media_process_documents_post"},"Body_process_ebooks_endpoint_api_v1_media_process_ebooks_post":{"properties":{"files":{"anyOf":[{"items":{"type":"string","format":"binary"},"type":"array"},{"type":"null"}],"title":"Files","description":"EPUB file uploads (.epub)"},"urls":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Urls","description":"List of URLs of the EPUB items"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title","description":"Optional title override"},"author":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author","description":"Optional author override"},"keywords":{"type":"string","title":"Keywords","description":"Comma-separated keywords","default":""},"custom_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Prompt","description":"Optional custom prompt for analysis"},"system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt","description":"Optional system prompt for analysis"},"overwrite_existing":{"type":"boolean","title":"Overwrite Existing","description":"Overwrite existing media (Not used, for model validation)","default":false},"perform_analysis":{"type":"boolean","title":"Perform Analysis","description":"Perform analysis (summarization)","default":true},"api_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name","description":"Optional API name for analysis"},"use_cookies":{"type":"boolean","title":"Use Cookies","description":"Use cookies for URL download requests (Not implemented for ebooks)","default":false},"cookies":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cookies","description":"Cookie string (Not implemented for ebooks)"},"summarize_recursively":{"type":"boolean","title":"Summarize Recursively","description":"Perform recursive summarization","default":false},"perform_rolling_summarization":{"type":"boolean","title":"Perform Rolling Summarization","description":"Perform rolling summarization (Not applicable to ebooks)","default":false},"perform_chunking":{"type":"boolean","title":"Perform Chunking","description":"Enable chunking (default: by chapter)","default":true},"chunk_method":{"anyOf":[{"type":"string","enum":["semantic","tokens","paragraphs","sentences","words","ebook_chapters","json","propositions"]},{"type":"null"}],"title":"Chunk Method","description":"Chunking method ('semantic', 'tokens', 'paragraphs', 'sentences','words', 'ebook_chapters', 'json', 'propositions')","default":"ebook_chapters"},"chunk_language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Language","description":"Chunking language override (rarely needed for chapter)"},"chunk_size":{"type":"integer","title":"Chunk Size","description":"Target chunk size (used by non-chapter methods)","default":1500},"chunk_overlap":{"type":"integer","title":"Chunk Overlap","description":"Chunk overlap size (used by non-chapter methods)","default":200},"custom_chapter_pattern":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Chapter Pattern","description":"Regex pattern for custom chapter splitting (overrides method default)"},"extraction_method":{"type":"string","enum":["filtered","markdown","basic"],"title":"Extraction Method","description":"EPUB text extraction method","default":"filtered"},"start_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Start Time"},"end_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"End Time"},"transcription_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Transcription Model"},"transcription_language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Transcription Language"},"diarize":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Diarize"},"timestamp_option":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Timestamp Option"},"vad_use":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Vad Use"},"perform_confabulation_check_of_analysis":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Perform Confabulation Check Of Analysis"},"pdf_parsing_engine":{"anyOf":[{"type":"string","enum":["pymupdf4llm","pymupdf","docling"]},{"type":"null"}],"title":"Pdf Parsing Engine"},"use_adaptive_chunking":{"type":"boolean","title":"Use Adaptive Chunking","description":"Enable adaptive chunking (Not applicable)","default":false},"use_multi_level_chunking":{"type":"boolean","title":"Use Multi Level Chunking","description":"Enable multi-level chunking (Not applicable)","default":false},"enable_contextual_chunking":{"type":"boolean","title":"Enable Contextual Chunking","description":"Enable contextual chunking","default":false},"contextual_llm_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contextual Llm Model","description":"LLM model for contextualization"},"context_window_size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Context Window Size","description":"Context window size (chars)"},"context_strategy":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Context Strategy","description":"Context strategy: auto|full|window|outline_window"},"context_token_budget":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Context Token Budget","description":"Approx token budget for auto strategy"}},"type":"object","title":"Body_process_ebooks_endpoint_api_v1_media_process_ebooks_post"},"Body_process_file_for_chunking_api_v1_chunking_chunk_file_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"},"method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Method","default":"words"},"max_size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Max Size","default":400},"overlap":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Overlap","default":200},"language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language"},"tokenizer_name_or_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tokenizer Name Or Path","default":"gpt2"},"adaptive":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Adaptive","default":false},"multi_level":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Multi Level","default":false},"custom_chapter_pattern":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Chapter Pattern"},"semantic_similarity_threshold":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Semantic Similarity Threshold","default":0.7},"semantic_overlap_sentences":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Semantic Overlap Sentences","default":2},"json_chunkable_data_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Json Chunkable Data Key","default":"data"},"summarization_detail":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Summarization Detail","default":0.5},"llm_step_temperature":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Llm Step Temperature","description":"Client suggested temp for internal LLM steps."},"llm_step_system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Llm Step System Prompt","description":"Client suggested system prompt for internal LLM steps."},"llm_step_max_tokens":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Llm Step Max Tokens","description":"Client suggested max tokens for internal LLM steps."}},"type":"object","required":["file"],"title":"Body_process_file_for_chunking_api_v1_chunking_chunk_file_post"},"Body_process_mediawiki_dump_ephemeral_endpoint_api_v1_media_mediawiki_process_dump_post":{"properties":{"dump_file":{"type":"string","format":"binary","title":"Dump File","description":"MediaWiki XML dump file (.xml, .xml.bz2, .xml.gz)."},"wiki_name":{"type":"string","title":"Wiki Name","description":"A unique name for this MediaWiki instance."},"namespaces_str":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Namespaces Str","description":"Comma-separated namespace IDs (e.g., '0,1'). All if None."},"skip_redirects":{"type":"boolean","title":"Skip Redirects","description":"Skip redirect pages.","default":true},"chunk_max_size":{"type":"integer","title":"Chunk Max Size","description":"Max chunk size."},"api_name_vector_db":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name Vector Db","description":"API name for vector DB/embedding service."},"api_key_vector_db":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Key Vector Db","description":"API key for vector DB/embedding service."}},"type":"object","required":["dump_file","wiki_name"],"title":"Body_process_mediawiki_dump_ephemeral_endpoint_api_v1_media_mediawiki_process_dump_post"},"Body_process_pdfs_endpoint_api_v1_media_process_pdfs_post":{"properties":{"files":{"anyOf":[{"items":{"type":"string","format":"binary"},"type":"array"},{"type":"null"}],"title":"Files","description":"PDF uploads"},"urls":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Urls","description":"List of URLs of the PDF items"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title","description":"Optional title (applied if only one item processed)"},"author":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author","description":"Optional author (applied similarly to title)"},"keywords":{"type":"string","title":"Keywords","description":"Comma-separated keywords","default":""},"custom_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Prompt","description":"Optional custom prompt"},"system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt","description":"Optional system prompt"},"overwrite_existing":{"type":"boolean","title":"Overwrite Existing","description":"Overwrite existing media (Not used, for model)","default":false},"keep_original_file":{"type":"boolean","title":"Keep Original File","description":"Retain original files (fixed in model)","default":false},"perform_analysis":{"type":"boolean","title":"Perform Analysis","description":"Perform analysis","default":true},"api_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name","description":"Optional API name"},"use_cookies":{"type":"boolean","title":"Use Cookies","description":"Use cookies for URL download requests","default":false},"cookies":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cookies","description":"Cookie string if `use_cookies` is True"},"summarize_recursively":{"type":"boolean","title":"Summarize Recursively","description":"Perform recursive summarization","default":false},"perform_rolling_summarization":{"type":"boolean","title":"Perform Rolling Summarization","description":"Perform rolling summarization","default":false},"pdf_parsing_engine":{"anyOf":[{"type":"string","enum":["pymupdf4llm","pymupdf","docling"]},{"type":"null"}],"title":"Pdf Parsing Engine","description":"PDF parsing engine","default":"pymupdf4llm"},"enable_ocr":{"type":"boolean","title":"Enable Ocr","description":"Enable OCR for scanned/low-text PDFs","default":false},"ocr_backend":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ocr Backend","description":"OCR backend (e.g., 'tesseract' or 'auto')"},"ocr_lang":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ocr Lang","description":"OCR language (Tesseract codes, e.g., 'eng')","default":"eng"},"ocr_dpi":{"type":"integer","title":"Ocr Dpi","description":"OCR render DPI (72-600)","default":300},"ocr_mode":{"anyOf":[{"type":"string","enum":["always","fallback"]},{"type":"null"}],"title":"Ocr Mode","description":"OCR mode: 'always' or 'fallback'","default":"fallback"},"ocr_min_page_text_chars":{"type":"integer","title":"Ocr Min Page Text Chars","description":"Threshold to consider page empty for fallback","default":40},"custom_chapter_pattern":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Chapter Pattern","description":"Regex pattern for custom chapter splitting"},"perform_chunking":{"type":"boolean","title":"Perform Chunking","description":"Enable chunking","default":true},"chunk_method":{"anyOf":[{"type":"string","enum":["semantic","tokens","paragraphs","sentences","words","ebook_chapters","json","propositions"]},{"type":"null"}],"title":"Chunk Method","description":"Chunking method"},"use_adaptive_chunking":{"type":"boolean","title":"Use Adaptive Chunking","description":"Enable adaptive chunking","default":false},"use_multi_level_chunking":{"type":"boolean","title":"Use Multi Level Chunking","description":"Enable multi-level chunking","default":false},"chunk_language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Language","description":"Chunking language override"},"chunk_size":{"type":"integer","title":"Chunk Size","description":"Target chunk size","default":500},"chunk_overlap":{"type":"integer","title":"Chunk Overlap","description":"Chunk overlap size","default":200},"start_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Start Time","description":"Optional start time (HH:MM:SS or seconds)"},"end_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"End Time","description":"Optional end time (HH:MM:SS or seconds)"},"transcription_model":{"type":"string","title":"Transcription Model","description":"Transcription model","default":"deepdml/faster-distil-whisper-large-v3.5"},"transcription_language":{"type":"string","title":"Transcription Language","description":"Transcription language","default":"en"},"diarize":{"type":"boolean","title":"Diarize","description":"Enable speaker diarization","default":false},"timestamp_option":{"type":"boolean","title":"Timestamp Option","description":"Include timestamps in transcription","default":true},"vad_use":{"type":"boolean","title":"Vad Use","description":"Enable VAD filter","default":false},"perform_confabulation_check_of_analysis":{"type":"boolean","title":"Perform Confabulation Check Of Analysis","description":"Enable confabulation check","default":false}},"type":"object","title":"Body_process_pdfs_endpoint_api_v1_media_process_pdfs_post"},"Body_process_videos_endpoint_api_v1_media_process_videos_post":{"properties":{"files":{"anyOf":[{"items":{"type":"string","format":"binary"},"type":"array"},{"type":"null"}],"title":"Files","description":"Video file uploads"},"urls":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Urls","description":"List of URLs of the video items"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title","description":"Optional title (applied if only one item processed)"},"author":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author","description":"Optional author (applied similarly to title)"},"keywords":{"type":"string","title":"Keywords","description":"Comma-separated keywords","default":""},"custom_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Prompt","description":"Optional custom prompt"},"system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt","description":"Optional system prompt"},"overwrite_existing":{"type":"boolean","title":"Overwrite Existing","description":"Overwrite existing media (Not used in this endpoint, but needed for model)","default":false},"perform_analysis":{"type":"boolean","title":"Perform Analysis","description":"Perform analysis","default":true},"start_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Start Time","description":"Optional start time (HH:MM:SS or seconds)"},"end_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"End Time","description":"Optional end time (HH:MM:SS or seconds)"},"api_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name","description":"Optional API name"},"use_cookies":{"type":"boolean","title":"Use Cookies","description":"Use cookies for URL download requests","default":false},"cookies":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cookies","description":"Cookie string if `use_cookies` is True"},"transcription_model":{"type":"string","title":"Transcription Model","description":"Transcription model","default":"deepdml/faster-whisper-large-v3-turbo-ct2"},"transcription_language":{"type":"string","title":"Transcription Language","description":"Transcription language","default":"en"},"diarize":{"type":"boolean","title":"Diarize","description":"Enable speaker diarization","default":false},"timestamp_option":{"type":"boolean","title":"Timestamp Option","description":"Include timestamps in transcription","default":true},"vad_use":{"type":"boolean","title":"Vad Use","description":"Enable VAD filter","default":false},"perform_confabulation_check_of_analysis":{"type":"boolean","title":"Perform Confabulation Check Of Analysis","description":"Enable confabulation check","default":false},"pdf_parsing_engine":{"anyOf":[{"type":"string","enum":["pymupdf4llm","pymupdf","docling"]},{"type":"null"}],"title":"Pdf Parsing Engine","description":"PDF parsing engine (for model compatibility)","default":"pymupdf4llm"},"perform_chunking":{"type":"boolean","title":"Perform Chunking","description":"Enable chunking","default":true},"chunk_method":{"anyOf":[{"type":"string","enum":["semantic","tokens","paragraphs","sentences","words","ebook_chapters","json","propositions"]},{"type":"null"}],"title":"Chunk Method","description":"Chunking method"},"use_adaptive_chunking":{"type":"boolean","title":"Use Adaptive Chunking","description":"Enable adaptive chunking","default":false},"use_multi_level_chunking":{"type":"boolean","title":"Use Multi Level Chunking","description":"Enable multi-level chunking","default":false},"chunk_language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Language","description":"Chunking language override"},"chunk_size":{"type":"integer","title":"Chunk Size","description":"Target chunk size","default":500},"chunk_overlap":{"type":"integer","title":"Chunk Overlap","description":"Chunk overlap size","default":200},"custom_chapter_pattern":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Chapter Pattern","description":"Regex pattern for custom chapter splitting"},"perform_rolling_summarization":{"type":"boolean","title":"Perform Rolling Summarization","description":"Perform rolling summarization","default":false},"summarize_recursively":{"type":"boolean","title":"Summarize Recursively","description":"Perform recursive summarization","default":false},"enable_contextual_chunking":{"type":"boolean","title":"Enable Contextual Chunking","description":"Enable contextual chunking","default":false},"contextual_llm_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contextual Llm Model","description":"LLM model for contextual chunking"},"context_window_size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Context Window Size","description":"Context window size (chars)"},"context_strategy":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Context Strategy","description":"Context strategy: auto|full|window|outline_window"},"context_token_budget":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Context Token Budget","description":"Approx token budget for auto strategy"}},"type":"object","title":"Body_process_videos_endpoint_api_v1_media_process_videos_post"},"Body_start_llamacpp_server_endpoint_api_v1_llamacpp_start_server_post":{"properties":{"model_filename":{"type":"string","title":"Model Filename","description":"Filename of the GGUF model to load (e.g., 'mistral-7b-v0.1.Q4_K_M.gguf')"},"server_args":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Server Args","description":"Optional Llama.cpp server arguments (e.g., port, n_gpu_layers)","default":{}}},"type":"object","required":["model_filename"],"title":"Body_start_llamacpp_server_endpoint_api_v1_llamacpp_start_server_post"},"Body_upload_voice_api_v1_audio_voices_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"Voice sample audio file (WAV, MP3, FLAC, OGG)"},"name":{"type":"string","title":"Name","description":"Name for the voice"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Description of the voice"},"provider":{"type":"string","title":"Provider","description":"Target TTS provider","default":"vibevoice"}},"type":"object","required":["file","name"],"title":"Body_upload_voice_api_v1_audio_voices_upload_post"},"BootstrapConfig":{"properties":{"num_samples":{"type":"integer","maximum":1000.0,"minimum":10.0,"title":"Num Samples","description":"Number of samples to bootstrap","default":50},"selection_method":{"type":"string","title":"Selection Method","description":"Selection method for examples","default":"diverse"},"quality_threshold":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Quality Threshold","description":"Quality threshold for examples","default":0.7},"max_examples_per_prompt":{"type":"integer","maximum":20.0,"minimum":1.0,"title":"Max Examples Per Prompt","description":"Max examples to include","default":5}},"type":"object","title":"BootstrapConfig","description":"Configuration for bootstrapping examples"},"BulkEntryOperation":{"properties":{"entry_ids":{"items":{"type":"integer"},"type":"array","minItems":1,"title":"Entry Ids","description":"List of entry IDs"},"operation":{"type":"string","pattern":"^(enable|disable|delete|set_priority)$","title":"Operation","description":"Operation to perform"},"priority":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Priority","description":"New priority (for set_priority operation)"}},"type":"object","required":["entry_ids","operation"],"title":"BulkEntryOperation","description":"Schema for bulk entry operations."},"BulkGenerateRequest":{"properties":{"conversation_ids":{"items":{"type":"integer"},"type":"array","maxItems":50,"minItems":1,"title":"Conversation Ids","description":"List of conversation IDs"},"document_types":{"items":{"$ref":"#/components/schemas/DocumentType"},"type":"array","minItems":1,"title":"Document Types","description":"Types of documents to generate"},"provider":{"type":"string","minLength":1,"title":"Provider","description":"LLM provider name"},"model":{"type":"string","minLength":1,"title":"Model","description":"Model name"},"api_key":{"type":"string","minLength":1,"title":"Api Key","description":"API key for the provider"},"async_generation":{"type":"boolean","title":"Async Generation","description":"Generate asynchronously (recommended)","default":true}},"type":"object","required":["conversation_ids","document_types","provider","model","api_key"],"title":"BulkGenerateRequest","description":"Request schema for bulk document generation."},"BulkGenerateResponse":{"properties":{"total_jobs":{"type":"integer","title":"Total Jobs","description":"Total number of generation jobs created"},"job_ids":{"items":{"type":"string"},"type":"array","title":"Job Ids","description":"List of job IDs for tracking"},"estimated_time_seconds":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Estimated Time Seconds","description":"Estimated completion time"},"message":{"type":"string","title":"Message","description":"Status message"}},"type":"object","required":["total_jobs","job_ids","message"],"title":"BulkGenerateResponse","description":"Response schema for bulk generation."},"BulkOperationResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Whether operation succeeded"},"affected_count":{"type":"integer","title":"Affected Count","description":"Number of entries affected"},"failed_ids":{"items":{"type":"integer"},"type":"array","title":"Failed Ids","description":"IDs that failed"},"message":{"type":"string","title":"Message","description":"Operation result message"}},"type":"object","required":["success","affected_count","message"],"title":"BulkOperationResponse","description":"Response schema for bulk operations."},"CharacterCreate":{"properties":{"name":{"type":"string","minLength":1,"title":"Name","examples":["Sir Gideon"]},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","examples":["A brave knight"]},"personality":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Personality","examples":["Stoic and honorable"]},"scenario":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Scenario","examples":["Guarding the ancient ruins"]},"system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt","examples":["You are a helpful character."]},"post_history_instructions":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Post History Instructions"},"first_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Message","examples":["Greetings, traveler!"]},"message_example":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message Example","examples":["<START>\nUSER: Hello\nASSISTANT: Hi there!\n<END>"]},"creator_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Creator Notes"},"alternate_greetings":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"string"},{"type":"null"}],"title":"Alternate Greetings","description":"List of strings or a JSON string representation of a list.","examples":[["Hello!","Good day!"]]},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"string"},{"type":"null"}],"title":"Tags","description":"List of strings or a JSON string representation of a list.","examples":[["fantasy","knight"]]},"creator":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Creator"},"character_version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Character Version"},"extensions":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"string"},{"type":"null"}],"title":"Extensions","description":"Dictionary or a JSON string representation of a dictionary."},"image_base64":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Base64","description":"Base64 encoded image string (without 'data:image/...;base64,' prefix)."}},"type":"object","required":["name"],"title":"CharacterCreate"},"CharacterImportResponse":{"properties":{"id":{"type":"integer","title":"Id","description":"ID of the imported character"},"name":{"type":"string","title":"Name","description":"Name of the imported character"},"message":{"type":"string","title":"Message","description":"Import status message"},"character":{"anyOf":[{"$ref":"#/components/schemas/CharacterResponse"},{"type":"null"}],"description":"Full character details when available"}},"type":"object","required":["id","name","message"],"title":"CharacterImportResponse"},"CharacterResponse":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","examples":["A brave knight"]},"personality":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Personality","examples":["Stoic and honorable"]},"scenario":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Scenario","examples":["Guarding the ancient ruins"]},"system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt","examples":["You are a helpful character."]},"post_history_instructions":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Post History Instructions"},"first_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Message","examples":["Greetings, traveler!"]},"message_example":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message Example","examples":["<START>\nUSER: Hello\nASSISTANT: Hi there!\n<END>"]},"creator_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Creator Notes"},"alternate_greetings":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"string"},{"type":"null"}],"title":"Alternate Greetings","description":"List of strings or a JSON string representation of a list.","examples":[["Hello!","Good day!"]]},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"string"},{"type":"null"}],"title":"Tags","description":"List of strings or a JSON string representation of a list.","examples":[["fantasy","knight"]]},"creator":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Creator"},"character_version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Character Version"},"extensions":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"string"},{"type":"null"}],"title":"Extensions","description":"Dictionary or a JSON string representation of a dictionary."},"image_base64":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Base64","description":"Base64 encoded image string (without 'data:image/...;base64,' prefix)."},"id":{"type":"integer","title":"Id"},"version":{"type":"integer","title":"Version"},"image_present":{"type":"boolean","title":"Image Present","default":false}},"type":"object","required":["id","version"],"title":"CharacterResponse"},"CharacterUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","examples":["A brave knight"]},"personality":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Personality","examples":["Stoic and honorable"]},"scenario":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Scenario","examples":["Guarding the ancient ruins"]},"system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt","examples":["You are a helpful character."]},"post_history_instructions":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Post History Instructions"},"first_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Message","examples":["Greetings, traveler!"]},"message_example":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message Example","examples":["<START>\nUSER: Hello\nASSISTANT: Hi there!\n<END>"]},"creator_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Creator Notes"},"alternate_greetings":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"string"},{"type":"null"}],"title":"Alternate Greetings","description":"List of strings or a JSON string representation of a list.","examples":[["Hello!","Good day!"]]},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"string"},{"type":"null"}],"title":"Tags","description":"List of strings or a JSON string representation of a list.","examples":[["fantasy","knight"]]},"creator":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Creator"},"character_version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Character Version"},"extensions":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"string"},{"type":"null"}],"title":"Extensions","description":"Dictionary or a JSON string representation of a dictionary."},"image_base64":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Base64","description":"Base64 encoded image string (without 'data:image/...;base64,' prefix)."}},"type":"object","title":"CharacterUpdate"},"CharacterWorldBookAttachment":{"properties":{"world_book_id":{"type":"integer","title":"World Book Id","description":"World book ID to attach"},"enabled":{"type":"boolean","title":"Enabled","description":"Whether the attachment is active","default":true},"priority":{"type":"integer","title":"Priority","description":"Priority for this character","default":0}},"type":"object","required":["world_book_id"],"title":"CharacterWorldBookAttachment","description":"Schema for attaching a world book to a character."},"CharacterWorldBookResponse":{"properties":{"name":{"type":"string","maxLength":200,"minLength":1,"title":"Name","description":"Unique world book name"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description","description":"World book description"},"scan_depth":{"type":"integer","maximum":20.0,"minimum":1.0,"title":"Scan Depth","description":"How many messages to scan for keywords","default":3},"token_budget":{"type":"integer","maximum":5000.0,"minimum":50.0,"title":"Token Budget","description":"Maximum tokens to use for world info","default":500},"recursive_scanning":{"type":"boolean","title":"Recursive Scanning","description":"Whether to scan matched entries for more keywords","default":false},"enabled":{"type":"boolean","title":"Enabled","description":"Whether the world book is active","default":true},"id":{"type":"integer","title":"Id","description":"World book ID"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Creation timestamp"},"last_modified":{"type":"string","format":"date-time","title":"Last Modified","description":"Last modification timestamp"},"version":{"type":"integer","title":"Version","description":"Version number for optimistic locking"},"entry_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Entry Count","description":"Number of entries in the world book"},"world_book_id":{"type":"integer","title":"World Book Id","description":"World book ID (alias of id)"},"attachment_enabled":{"type":"boolean","title":"Attachment Enabled","description":"Whether attachment is enabled"},"attachment_priority":{"type":"integer","title":"Attachment Priority","description":"Priority for this character"}},"type":"object","required":["name","id","created_at","last_modified","version","world_book_id","attachment_enabled","attachment_priority"],"title":"CharacterWorldBookResponse","description":"Schema for world book attached to a character."},"ChatCompletionAssistantMessageParam":{"properties":{"role":{"type":"string","const":"assistant","title":"Role"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"An optional name for the participant. Provides the model information to differentiate between participants of the same role."},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content","description":"The contents of the assistant message. Required unless tool_calls or function_call is specified."},"tool_calls":{"anyOf":[{"items":{"$ref":"#/components/schemas/ChatCompletionMessageToolCallParam"},"type":"array"},{"type":"null"}],"title":"Tool Calls","description":"The tool calls generated by the model, such as function calls."},"function_call":{"anyOf":[{"$ref":"#/components/schemas/FunctionCall"},{"type":"null"}],"description":"Deprecated and replaced by `tool_calls`.","deprecated":true}},"type":"object","required":["role"],"title":"ChatCompletionAssistantMessageParam"},"ChatCompletionMessageToolCallParam":{"properties":{"id":{"type":"string","title":"Id","description":"The ID of the tool call."},"type":{"type":"string","const":"function","title":"Type","description":"The type of the tool. Currently, only `function` is supported."},"function":{"$ref":"#/components/schemas/FunctionDefinition","description":"The function that the model called."}},"type":"object","required":["id","type","function"],"title":"ChatCompletionMessageToolCallParam"},"ChatCompletionRequest":{"properties":{"api_provider":{"anyOf":[{"type":"string","enum":["anthropic","cohere","deepseek","google","groq","huggingface","mistral","openai","openrouter","llama.cpp","kobold","ollama","ooba","tabbyapi","vllm","local-llm","custom-openai-api","custom-openai-api-2"]},{"type":"null"}],"title":"Api Provider","description":"[Extension] The target LLM provider (e.g., 'openai', 'anthropic'). If omitted, defaults to the server's configured default ('openai')."},"model":{"type":"string","title":"Model","description":"ID of the model to use. Specific model compatibility depends on the selected `api_provider`."},"messages":{"items":{"anyOf":[{"$ref":"#/components/schemas/ChatCompletionSystemMessageParam"},{"$ref":"#/components/schemas/ChatCompletionUserMessageParam"},{"$ref":"#/components/schemas/ChatCompletionAssistantMessageParam"},{"$ref":"#/components/schemas/ChatCompletionToolMessageParam"}]},"type":"array","minItems":1,"title":"Messages","description":"A list of messages comprising the conversation so far."},"frequency_penalty":{"anyOf":[{"type":"number","maximum":2.0,"minimum":-2.0},{"type":"null"}],"title":"Frequency Penalty","description":"Frequency penalty parameter (provider support varies)."},"logit_bias":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Logit Bias","description":"Logit bias parameter (provider support varies)."},"logprobs":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Logprobs","description":"Whether to return log probabilities (provider support varies).","default":false},"top_logprobs":{"anyOf":[{"type":"integer","maximum":20.0,"minimum":0.0},{"type":"null"}],"title":"Top Logprobs","description":"Number of top log probabilities to return (provider support varies). `logprobs` must be true."},"max_tokens":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Max Tokens","description":"Maximum number of tokens to generate (provider support varies)."},"n":{"anyOf":[{"type":"integer","maximum":128.0,"minimum":1.0},{"type":"null"}],"title":"N","description":"Number of completions to generate (provider support varies).","default":1},"presence_penalty":{"anyOf":[{"type":"number","maximum":2.0,"minimum":-2.0},{"type":"null"}],"title":"Presence Penalty","description":"Presence penalty parameter (provider support varies)."},"response_format":{"anyOf":[{"$ref":"#/components/schemas/ResponseFormat"},{"type":"null"}],"description":"Response format specification (e.g., JSON mode, provider support varies)."},"seed":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Seed","description":"Seed for deterministic sampling (provider support varies)."},"stop":{"anyOf":[{"type":"string"},{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Stop","description":"Stop sequences (provider support varies)."},"stream":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Stream","description":"Whether to stream the response.","default":false},"temperature":{"anyOf":[{"type":"number","maximum":2.0,"minimum":0.0},{"type":"null"}],"title":"Temperature","description":"Sampling temperature (provider support varies)."},"top_p":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Top P","description":"Top-p (nucleus) sampling parameter (provider support varies)."},"tools":{"anyOf":[{"items":{"$ref":"#/components/schemas/ToolDefinition"},"type":"array","maxItems":128},{"type":"null"}],"title":"Tools","description":"Tools the model may call (provider support varies)."},"tool_choice":{"anyOf":[{"type":"string","enum":["none","auto","required"]},{"$ref":"#/components/schemas/ToolChoiceOption"},{"type":"null"}],"title":"Tool Choice","description":"Controls tool usage (provider support varies).","default":"auto"},"user":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User","description":"End-user identifier for monitoring."},"minp":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Minp","description":"[Extension] Minimum probability threshold (provider specific)."},"topk":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Topk","description":"[Extension] Top-K sampling parameter (provider specific)."},"prompt_template_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Prompt Template Name","description":"Name of the prompt template to apply. Must contain only alphanumeric characters, underscores, and hyphens."},"character_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Character Id","description":"Optional ID of the character to use for context."},"conversation_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Conversation Id","description":"Optional ID of the conversation to use for context."},"save_to_db":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Save To Db","description":"[Extension] If true, persist conversation and messages to the database. Defaults to false (ephemeral).","default":false}},"additionalProperties":true,"type":"object","required":["messages"],"title":"ChatCompletionRequest","description":"Model representing the request body for the /v1/chat/completions endpoint.\nActs as a proxy request, routing to different LLM providers."},"ChatCompletionRequestMessageContentPartImage":{"properties":{"type":{"type":"string","const":"image_url","title":"Type"},"image_url":{"$ref":"#/components/schemas/ChatCompletionRequestMessageContentPartImageURL"}},"type":"object","required":["type","image_url"],"title":"ChatCompletionRequestMessageContentPartImage"},"ChatCompletionRequestMessageContentPartImageURL":{"properties":{"url":{"anyOf":[{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},{"type":"string"}],"title":"Url","description":"Either a URL of the image or the base64 encoded image data."},"detail":{"anyOf":[{"type":"string","enum":["auto","low","high"]},{"type":"null"}],"title":"Detail","description":"Specifies the detail level of the image.","default":"auto"}},"type":"object","required":["url"],"title":"ChatCompletionRequestMessageContentPartImageURL"},"ChatCompletionRequestMessageContentPartText":{"properties":{"type":{"type":"string","const":"text","title":"Type"},"text":{"type":"string","title":"Text"}},"type":"object","required":["type","text"],"title":"ChatCompletionRequestMessageContentPartText"},"ChatCompletionSystemMessageParam":{"properties":{"role":{"type":"string","const":"system","title":"Role"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"An optional name for the participant. Provides the model information to differentiate between participants of the same role."},"content":{"type":"string","title":"Content"}},"type":"object","required":["role","content"],"title":"ChatCompletionSystemMessageParam"},"ChatCompletionToolMessageParam":{"properties":{"role":{"type":"string","const":"tool","title":"Role"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"An optional name for the participant. Provides the model information to differentiate between participants of the same role."},"content":{"type":"string","title":"Content","description":"The contents of the tool message."},"tool_call_id":{"type":"string","title":"Tool Call Id","description":"Tool call that this message is responding to."}},"type":"object","required":["role","content","tool_call_id"],"title":"ChatCompletionToolMessageParam"},"ChatCompletionUserMessageParam":{"properties":{"role":{"type":"string","const":"user","title":"Role"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"An optional name for the participant. Provides the model information to differentiate between participants of the same role."},"content":{"anyOf":[{"type":"string"},{"items":{"anyOf":[{"$ref":"#/components/schemas/ChatCompletionRequestMessageContentPartText"},{"$ref":"#/components/schemas/ChatCompletionRequestMessageContentPartImage"}]},"type":"array"}],"title":"Content"}},"type":"object","required":["role","content"],"title":"ChatCompletionUserMessageParam"},"ChatDictionaryCreate":{"properties":{"name":{"type":"string","maxLength":100,"minLength":1,"title":"Name","description":"Unique dictionary name"},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description","description":"Dictionary description"}},"type":"object","required":["name"],"title":"ChatDictionaryCreate","description":"Schema for creating a chat dictionary."},"ChatDictionaryResponse":{"properties":{"name":{"type":"string","maxLength":100,"minLength":1,"title":"Name","description":"Unique dictionary name"},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description","description":"Dictionary description"},"is_active":{"type":"boolean","title":"Is Active","description":"Whether the dictionary is active","default":true},"id":{"type":"integer","title":"Id","description":"Dictionary ID"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Creation timestamp"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"Last update timestamp"},"version":{"type":"integer","title":"Version","description":"Version number for optimistic locking"},"entry_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Entry Count","description":"Number of entries in the dictionary"}},"type":"object","required":["name","id","created_at","updated_at","version"],"title":"ChatDictionaryResponse","description":"Schema for chat dictionary response."},"ChatDictionaryUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":100,"minLength":1},{"type":"null"}],"title":"Name","description":"New dictionary name"},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description","description":"New description"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","description":"New active status"}},"type":"object","title":"ChatDictionaryUpdate","description":"Schema for updating a chat dictionary."},"ChatDictionaryWithEntries":{"properties":{"name":{"type":"string","maxLength":100,"minLength":1,"title":"Name","description":"Unique dictionary name"},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description","description":"Dictionary description"},"is_active":{"type":"boolean","title":"Is Active","description":"Whether the dictionary is active","default":true},"id":{"type":"integer","title":"Id","description":"Dictionary ID"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Creation timestamp"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"Last update timestamp"},"version":{"type":"integer","title":"Version","description":"Version number for optimistic locking"},"entry_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Entry Count","description":"Number of entries in the dictionary"},"entries":{"items":{"$ref":"#/components/schemas/DictionaryEntryResponse"},"type":"array","title":"Entries","description":"Dictionary entries"}},"type":"object","required":["name","id","created_at","updated_at","version"],"title":"ChatDictionaryWithEntries","description":"Schema for chat dictionary with its entries."},"ChatSessionCreate":{"properties":{"character_id":{"type":"integer","exclusiveMinimum":0.0,"title":"Character Id","description":"ID of the character for this chat"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title","description":"Optional title for the chat session"},"parent_conversation_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Parent Conversation Id","description":"Parent conversation ID for forked chats"}},"type":"object","required":["character_id"],"title":"ChatSessionCreate","description":"Schema for creating a new chat session.","example":{"character_id":1,"title":"Evening Chat with Assistant"}},"ChatSessionListResponse":{"properties":{"chats":{"items":{"$ref":"#/components/schemas/ChatSessionResponse"},"type":"array","title":"Chats","description":"List of chat sessions"},"total":{"type":"integer","title":"Total","description":"Total number of chats"},"limit":{"type":"integer","title":"Limit","description":"Number of items per page"},"offset":{"type":"integer","title":"Offset","description":"Offset for pagination"}},"type":"object","required":["chats","total","limit","offset"],"title":"ChatSessionListResponse","description":"Schema for listing chat sessions."},"ChatSessionResponse":{"properties":{"id":{"type":"string","title":"Id","description":"UUID of the chat session"},"character_id":{"type":"integer","title":"Character Id","description":"ID of the associated character"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title","description":"Chat session title"},"rating":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Rating","description":"User rating of the conversation"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Creation timestamp"},"last_modified":{"type":"string","format":"date-time","title":"Last Modified","description":"Last modification timestamp"},"message_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Message Count","description":"Number of messages in the chat","default":0},"version":{"type":"integer","title":"Version","description":"Version number for optimistic locking","default":1}},"type":"object","required":["id","character_id","created_at","last_modified"],"title":"ChatSessionResponse","description":"Schema for chat session responses."},"ChatSessionUpdate":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title","description":"New title for the chat"},"rating":{"anyOf":[{"type":"integer","maximum":5.0,"minimum":1.0},{"type":"null"}],"title":"Rating","description":"Rating for the conversation"}},"type":"object","title":"ChatSessionUpdate","description":"Schema for updating a chat session.","example":{"rating":5,"title":"Updated Chat Title"}},"ChatbookManifestResponse":{"properties":{"version":{"$ref":"#/components/schemas/ChatbookVersion"},"name":{"type":"string","title":"Name"},"description":{"type":"string","title":"Description"},"author":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"export_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Export Id"},"content_items":{"items":{"$ref":"#/components/schemas/ContentItemResponse"},"type":"array","title":"Content Items"},"include_media":{"type":"boolean","title":"Include Media","default":false},"include_embeddings":{"type":"boolean","title":"Include Embeddings","default":false},"include_generated_content":{"type":"boolean","title":"Include Generated Content","default":true},"media_quality":{"type":"string","title":"Media Quality","default":"compressed"},"max_file_size_mb":{"type":"integer","title":"Max File Size Mb","default":100},"total_conversations":{"type":"integer","title":"Total Conversations","default":0},"total_notes":{"type":"integer","title":"Total Notes","default":0},"total_characters":{"type":"integer","title":"Total Characters","default":0},"total_media_items":{"type":"integer","title":"Total Media Items","default":0},"total_world_books":{"type":"integer","title":"Total World Books","default":0},"total_dictionaries":{"type":"integer","title":"Total Dictionaries","default":0},"total_documents":{"type":"integer","title":"Total Documents","default":0},"total_size_bytes":{"type":"integer","title":"Total Size Bytes","default":0},"tags":{"items":{"type":"string"},"type":"array","title":"Tags"},"categories":{"items":{"type":"string"},"type":"array","title":"Categories"},"language":{"type":"string","title":"Language","default":"en"},"license":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"License"}},"type":"object","required":["version","name","description","created_at","updated_at"],"title":"ChatbookManifestResponse","description":"Chatbook manifest information."},"ChatbookVersion":{"type":"string","enum":["1.0","2.0"],"title":"ChatbookVersion","description":"Chatbook format versions."},"ChunkedContentResponse":{"properties":{"text":{"type":"string","title":"Text"},"metadata":{"additionalProperties":true,"type":"object","title":"Metadata"}},"type":"object","required":["text","metadata"],"title":"ChunkedContentResponse"},"ChunkingOptionsRequest":{"properties":{"template_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Template Name","description":"Name of a chunking template to use. If specified, template settings override individual parameters."},"method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Method","description":"Chunking method (e.g., 'words', 'sentences', 'propositions', 'json', 'semantic', 'xml', 'ebook_chapters', 'rolling_summarize').","default":"words"},"max_size":{"anyOf":[{"type":"integer","exclusiveMinimum":0.0},{"type":"null"}],"title":"Max Size","description":"Max size of chunks. Must be > 0 if set.","default":400},"overlap":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Overlap","description":"Overlap between chunks. Must be >= 0 if set.","default":200},"language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language","description":"Language of the text. Auto-detected if None.","default":"en"},"tokenizer_name_or_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tokenizer Name Or Path","description":"Tokenizer model name or path.","default":"gpt2"},"adaptive":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Adaptive","description":"Enable adaptive chunk sizing.","default":false},"multi_level":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Multi Level","description":"Enable multi-level chunking.","default":false},"custom_chapter_pattern":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Chapter Pattern","description":"Custom regex for 'ebook_chapters' method."},"semantic_similarity_threshold":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Semantic Similarity Threshold","description":"Similarity threshold for 'semantic' chunking.","default":0.7},"semantic_overlap_sentences":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Semantic Overlap Sentences","description":"Sentence overlap for 'semantic' chunking.","default":2},"json_chunkable_data_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Json Chunkable Data Key","description":"Key in JSON object whose dict value should be chunked.","default":"data"},"summarization_detail":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Summarization Detail","description":"Detail level for 'rolling_summarize' (0.0-1.0).","default":0.5},"proposition_engine":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Proposition Engine","description":"Engine for propositions: 'heuristic' | 'spacy' | 'llm' | 'auto'.","default":"heuristic"},"proposition_aggressiveness":{"anyOf":[{"type":"integer","maximum":2.0,"minimum":0.0},{"type":"null"}],"title":"Proposition Aggressiveness","description":"Aggressiveness for heuristic splitting: 0..2.","default":1},"proposition_min_proposition_length":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Proposition Min Proposition Length","description":"Min chars before merging short propositions.","default":15},"proposition_prompt_profile":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Proposition Prompt Profile","description":"Prompt profile for LLM engine: 'generic' | 'claimify' | 'gemma_aps'.","default":"generic"},"llm_options_for_internal_steps":{"anyOf":[{"$ref":"#/components/schemas/LLMOptionsForChunkerInternalSteps"},{"type":"null"}],"description":"Advanced: Client suggestions for LLM configurations (e.g., temperature, step-specific prompts/tokens) if the selected chunking method uses an LLM internally. Provider and Model are server-determined for these steps."}},"type":"object","title":"ChunkingOptionsRequest"},"ChunkingResponse":{"properties":{"chunks":{"items":{"$ref":"#/components/schemas/ChunkedContentResponse"},"type":"array","title":"Chunks"},"original_file_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Original File Name"},"applied_options":{"$ref":"#/components/schemas/ChunkingOptionsRequest"}},"type":"object","required":["chunks","original_file_name","applied_options"],"title":"ChunkingResponse"},"ChunkingSweepConfig":{"properties":{"method":{"anyOf":[{"type":"string"},{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Method","description":"Chunking method: structure_aware, sentences, markdown, code, xml"},"chunk_size":{"anyOf":[{"type":"integer"},{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Chunk Size","description":"Chunk size(s)"},"overlap":{"anyOf":[{"type":"integer"},{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Overlap","description":"Chunk overlap(s)"},"structure_aware":{"anyOf":[{"type":"boolean"},{"items":{"type":"boolean"},"type":"array"},{"type":"null"}],"title":"Structure Aware"},"parent_expansion":{"anyOf":[{"type":"boolean"},{"items":{"type":"boolean"},"type":"array"},{"type":"null"}],"title":"Parent Expansion"},"include_siblings":{"anyOf":[{"type":"boolean"},{"items":{"type":"boolean"},"type":"array"},{"type":"null"}],"title":"Include Siblings"},"chunk_type_filters":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Chunk Type Filters","description":"Optional chunk type filters (e.g., ['code','text'])"}},"type":"object","title":"ChunkingSweepConfig","description":"Retrieval-time chunking parameters to sweep via unified_rag_pipeline flags."},"ChunkingTemplateCreate":{"properties":{"name":{"type":"string","title":"Name","description":"Template name (must be unique)"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Template description"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags","description":"Tags for categorization"},"template":{"$ref":"#/components/schemas/TemplateConfig","description":"Template configuration"},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id","description":"User ID for ownership tracking"}},"type":"object","required":["name","template"],"title":"ChunkingTemplateCreate","description":"Schema for creating a new chunking template."},"ChunkingTemplateListResponse":{"properties":{"templates":{"items":{"$ref":"#/components/schemas/ChunkingTemplateResponse"},"type":"array","title":"Templates","description":"List of chunking templates"},"total":{"type":"integer","title":"Total","description":"Total number of templates"}},"type":"object","required":["templates","total"],"title":"ChunkingTemplateListResponse","description":"Response schema for listing chunking templates."},"ChunkingTemplateResponse":{"properties":{"name":{"type":"string","title":"Name","description":"Template name (must be unique)"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Template description"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags","description":"Tags for categorization"},"id":{"type":"integer","title":"Id","description":"Template database ID"},"uuid":{"type":"string","title":"Uuid","description":"Template UUID"},"template_json":{"type":"string","title":"Template Json","description":"Template configuration as JSON string"},"is_builtin":{"type":"boolean","title":"Is Builtin","description":"Whether this is a built-in template","default":false},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Creation timestamp"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"Last update timestamp"},"version":{"type":"integer","title":"Version","description":"Template version number","default":1},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id","description":"User ID of template owner"}},"type":"object","required":["name","id","uuid","template_json","created_at","updated_at"],"title":"ChunkingTemplateResponse","description":"Schema for chunking template response."},"ChunkingTemplateUpdate":{"properties":{"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"New template description"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags","description":"New tags list"},"template":{"anyOf":[{"$ref":"#/components/schemas/TemplateConfig"},{"type":"null"}],"description":"New template configuration"}},"type":"object","title":"ChunkingTemplateUpdate","description":"Schema for updating an existing chunking template."},"ChunkingTextRequest":{"properties":{"text_content":{"type":"string","title":"Text Content","description":"Text content to be chunked."},"file_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Name","description":"Optional name for the input.","default":"input_text.txt"},"options":{"anyOf":[{"$ref":"#/components/schemas/ChunkingOptionsRequest"},{"type":"null"}],"description":"Chunking parameters."}},"type":"object","required":["text_content"],"title":"ChunkingTextRequest"},"CleanupExpiredExportsResponse":{"properties":{"deleted_count":{"type":"integer","title":"Deleted Count"},"message":{"type":"string","title":"Message"}},"type":"object","required":["deleted_count","message"],"title":"CleanupExpiredExportsResponse","description":"Response for cleanup operation."},"ClientChangesPayload":{"properties":{"client_id":{"type":"string","title":"Client Id","description":"The unique ID of the client device sending these changes."},"changes":{"items":{"$ref":"#/components/schemas/SyncLogEntry"},"type":"array","title":"Changes","description":"A list of sync log entries representing local changes made on the client."},"last_processed_server_id":{"type":"integer","title":"Last Processed Server Id","description":"The 'change_id' of the last entry received from the server that this client successfully processed. Helps server determine delta.","default":0}},"type":"object","required":["client_id","changes"],"title":"ClientChangesPayload","description":"The payload sent by a client containing its local changes.\nCorresponds to the request body for the /sync/send endpoint.","example":{"changes":[{"change_id":55,"client_id":"client_xyz_789","entity":"Keywords","entity_uuid":"a1b2c3d4-e5f6-7890-1234-567890abcdef","operation":"create","payload":"{\"uuid\": \"a1b2c3d4-e5f6-7890-1234-567890abcdef\", \"keyword\": \"new sync tag\", ...}","timestamp":"2023-10-27T11:00:00Z","version":1}],"client_id":"client_xyz_789","last_processed_server_id":12340}},"CompareStrategiesRequest":{"properties":{"prompt_id":{"type":"integer","title":"Prompt Id","description":"Prompt to optimize"},"test_case_ids":{"items":{"type":"integer"},"type":"array","title":"Test Case Ids","description":"Test cases for evaluation"},"strategies":{"items":{"type":"string"},"type":"array","title":"Strategies","description":"Strategies to compare"},"model_configuration":{"additionalProperties":true,"type":"object","title":"Model Configuration","description":"Model configuration"}},"additionalProperties":false,"type":"object","required":["prompt_id","test_case_ids","strategies","model_configuration"],"title":"CompareStrategiesRequest","description":"Request model for comparing optimization strategies."},"ConflictResolution":{"type":"string","enum":["skip","overwrite","rename","merge"],"title":"ConflictResolution","description":"How to handle conflicts during import."},"ContentItemResponse":{"properties":{"id":{"type":"string","title":"Id"},"type":{"$ref":"#/components/schemas/ContentType"},"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags"},"metadata":{"additionalProperties":true,"type":"object","title":"Metadata"},"file_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Path"},"checksum":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Checksum"}},"type":"object","required":["id","type","title"],"title":"ContentItemResponse","description":"Individual content item in a chatbook."},"ContentType":{"type":"string","enum":["conversation","note","character","media","embedding","prompt","evaluation","world_book","dictionary","generated_document"],"title":"ContentType","description":"Types of content that can be included in a chatbook."},"CreateChatbookRequest":{"properties":{"name":{"type":"string","title":"Name","description":"Name of the chatbook"},"description":{"type":"string","title":"Description","description":"Description of the chatbook"},"content_selections":{"additionalProperties":{"items":{"type":"string"},"type":"array"},"propertyNames":{"$ref":"#/components/schemas/ContentType"},"type":"object","title":"Content Selections","description":"Content to include by type and IDs"},"author":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author","description":"Author name"},"include_media":{"type":"boolean","title":"Include Media","description":"Include media files","default":false},"media_quality":{"type":"string","title":"Media Quality","description":"Media quality level (thumbnail/compressed/original)","default":"compressed"},"include_embeddings":{"type":"boolean","title":"Include Embeddings","description":"Include embeddings","default":false},"include_generated_content":{"type":"boolean","title":"Include Generated Content","description":"Include generated documents","default":true},"tags":{"items":{"type":"string"},"type":"array","title":"Tags","description":"Chatbook tags"},"categories":{"items":{"type":"string"},"type":"array","title":"Categories","description":"Chatbook categories"},"async_mode":{"type":"boolean","title":"Async Mode","description":"Run as background job","default":false}},"type":"object","required":["name","description","content_selections"],"title":"CreateChatbookRequest","description":"Request for creating a chatbook."},"CreateChatbookResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"},"job_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Job Id","description":"Job ID if async mode"},"file_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Path","description":"File path if sync mode"},"download_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Download Url","description":"Download URL if sync mode"}},"type":"object","required":["success","message"],"title":"CreateChatbookResponse","description":"Response for chatbook creation."},"CreateDatasetRequest":{"properties":{"name":{"type":"string","maxLength":255,"minLength":1,"title":"Name"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description"},"samples":{"items":{"$ref":"#/components/schemas/DatasetSample"},"type":"array","minItems":1,"title":"Samples"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","required":["name","samples"],"title":"CreateDatasetRequest","description":"Create dataset request"},"CreateEmbeddingRequest":{"properties":{"input":{"anyOf":[{"type":"string"},{"items":{"type":"string"},"type":"array"},{"items":{"type":"integer"},"type":"array"},{"items":{"items":{"type":"integer"},"type":"array"},"type":"array"}],"title":"Input","description":"Input text to embed, encoded as a string or array of tokens. To embed multiple inputs in a single request, pass an array of strings or array of token arrays. The input must not exceed the max input tokens for the model (8192 tokens for `text-embedding-ada-002`), cannot be an empty string, and any array must be 2048 dimensions or less.","examples":["The food was delicious and the waiter..."]},"model":{"type":"string","title":"Model","description":"ID of the model to use. You can use the [List models](/docs/api-reference/models/list) API to see all of your available models, or see our [Model overview](/docs/models) for descriptions of them.","examples":["text-embedding-ada-002"]},"encoding_format":{"anyOf":[{"type":"string","enum":["float","base64"]},{"type":"null"}],"title":"Encoding Format","description":"The format to return the embeddings in. Can be either `float` or `base64`.","default":"float"},"dimensions":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Dimensions","description":"The number of dimensions the resulting output embeddings should have. Only supported in `text-embedding-3` and later models."},"user":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User","description":"A unique identifier representing your end-user, which can help OpenAI to monitor and detect abuse."}},"additionalProperties":false,"type":"object","required":["input","model"],"title":"CreateEmbeddingRequest"},"CreateEmbeddingResponse":{"properties":{"object":{"type":"string","const":"list","title":"Object","default":"list"},"data":{"items":{"$ref":"#/components/schemas/EmbeddingData"},"type":"array","title":"Data","description":"The list of embeddings generated by the model."},"model":{"type":"string","title":"Model","description":"The model ID used to generate the embeddings."},"usage":{"$ref":"#/components/schemas/EmbeddingUsage","description":"The usage information for the request."}},"type":"object","required":["data","model","usage"],"title":"CreateEmbeddingResponse"},"CreateEvaluationRequest":{"properties":{"name":{"type":"string","maxLength":255,"minLength":1,"title":"Name","description":"Unique evaluation name"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description"},"eval_type":{"$ref":"#/components/schemas/EvaluationType","description":"Type of evaluation"},"eval_spec":{"$ref":"#/components/schemas/EvaluationSpec"},"dataset_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Dataset Id","description":"Reference to existing dataset"},"dataset":{"anyOf":[{"items":{"$ref":"#/components/schemas/DatasetSample"},"type":"array"},{"type":"null"}],"title":"Dataset","description":"Inline dataset"},"metadata":{"anyOf":[{"$ref":"#/components/schemas/EvaluationMetadata"},{"type":"null"}]}},"type":"object","required":["name","eval_type","eval_spec"],"title":"CreateEvaluationRequest","description":"Create evaluation request (OpenAI-compatible)"},"CreateFromMediaRequest":{"properties":{"store_name":{"type":"string","title":"Store Name"},"dimensions":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Dimensions"},"embedding_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Embedding Model"},"media_ids":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Media Ids"},"keywords":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Keywords"},"chunk_size":{"type":"integer","title":"Chunk Size","default":500},"chunk_overlap":{"type":"integer","title":"Chunk Overlap","default":100},"chunk_method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Method","default":"words"},"language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language"},"update_existing_store_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Update Existing Store Id"},"use_existing_embeddings":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Use Existing Embeddings","default":false}},"type":"object","required":["store_name"],"title":"CreateFromMediaRequest"},"CreateRunRequest":{"properties":{"target_model":{"type":"string","title":"Target Model","description":"Model to evaluate"},"dataset_override":{"anyOf":[{"$ref":"#/components/schemas/DatasetSample"},{"type":"null"}]},"config":{"anyOf":[{"$ref":"#/components/schemas/RunConfig"},{"type":"null"}]},"webhook_url":{"anyOf":[{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},{"type":"null"}],"title":"Webhook Url"}},"type":"object","required":["target_model"],"title":"CreateRunRequest","description":"Create run request"},"DatasetListResponse":{"properties":{"object":{"type":"string","title":"Object","default":"list"},"has_more":{"type":"boolean","title":"Has More","default":false},"first_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Id"},"last_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Id"},"data":{"items":{"$ref":"#/components/schemas/DatasetResponse"},"type":"array","title":"Data"}},"type":"object","required":["data"],"title":"DatasetListResponse","description":"Dataset list response"},"DatasetResponse":{"properties":{"id":{"type":"string","title":"Id"},"object":{"type":"string","title":"Object","default":"dataset"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"sample_count":{"type":"integer","title":"Sample Count"},"samples":{"anyOf":[{"items":{"$ref":"#/components/schemas/DatasetSample"},"type":"array"},{"type":"null"}],"title":"Samples","description":"Dataset samples"},"created":{"type":"integer","title":"Created","description":"Creation timestamp (OpenAI-compatible)"},"created_at":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Created At","description":"Creation timestamp (tldw-compatible)"},"created_by":{"type":"string","title":"Created By"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","required":["id","name","sample_count","created","created_by"],"title":"DatasetResponse","description":"Dataset response"},"DatasetSample":{"properties":{"input":{"title":"Input","description":"Input data"},"expected":{"anyOf":[{},{"type":"null"}],"title":"Expected","description":"Expected output"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","required":["input"],"title":"DatasetSample","description":"Dataset sample"},"DeletionResponse":{"properties":{"message":{"type":"string","title":"Message"},"character_id":{"type":"integer","title":"Character Id"}},"type":"object","required":["message","character_id"],"title":"DeletionResponse"},"DetailResponse":{"properties":{"detail":{"type":"string","title":"Detail"}},"type":"object","required":["detail"],"title":"DetailResponse"},"DictionaryEntryCreate":{"properties":{"pattern":{"type":"string","minLength":1,"title":"Pattern","description":"Pattern to match (literal or regex)"},"replacement":{"type":"string","title":"Replacement","description":"Replacement text"},"probability":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Probability","description":"Chance of replacement (0.0-1.0)","default":1.0},"group":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Group","description":"Optional group name for organization"},"timed_effects":{"anyOf":[{"$ref":"#/components/schemas/TimedEffects"},{"type":"null"}],"description":"Timing effects configuration"},"max_replacements":{"type":"integer","minimum":0.0,"title":"Max Replacements","description":"Maximum replacements per processing (0 = unlimited)","default":0},"type":{"type":"string","pattern":"^(literal|regex)$","title":"Type","description":"Entry type","default":"literal"},"enabled":{"type":"boolean","title":"Enabled","description":"Whether the entry is enabled","default":true},"case_sensitive":{"type":"boolean","title":"Case Sensitive","description":"Case-sensitive matching for literal patterns","default":true}},"type":"object","required":["pattern","replacement"],"title":"DictionaryEntryCreate","description":"Schema for creating a dictionary entry."},"DictionaryEntryResponse":{"properties":{"pattern":{"type":"string","minLength":1,"title":"Pattern","description":"Pattern to match (literal or regex)"},"replacement":{"type":"string","title":"Replacement","description":"Replacement text"},"probability":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Probability","description":"Chance of replacement (0.0-1.0)","default":1.0},"group":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Group","description":"Optional group name for organization"},"timed_effects":{"anyOf":[{"$ref":"#/components/schemas/TimedEffects"},{"type":"null"}],"description":"Timing effects configuration"},"max_replacements":{"type":"integer","minimum":0.0,"title":"Max Replacements","description":"Maximum replacements per processing (0 = unlimited)","default":0},"id":{"type":"integer","title":"Id","description":"Entry ID"},"dictionary_id":{"type":"integer","title":"Dictionary Id","description":"Parent dictionary ID"},"type":{"type":"string","title":"Type","description":"Entry type"},"enabled":{"type":"boolean","title":"Enabled","description":"Whether the entry is enabled"},"case_sensitive":{"type":"boolean","title":"Case Sensitive","description":"Case-sensitive matching for literal patterns"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Creation timestamp"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"Last update timestamp"}},"type":"object","required":["pattern","replacement","id","dictionary_id","type","enabled","case_sensitive","created_at","updated_at"],"title":"DictionaryEntryResponse","description":"Schema for dictionary entry response."},"DictionaryEntryUpdate":{"properties":{"pattern":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Pattern","description":"New pattern to match"},"replacement":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Replacement","description":"New replacement text"},"probability":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Probability","description":"New probability (0.0-1.0)"},"group":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Group","description":"New group name"},"timed_effects":{"anyOf":[{"$ref":"#/components/schemas/TimedEffects"},{"type":"null"}],"description":"New timing effects"},"max_replacements":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Max Replacements","description":"New max replacements (0 = unlimited)"},"type":{"anyOf":[{"type":"string","pattern":"^(literal|regex)$"},{"type":"null"}],"title":"Type","description":"Entry type"},"enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Enabled","description":"Whether the entry is enabled"},"case_sensitive":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Case Sensitive","description":"Case-sensitive matching for literal patterns"}},"type":"object","title":"DictionaryEntryUpdate","description":"Schema for updating a dictionary entry."},"DictionaryListResponse":{"properties":{"dictionaries":{"items":{"$ref":"#/components/schemas/ChatDictionaryResponse"},"type":"array","title":"Dictionaries","description":"List of dictionaries"},"total":{"type":"integer","title":"Total","description":"Total number of dictionaries"},"active_count":{"type":"integer","title":"Active Count","description":"Number of active dictionaries"},"inactive_count":{"type":"integer","title":"Inactive Count","description":"Number of inactive dictionaries"}},"type":"object","required":["dictionaries","total","active_count","inactive_count"],"title":"DictionaryListResponse","description":"Response schema for listing dictionaries."},"DictionaryStatistics":{"properties":{"dictionary_id":{"type":"integer","title":"Dictionary Id","description":"Dictionary ID"},"name":{"type":"string","title":"Name","description":"Dictionary name"},"total_entries":{"type":"integer","title":"Total Entries","description":"Total number of entries"},"regex_entries":{"type":"integer","title":"Regex Entries","description":"Number of regex entries"},"literal_entries":{"type":"integer","title":"Literal Entries","description":"Number of literal entries"},"groups":{"items":{"type":"string"},"type":"array","title":"Groups","description":"List of unique groups"},"average_probability":{"type":"number","title":"Average Probability","description":"Average replacement probability"},"total_usage_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Usage Count","description":"Total times used (if tracked)"},"last_used":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Used","description":"Last usage timestamp (if tracked)"}},"type":"object","required":["dictionary_id","name","total_entries","regex_entries","literal_entries","groups","average_probability"],"title":"DictionaryStatistics","description":"Statistics for a dictionary."},"DocumentListResponse":{"properties":{"documents":{"items":{"$ref":"#/components/schemas/GeneratedDocument"},"type":"array","title":"Documents","description":"List of generated documents"},"total":{"type":"integer","title":"Total","description":"Total number of documents"},"conversation_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Conversation Id","description":"Conversation ID if filtered"},"document_type":{"anyOf":[{"$ref":"#/components/schemas/DocumentType"},{"type":"null"}],"description":"Document type if filtered"}},"type":"object","required":["documents","total"],"title":"DocumentListResponse","description":"Response schema for listing generated documents."},"DocumentType":{"type":"string","enum":["timeline","study_guide","briefing","summary","q_and_a","meeting_notes"],"title":"DocumentType","description":"Enumeration of supported document types."},"DuplicateStoreRequest":{"properties":{"new_name":{"type":"string","title":"New Name","description":"Name for the duplicated store"},"dimensions":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Dimensions"}},"type":"object","required":["new_name"],"title":"DuplicateStoreRequest"},"EmbeddingData":{"properties":{"object":{"type":"string","const":"embedding","title":"Object","default":"embedding"},"embedding":{"anyOf":[{"items":{"type":"number"},"type":"array"},{"type":"string"}],"title":"Embedding","description":"The embedding vector, which is a list of floats or a base64-encoded string. The length of vector depends on the model."},"index":{"type":"integer","title":"Index","description":"The index of the embedding in the list of embeddings."}},"type":"object","required":["embedding","index"],"title":"EmbeddingData"},"EmbeddingUsage":{"properties":{"prompt_tokens":{"type":"integer","title":"Prompt Tokens","description":"The number of tokens used by the prompt."},"total_tokens":{"type":"integer","title":"Total Tokens","description":"The total number of tokens used by the request."}},"type":"object","required":["prompt_tokens","total_tokens"],"title":"EmbeddingUsage"},"EmbeddingsABTestConfig":{"properties":{"arms":{"items":{"$ref":"#/components/schemas/ABTestArm"},"type":"array","minItems":2,"title":"Arms","description":"Embedding models to compare"},"media_ids":{"items":{"type":"integer"},"type":"array","minItems":1,"title":"Media Ids","description":"Media IDs to build the corpus from"},"chunking":{"$ref":"#/components/schemas/ABTestChunking"},"retrieval":{"$ref":"#/components/schemas/ABTestRetrieval"},"queries":{"items":{"$ref":"#/components/schemas/ABTestQuery"},"type":"array","minItems":1,"title":"Queries","description":"Queries to evaluate"},"metric_level":{"anyOf":[{"type":"string","enum":["media","chunk"]},{"type":"null"}],"title":"Metric Level","description":"Metric granularity","default":"media"},"limits":{"anyOf":[{"$ref":"#/components/schemas/ABTestLimits"},{"type":"null"}]},"reuse_existing":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Reuse Existing","description":"Reuse matching collections if available","default":true},"cleanup_policy":{"anyOf":[{"$ref":"#/components/schemas/ABTestCleanupPolicy"},{"type":"null"}]}},"additionalProperties":false,"type":"object","required":["arms","media_ids","chunking","retrieval","queries"],"title":"EmbeddingsABTestConfig"},"EmbeddingsABTestCreateRequest":{"properties":{"name":{"type":"string","title":"Name"},"config":{"$ref":"#/components/schemas/EmbeddingsABTestConfig"},"run_immediately":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Run Immediately","default":false}},"additionalProperties":false,"type":"object","required":["name","config"],"title":"EmbeddingsABTestCreateRequest"},"EmbeddingsABTestCreateResponse":{"properties":{"test_id":{"type":"string","title":"Test Id"},"status":{"type":"string","enum":["pending","created"],"title":"Status","default":"created"}},"type":"object","required":["test_id"],"title":"EmbeddingsABTestCreateResponse"},"EmbeddingsABTestResultSummary":{"properties":{"test_id":{"type":"string","title":"Test Id"},"status":{"type":"string","enum":["pending","running","completed","failed","canceled"],"title":"Status"},"arms":{"items":{"$ref":"#/components/schemas/ArmSummary"},"type":"array","title":"Arms"},"per_query":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Per Query"}},"type":"object","required":["test_id","status"],"title":"EmbeddingsABTestResultSummary"},"EmbeddingsABTestResultsResponse":{"properties":{"summary":{"$ref":"#/components/schemas/EmbeddingsABTestResultSummary"},"page":{"type":"integer","title":"Page","default":1},"page_size":{"type":"integer","title":"Page Size","default":50},"total":{"type":"integer","title":"Total","default":0}},"type":"object","required":["summary"],"title":"EmbeddingsABTestResultsResponse"},"EmbeddingsABTestStatusResponse":{"properties":{"test_id":{"type":"string","title":"Test Id"},"status":{"type":"string","enum":["pending","running","completed","failed","canceled"],"title":"Status"},"progress":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Progress"}},"type":"object","required":["test_id","status"],"title":"EmbeddingsABTestStatusResponse"},"EmbeddingsStatusResponse":{"properties":{"media_id":{"type":"integer","title":"Media Id"},"has_embeddings":{"type":"boolean","title":"Has Embeddings"},"embedding_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Embedding Count"},"embedding_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Embedding Model"},"last_generated":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Generated"}},"type":"object","required":["media_id","has_embeddings"],"title":"EmbeddingsStatusResponse","description":"Response model for embedding status"},"EvaluationConfig":{"properties":{"model_name":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Model Name"},"temperature":{"anyOf":[{"type":"number","maximum":2.0,"minimum":0.0},{"type":"null"}],"title":"Temperature"},"max_tokens":{"anyOf":[{"type":"integer","maximum":100000.0,"minimum":1.0},{"type":"null"}],"title":"Max Tokens"},"top_p":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Top P"},"frequency_penalty":{"anyOf":[{"type":"number","maximum":2.0,"minimum":-2.0},{"type":"null"}],"title":"Frequency Penalty"},"presence_penalty":{"anyOf":[{"type":"number","maximum":2.0,"minimum":-2.0},{"type":"null"}],"title":"Presence Penalty"},"api_endpoint":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Api Endpoint"},"api_key_name":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Api Key Name"},"timeout_seconds":{"anyOf":[{"type":"integer","maximum":3600.0,"minimum":1.0},{"type":"null"}],"title":"Timeout Seconds"},"retry_count":{"anyOf":[{"type":"integer","maximum":10.0,"minimum":0.0},{"type":"null"}],"title":"Retry Count"},"parallel_requests":{"anyOf":[{"type":"integer","maximum":100.0,"minimum":1.0},{"type":"null"}],"title":"Parallel Requests"}},"type":"object","title":"EvaluationConfig","description":"Configuration for evaluation"},"EvaluationCreate":{"properties":{"project_id":{"type":"integer","title":"Project Id","description":"Project ID"},"prompt_id":{"type":"integer","title":"Prompt Id","description":"Prompt ID to evaluate"},"test_run_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Test Run Id","description":"Test run ID if part of a test run"},"name":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Name","description":"Evaluation name"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description","description":"Evaluation description"},"metrics":{"anyOf":[{"$ref":"#/components/schemas/EvaluationMetrics"},{"type":"null"}],"description":"Metrics to track"},"config":{"anyOf":[{"$ref":"#/components/schemas/EvaluationConfig"},{"type":"null"}],"description":"Evaluation configuration"},"run_async":{"type":"boolean","title":"Run Async","description":"Run evaluation asynchronously","default":false},"test_case_ids":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Test Case Ids","description":"Specific test cases to run"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":20},{"type":"null"}],"title":"Tags","description":"Tags for categorization"}},"type":"object","required":["project_id","prompt_id"],"title":"EvaluationCreate","description":"Create evaluation request"},"EvaluationHistoryRequest":{"properties":{"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"},"evaluation_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Evaluation Type"},"start_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Date"},"end_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"End Date"},"limit":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Limit","default":20},"offset":{"type":"integer","minimum":0.0,"title":"Offset","default":0}},"type":"object","title":"EvaluationHistoryRequest","description":"Evaluation history request"},"EvaluationHistoryResponse":{"properties":{"total_count":{"type":"integer","title":"Total Count"},"items":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Items"},"aggregations":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Aggregations"}},"type":"object","required":["total_count","items"],"title":"EvaluationHistoryResponse","description":"Evaluation history response"},"EvaluationListResponse":{"properties":{"object":{"type":"string","title":"Object","default":"list"},"has_more":{"type":"boolean","title":"Has More","default":false},"first_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Id"},"last_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Id"},"data":{"items":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__evaluation_schemas_unified__EvaluationResponse"},"type":"array","title":"Data"}},"type":"object","required":["data"],"title":"EvaluationListResponse","description":"Evaluation list response"},"EvaluationMetadata":{"properties":{"project":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Project","description":"Project name"},"version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Version","description":"Version"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags"},"custom":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Custom"}},"type":"object","title":"EvaluationMetadata","description":"Evaluation metadata"},"EvaluationMetric":{"properties":{"name":{"type":"string","title":"Name","description":"Metric name"},"score":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Score","description":"Normalized score (0-1)"},"raw_score":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Raw Score","description":"Raw score before normalization"},"explanation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Explanation","description":"Explanation of the score"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","required":["name","score"],"title":"EvaluationMetric","description":"Base evaluation metric"},"EvaluationMetrics":{"properties":{"accuracy":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Accuracy"},"precision":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Precision"},"recall":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Recall"},"f1_score":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"F1 Score"},"bleu_score":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Bleu Score"},"rouge_score":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Rouge Score"},"perplexity":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Perplexity"},"latency_ms":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Latency Ms"},"tokens_used":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Tokens Used"},"cost":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Cost"},"custom_metrics":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Custom Metrics"}},"type":"object","title":"EvaluationMetrics","description":"Metrics for evaluation"},"EvaluationSpec":{"properties":{"sub_type":{"anyOf":[{"type":"string","enum":["summarization","rag","response_quality","rag_pipeline"]},{"type":"null"}],"title":"Sub Type","description":"Optional subtype for model_graded evaluations (e.g., rag_pipeline)"},"metrics":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Metrics","description":"Metrics to compute"},"thresholds":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Thresholds","description":"Pass/fail thresholds"},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model","description":"Model to use for evaluation","default":"gpt-3.5-turbo"},"temperature":{"anyOf":[{"type":"number","maximum":2.0,"minimum":0.0},{"type":"null"}],"title":"Temperature","description":"Temperature for model-based evaluation","default":0.3},"custom_prompts":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Custom Prompts","description":"Custom evaluation prompts"},"rag_pipeline":{"anyOf":[{"$ref":"#/components/schemas/RAGPipelineEvalSpec"},{"type":"null"}],"description":"RAG pipeline evaluation configuration (when sub_type=rag_pipeline)"},"allowed_labels":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Allowed Labels","description":"Allowed label set for label_choice/NLI evaluations"},"label_mapping":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Label Mapping","description":"Mapping of synonyms/aliases to canonical labels"},"structured_output":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Structured Output","description":"If true, instruct model to return strict JSON","default":false},"generate_predictions":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Generate Predictions","description":"If true, call model to generate predictions; otherwise expect predictions in samples","default":true},"prompt_template":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Prompt Template","description":"Override default prompt for label_choice/NLI"},"nli_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nli Model","description":"Optional NLI model identifier/provider name"}},"type":"object","title":"EvaluationSpec","description":"Evaluation specification"},"EvaluationStatus":{"type":"string","enum":["pending","running","completed","failed","cancelled"],"title":"EvaluationStatus"},"EvaluationType":{"type":"string","enum":["model_graded","exact_match","includes","fuzzy_match","geval","rag","response_quality","proposition_extraction","ocr","label_choice","nli_factcheck","custom"],"title":"EvaluationType","description":"Supported evaluation types"},"ExportDictionaryJSONResponse":{"properties":{"name":{"type":"string","title":"Name","description":"Dictionary name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Dictionary description"},"entries":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Entries","description":"Entries with pattern, replacement, type, probability, etc."}},"type":"object","required":["name","entries"],"title":"ExportDictionaryJSONResponse","description":"Response schema for JSON export of a dictionary."},"ExportDictionaryResponse":{"properties":{"name":{"type":"string","title":"Name","description":"Dictionary name"},"content":{"type":"string","title":"Content","description":"Exported content in markdown format"},"entry_count":{"type":"integer","title":"Entry Count","description":"Number of entries exported"},"group_count":{"type":"integer","title":"Group Count","description":"Number of groups in the dictionary"}},"type":"object","required":["name","content","entry_count","group_count"],"title":"ExportDictionaryResponse","description":"Response schema for dictionary export."},"ExportJobResponse":{"properties":{"job_id":{"type":"string","title":"Job Id"},"status":{"$ref":"#/components/schemas/ExportStatus"},"chatbook_name":{"type":"string","title":"Chatbook Name"},"output_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Output Path"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"started_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Started At"},"completed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Completed At"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"},"progress_percentage":{"type":"integer","title":"Progress Percentage","default":0},"total_items":{"type":"integer","title":"Total Items","default":0},"processed_items":{"type":"integer","title":"Processed Items","default":0},"file_size_bytes":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"File Size Bytes"},"download_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Download Url"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At"}},"type":"object","required":["job_id","status","chatbook_name","created_at"],"title":"ExportJobResponse","description":"Export job status."},"ExportResponse":{"properties":{"message":{"type":"string","title":"Message"},"file_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Path"},"file_content_b64":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Content B64"}},"type":"object","required":["message"],"title":"ExportResponse"},"ExportStatus":{"type":"string","enum":["pending","in_progress","completed","failed","cancelled","expired"],"title":"ExportStatus","description":"Status of export job."},"FewShotExample":{"properties":{"inputs":{"additionalProperties":true,"type":"object","title":"Inputs"},"outputs":{"additionalProperties":true,"type":"object","title":"Outputs"},"explanation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Explanation"}},"type":"object","required":["inputs","outputs"],"title":"FewShotExample","description":"Few-shot example for prompts"},"FunctionCall":{"properties":{"arguments":{"type":"string","title":"Arguments","description":"The arguments to call the function with, as generated by the model in JSON format."},"name":{"type":"string","title":"Name","description":"The name of the function to call."}},"type":"object","required":["arguments","name"],"title":"FunctionCall","description":"Deprecated and replaced by `tool_calls`. The name and arguments of a function that should be called, as generated by the model."},"FunctionDefinition":{"properties":{"name":{"type":"string","title":"Name","description":"The name of the function to be called. Must be a-z, A-Z, 0-9, or contain underscores and dashes, with a maximum length of 64."},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"A description of what the function does, used by the model to choose when and how to call the function."},"parameters":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Parameters","description":"The parameters the functions accepts, described as a JSON Schema object. See the guide[1] for examples, and the JSON Schema reference[2] for documentation about the format. Omitting parameters defines a function with an empty parameter list. [1] https://platform.openai.com/docs/guides/function-calling [2] https://json-schema.org/understanding-json-schema/"}},"type":"object","required":["name"],"title":"FunctionDefinition","description":"Describes a function available to the model."},"GEvalRequest":{"properties":{"source_text":{"type":"string","maxLength":100000,"minLength":10,"title":"Source Text","description":"Original source text"},"summary":{"type":"string","maxLength":50000,"minLength":10,"title":"Summary","description":"Summary to evaluate"},"metrics":{"anyOf":[{"items":{"type":"string","enum":["fluency","consistency","relevance","coherence"]},"type":"array"},{"type":"null"}],"title":"Metrics","default":["fluency","consistency","relevance","coherence"]},"api_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name","description":"LLM API to use","default":"openai"},"api_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Key","description":"API key if not in config"},"save_results":{"type":"boolean","title":"Save Results","description":"Save results to database","default":false}},"type":"object","required":["source_text","summary"],"title":"GEvalRequest","description":"G-Eval summarization request"},"GEvalResponse":{"properties":{"metrics":{"additionalProperties":{"$ref":"#/components/schemas/EvaluationMetric"},"type":"object","title":"Metrics"},"average_score":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Average Score"},"summary_assessment":{"type":"string","title":"Summary Assessment"},"evaluation_time":{"type":"number","title":"Evaluation Time"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","required":["metrics","average_score","summary_assessment","evaluation_time"],"title":"GEvalResponse","description":"G-Eval response"},"GenerateDocumentRequest":{"properties":{"conversation_id":{"type":"integer","exclusiveMinimum":0.0,"title":"Conversation Id","description":"ID of the conversation"},"document_type":{"$ref":"#/components/schemas/DocumentType","description":"Type of document to generate"},"provider":{"type":"string","minLength":1,"title":"Provider","description":"LLM provider name"},"model":{"type":"string","minLength":1,"title":"Model","description":"Model name"},"api_key":{"type":"string","minLength":1,"title":"Api Key","description":"API key for the provider"},"specific_message":{"anyOf":[{"type":"string","maxLength":10000},{"type":"null"}],"title":"Specific Message","description":"Specific message to focus on"},"custom_prompt":{"anyOf":[{"type":"string","maxLength":5000},{"type":"null"}],"title":"Custom Prompt","description":"Custom prompt override"},"stream":{"type":"boolean","title":"Stream","description":"Whether to stream the response","default":false},"async_generation":{"type":"boolean","title":"Async Generation","description":"Whether to generate asynchronously","default":false}},"type":"object","required":["conversation_id","document_type","provider","model","api_key"],"title":"GenerateDocumentRequest","description":"Request schema for generating a document."},"GenerateDocumentResponse":{"properties":{"document_id":{"type":"integer","title":"Document Id","description":"ID of the generated document"},"conversation_id":{"type":"integer","title":"Conversation Id","description":"Conversation ID"},"document_type":{"$ref":"#/components/schemas/DocumentType","description":"Type of document generated"},"title":{"type":"string","title":"Title","description":"Document title"},"content":{"type":"string","title":"Content","description":"Generated document content"},"provider":{"type":"string","title":"Provider","description":"LLM provider used"},"model":{"type":"string","title":"Model","description":"Model used"},"generation_time_ms":{"type":"integer","title":"Generation Time Ms","description":"Generation time in milliseconds"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Creation timestamp"}},"type":"object","required":["document_id","conversation_id","document_type","title","content","provider","model","generation_time_ms","created_at"],"title":"GenerateDocumentResponse","description":"Response schema for synchronous document generation."},"GenerateEmbeddingsRequest":{"properties":{"embedding_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Embedding Model","description":"Specific embedding model to use (defaults to Qwen3-Embedding-4B-GGUF)"},"embedding_provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Embedding Provider","description":"Embedding provider (huggingface, openai, etc)"},"chunk_size":{"type":"integer","title":"Chunk Size","description":"Size of text chunks for embedding","default":1000},"chunk_overlap":{"type":"integer","title":"Chunk Overlap","description":"Overlap between chunks","default":200},"force_regenerate":{"type":"boolean","title":"Force Regenerate","description":"Force regeneration even if embeddings exist","default":false}},"type":"object","title":"GenerateEmbeddingsRequest","description":"Request model for generating embeddings"},"GenerateEmbeddingsResponse":{"properties":{"media_id":{"type":"integer","title":"Media Id"},"status":{"type":"string","title":"Status"},"message":{"type":"string","title":"Message"},"embedding_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Embedding Count"},"embedding_model":{"type":"string","title":"Embedding Model"},"chunks_processed":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Chunks Processed"},"job_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Job Id"}},"type":"object","required":["media_id","status","message","embedding_model"],"title":"GenerateEmbeddingsResponse","description":"Response model for embedding generation"},"GeneratedDocument":{"properties":{"id":{"type":"integer","title":"Id","description":"Document ID"},"conversation_id":{"type":"integer","title":"Conversation Id","description":"Conversation ID"},"document_type":{"$ref":"#/components/schemas/DocumentType","description":"Document type"},"title":{"type":"string","title":"Title","description":"Document title"},"content":{"type":"string","title":"Content","description":"Document content"},"provider":{"type":"string","title":"Provider","description":"LLM provider used"},"model":{"type":"string","title":"Model","description":"Model used"},"generation_time_ms":{"type":"integer","title":"Generation Time Ms","description":"Generation time in milliseconds"},"token_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Token Count","description":"Token count"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Creation timestamp"},"metadata":{"additionalProperties":true,"type":"object","title":"Metadata","description":"Additional metadata"}},"type":"object","required":["id","conversation_id","document_type","title","content","provider","model","generation_time_ms","created_at"],"title":"GeneratedDocument","description":"Schema for a generated document."},"GenerationStatistics":{"properties":{"total_documents":{"type":"integer","title":"Total Documents","description":"Total documents generated"},"by_type":{"additionalProperties":{"type":"integer"},"type":"object","title":"By Type","description":"Count by document type"},"by_provider":{"additionalProperties":{"type":"integer"},"type":"object","title":"By Provider","description":"Count by provider"},"average_generation_time_ms":{"type":"number","title":"Average Generation Time Ms","description":"Average generation time"},"total_tokens_used":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Tokens Used","description":"Total tokens used"},"last_generated":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Generated","description":"Last generation timestamp"},"most_used_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Most Used Model","description":"Most frequently used model"}},"type":"object","required":["total_documents","by_type","by_provider","average_generation_time_ms"],"title":"GenerationStatistics","description":"Statistics for document generation."},"GenerationStatus":{"type":"string","enum":["pending","in_progress","completed","failed","cancelled"],"title":"GenerationStatus","description":"Status of document generation job."},"GenerationSweepConfig":{"properties":{"model":{"anyOf":[{"type":"string"},{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Model"},"prompt_template":{"anyOf":[{"type":"string"},{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Prompt Template"},"temperature":{"anyOf":[{"type":"number"},{"items":{"type":"number"},"type":"array"},{"type":"null"}],"title":"Temperature"},"max_tokens":{"anyOf":[{"type":"integer"},{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Max Tokens"}},"type":"object","title":"GenerationSweepConfig","description":"Generation parameters to sweep for RAG answers."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthCheckResponse":{"properties":{"status":{"type":"string","enum":["healthy","degraded","unhealthy"],"title":"Status"},"version":{"type":"string","title":"Version"},"uptime":{"type":"number","title":"Uptime"},"database":{"type":"string","title":"Database"},"circuit_breaker":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Circuit Breaker"},"rate_limit":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Rate Limit"},"checks":{"anyOf":[{"additionalProperties":{"type":"boolean"},"type":"object"},{"type":"null"}],"title":"Checks"}},"type":"object","required":["status","version","uptime","database"],"title":"HealthCheckResponse","description":"Health check response"},"HumanReviewPayload":{"properties":{"comment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comment"},"edited_fields":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Edited Fields"}},"type":"object","title":"HumanReviewPayload"},"ImportChatbookResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"},"job_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Job Id","description":"Job ID if async mode"},"imported_items":{"anyOf":[{"additionalProperties":{"type":"integer"},"type":"object"},{"type":"null"}],"title":"Imported Items","description":"Count of imported items by type"}},"type":"object","required":["success","message"],"title":"ImportChatbookResponse","description":"Response for chatbook import."},"ImportDictionaryJSONRequest":{"properties":{"data":{"additionalProperties":true,"type":"object","title":"Data","description":"Dictionary JSON data with 'name' and 'entries'"},"activate":{"type":"boolean","title":"Activate","description":"Whether to activate the dictionary after import","default":true}},"type":"object","required":["data"],"title":"ImportDictionaryJSONRequest","description":"Request schema for importing a dictionary from JSON."},"ImportDictionaryRequest":{"properties":{"name":{"type":"string","maxLength":100,"minLength":1,"title":"Name","description":"Name for the imported dictionary"},"content":{"type":"string","title":"Content","description":"Markdown content to import"},"activate":{"type":"boolean","title":"Activate","description":"Whether to activate the dictionary after import","default":true}},"type":"object","required":["name","content"],"title":"ImportDictionaryRequest","description":"Request schema for importing a dictionary from markdown."},"ImportDictionaryResponse":{"properties":{"dictionary_id":{"type":"integer","title":"Dictionary Id","description":"ID of the created dictionary"},"name":{"type":"string","title":"Name","description":"Dictionary name"},"entries_imported":{"type":"integer","title":"Entries Imported","description":"Number of entries imported"},"groups_created":{"items":{"type":"string"},"type":"array","title":"Groups Created","description":"List of groups found and created"}},"type":"object","required":["dictionary_id","name","entries_imported","groups_created"],"title":"ImportDictionaryResponse","description":"Response schema for dictionary import."},"ImportJobResponse":{"properties":{"job_id":{"type":"string","title":"Job Id"},"status":{"$ref":"#/components/schemas/ImportStatus"},"chatbook_path":{"type":"string","title":"Chatbook Path"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"started_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Started At"},"completed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Completed At"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"},"progress_percentage":{"type":"integer","title":"Progress Percentage","default":0},"total_items":{"type":"integer","title":"Total Items","default":0},"processed_items":{"type":"integer","title":"Processed Items","default":0},"successful_items":{"type":"integer","title":"Successful Items","default":0},"failed_items":{"type":"integer","title":"Failed Items","default":0},"skipped_items":{"type":"integer","title":"Skipped Items","default":0},"conflicts":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Conflicts"},"warnings":{"items":{"type":"string"},"type":"array","title":"Warnings"}},"type":"object","required":["job_id","status","chatbook_path","created_at"],"title":"ImportJobResponse","description":"Import job status."},"ImportStatus":{"type":"string","enum":["pending","validating","in_progress","completed","failed","cancelled"],"title":"ImportStatus","description":"Status of import job."},"IngestWebContentRequest":{"properties":{"urls":{"items":{"type":"string"},"type":"array","title":"Urls"},"titles":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Titles"},"authors":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Authors"},"keywords":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Keywords"},"scrape_method":{"$ref":"#/components/schemas/ScrapeMethod","default":"individual"},"url_level":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Url Level","default":2},"max_pages":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Max Pages","default":10},"max_depth":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Max Depth","default":3},"custom_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Prompt"},"system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt"},"perform_translation":{"type":"boolean","title":"Perform Translation","default":false},"translation_language":{"type":"string","title":"Translation Language","default":"en"},"timestamp_option":{"type":"boolean","title":"Timestamp Option","default":true},"overwrite_existing":{"type":"boolean","title":"Overwrite Existing","default":false},"perform_analysis":{"type":"boolean","title":"Perform Analysis","default":true},"perform_rolling_summarization":{"type":"boolean","title":"Perform Rolling Summarization","default":false},"api_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name"},"api_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Key"},"perform_chunking":{"type":"boolean","title":"Perform Chunking","default":true},"chunk_method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Method"},"use_adaptive_chunking":{"type":"boolean","title":"Use Adaptive Chunking","default":false},"use_multi_level_chunking":{"type":"boolean","title":"Use Multi Level Chunking","default":false},"chunk_language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Language"},"chunk_size":{"type":"integer","title":"Chunk Size","default":500},"chunk_overlap":{"type":"integer","title":"Chunk Overlap","default":200},"hierarchical_chunking":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Hierarchical Chunking","default":false},"hierarchical_template":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Hierarchical Template"},"use_cookies":{"type":"boolean","title":"Use Cookies","default":false},"cookies":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cookies"},"perform_confabulation_check_of_analysis":{"type":"boolean","title":"Perform Confabulation Check Of Analysis","default":false},"custom_chapter_pattern":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Chapter Pattern"}},"type":"object","required":["urls"],"title":"IngestWebContentRequest"},"JobStatusResponse":{"properties":{"job_id":{"type":"string","title":"Job Id","description":"Job ID"},"conversation_id":{"type":"integer","title":"Conversation Id","description":"Conversation ID"},"document_type":{"$ref":"#/components/schemas/DocumentType","description":"Type of document"},"status":{"$ref":"#/components/schemas/GenerationStatus","description":"Current status"},"provider":{"type":"string","title":"Provider","description":"LLM provider"},"model":{"type":"string","title":"Model","description":"Model name"},"result_content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Result Content","description":"Generated content (if completed)"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message","description":"Error message (if failed)"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Job creation time"},"started_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Started At","description":"Job start time"},"completed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Completed At","description":"Job completion time"},"progress_percentage":{"anyOf":[{"type":"integer","maximum":100.0,"minimum":0.0},{"type":"null"}],"title":"Progress Percentage","description":"Progress percentage"}},"type":"object","required":["job_id","conversation_id","document_type","status","provider","model","created_at"],"title":"JobStatusResponse","description":"Response schema for job status check."},"KeywordsForNoteResponse":{"properties":{"note_id":{"type":"string","title":"Note Id"},"keywords":{"items":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__notes_schemas__KeywordResponse"},"type":"array","title":"Keywords"}},"type":"object","required":["note_id","keywords"],"title":"KeywordsForNoteResponse"},"LLMOptionsForChunkerInternalSteps":{"properties":{"temperature":{"anyOf":[{"type":"number","maximum":2.0,"minimum":0.0},{"type":"null"}],"title":"Temperature","description":"Suggested temperature for LLM (0.0-2.0) for internal steps. Server default if None."},"system_prompt_for_step":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt For Step","description":"Suggest a system prompt for each internal LLM step. Server might have a default or append to this."},"max_tokens_per_step":{"anyOf":[{"type":"integer","exclusiveMinimum":0.0},{"type":"null"}],"title":"Max Tokens Per Step","description":"Suggest max tokens for the LLM to generate in each internal step. Server might cap this."}},"type":"object","title":"LLMOptionsForChunkerInternalSteps","description":"LLM configurations if a chunking method (e.g., 'rolling_summarize')\ninternally uses an LLM for its processing steps.\nThe Provider and Model for these steps are determined by the server.\nClient can suggest other parameters."},"LearnTemplateRequest":{"properties":{"name":{"type":"string","title":"Name"},"example_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Example Text"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"save":{"type":"boolean","title":"Save","default":false},"classifier":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Classifier"}},"type":"object","required":["name"],"title":"LearnTemplateRequest"},"ListExportJobsResponse":{"properties":{"jobs":{"items":{"$ref":"#/components/schemas/ExportJobResponse"},"type":"array","title":"Jobs"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["jobs","total"],"title":"ListExportJobsResponse","description":"Response for listing export jobs."},"ListImportJobsResponse":{"properties":{"jobs":{"items":{"$ref":"#/components/schemas/ImportJobResponse"},"type":"array","title":"Jobs"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["jobs","total"],"title":"ListImportJobsResponse","description":"Response for listing import jobs."},"ListResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"data":{"items":{},"type":"array","title":"Data"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"},"error_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Code"},"metadata":{"$ref":"#/components/schemas/PaginationMetadata"}},"type":"object","required":["success","data","metadata"],"title":"ListResponse","description":"Standard list response with pagination"},"MCPError":{"properties":{"code":{"type":"integer","title":"Code"},"message":{"type":"string","title":"Message"},"data":{"anyOf":[{},{"type":"null"}],"title":"Data"}},"type":"object","required":["code","message"],"title":"MCPError","description":"MCP error structure"},"MCPRequest":{"properties":{"jsonrpc":{"type":"string","const":"2.0","title":"Jsonrpc","default":"2.0"},"method":{"type":"string","maxLength":100,"minLength":1,"title":"Method"},"params":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Params"},"id":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"null"}],"title":"Id"}},"type":"object","required":["method"],"title":"MCPRequest","description":"MCP request following JSON-RPC 2.0 specification"},"MCPResponse":{"properties":{"jsonrpc":{"type":"string","const":"2.0","title":"Jsonrpc","default":"2.0"},"result":{"anyOf":[{},{"type":"null"}],"title":"Result"},"error":{"anyOf":[{"$ref":"#/components/schemas/MCPError"},{"type":"null"}]},"id":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"null"}],"title":"Id"}},"type":"object","title":"MCPResponse","description":"MCP response following JSON-RPC 2.0 specification"},"MediaListItem":{"properties":{"id":{"type":"integer","title":"Id","description":"Unique identifier for the media item.","example":123},"title":{"type":"string","title":"Title","description":"Title of the media item.","example":"My Awesome Video"},"url":{"type":"string","title":"Url","description":"Relative API URL to fetch the full details of this item.","example":"/api/v1/media/123"},"type":{"type":"string","title":"Type","description":"Type of the media (e.g., 'video', 'audio', 'pdf').","example":"video"}},"type":"object","required":["id","title","url","type"],"title":"MediaListItem","description":"Represents a single media item in a list response."},"MediaListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/MediaListItem"},"type":"array","title":"Items","description":"A list of media items on the current page."},"pagination":{"$ref":"#/components/schemas/PaginationInfo","description":"Pagination details for the media list."}},"type":"object","required":["items","pagination"],"title":"MediaListResponse","description":"Response model for listing all media items (GET /)."},"MediaUpdateRequest":{"properties":{"title":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Title","description":"Title (max 500 chars)"},"content":{"anyOf":[{"type":"string","maxLength":5000000},{"type":"null"}],"title":"Content","description":"Content (max 5MB of text)"},"author":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Author","description":"Author (max 255 chars)"},"analysis":{"anyOf":[{"type":"string","maxLength":100000},{"type":"null"}],"title":"Analysis","description":"Analysis (max 100KB)"},"prompt":{"anyOf":[{"type":"string","maxLength":10000},{"type":"null"}],"title":"Prompt","description":"Prompt (max 10KB)"},"keywords":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":50},{"type":"null"}],"title":"Keywords","description":"Keywords (max 50)"}},"type":"object","title":"MediaUpdateRequest"},"MessageCreate":{"properties":{"role":{"type":"string","enum":["user","assistant","system"],"title":"Role","description":"Message sender role"},"content":{"type":"string","minLength":1,"title":"Content","description":"Message content"},"parent_message_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Parent Message Id","description":"Parent message ID for branching"},"image_base64":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Base64","description":"Optional base64 encoded image"}},"type":"object","required":["role","content"],"title":"MessageCreate","description":"Schema for creating a new message.","example":{"content":"Hello, how are you today?","role":"user"}},"MessageListResponse":{"properties":{"messages":{"items":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__chat_session_schemas__MessageResponse"},"type":"array","title":"Messages","description":"List of messages"},"total":{"type":"integer","title":"Total","description":"Total number of messages"},"limit":{"type":"integer","title":"Limit","description":"Number of items per page"},"offset":{"type":"integer","title":"Offset","description":"Offset for pagination"}},"type":"object","required":["messages","total","limit","offset"],"title":"MessageListResponse","description":"Schema for listing messages."},"MessageUpdate":{"properties":{"content":{"type":"string","minLength":1,"title":"Content","description":"New message content"}},"type":"object","required":["content"],"title":"MessageUpdate","description":"Schema for updating a message.","example":{"content":"Updated message content"}},"ModelActionRequest":{"properties":{"model":{"type":"string","title":"Model"},"provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Provider"}},"type":"object","required":["model"],"title":"ModelActionRequest"},"NormalizationOptions":{"properties":{"normalize":{"type":"boolean","title":"Normalize","description":"Normalizes input text to make it easier for the model to say","default":true},"unit_normalization":{"type":"boolean","title":"Unit Normalization","description":"Transforms units like 10KB to 10 kilobytes","default":false},"url_normalization":{"type":"boolean","title":"Url Normalization","description":"Changes urls so they can be properly pronounced by kokoro","default":true},"email_normalization":{"type":"boolean","title":"Email Normalization","description":"Changes emails so they can be properly pronouced by kokoro","default":true},"optional_pluralization_normalization":{"type":"boolean","title":"Optional Pluralization Normalization","description":"Replaces (s) with s so some words get pronounced correctly","default":true},"phone_normalization":{"type":"boolean","title":"Phone Normalization","description":"Changes phone numbers so they can be properly pronouced by kokoro","default":true}},"type":"object","title":"NormalizationOptions","description":"Options for the normalization system"},"NoteBulkCreateItemResult":{"properties":{"success":{"type":"boolean","title":"Success"},"note":{"anyOf":[{"$ref":"#/components/schemas/NoteResponse"},{"type":"null"}]},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["success"],"title":"NoteBulkCreateItemResult"},"NoteBulkCreateRequest":{"properties":{"notes":{"items":{"$ref":"#/components/schemas/NoteCreate"},"type":"array","maxItems":200,"minItems":1,"title":"Notes","description":"List of notes to create"}},"type":"object","required":["notes"],"title":"NoteBulkCreateRequest"},"NoteBulkCreateResponse":{"properties":{"results":{"items":{"$ref":"#/components/schemas/NoteBulkCreateItemResult"},"type":"array","title":"Results"},"created_count":{"type":"integer","title":"Created Count","default":0},"failed_count":{"type":"integer","title":"Failed Count","default":0}},"type":"object","required":["results"],"title":"NoteBulkCreateResponse"},"NoteCreate":{"properties":{"title":{"type":"string","maxLength":255,"minLength":1,"title":"Title","description":"Title of the note"},"content":{"type":"string","maxLength":5000000,"minLength":1,"title":"Content","description":"Content of the note (max 5MB)"},"id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id","description":"Optional client-provided UUID for the note. If None, will be auto-generated."},"keywords":{"anyOf":[{"type":"string"},{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Keywords","description":"Optional keywords to attach to the note. Accepts a list of strings or a comma-separated string."}},"type":"object","required":["title","content"],"title":"NoteCreate"},"NoteKeywordLinkResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"}},"type":"object","required":["success"],"title":"NoteKeywordLinkResponse"},"NoteResponse":{"properties":{"title":{"type":"string","maxLength":255,"minLength":1,"title":"Title","description":"Title of the note"},"content":{"type":"string","maxLength":5000000,"minLength":1,"title":"Content","description":"Content of the note (max 5MB)"},"id":{"type":"string","title":"Id","description":"UUID of the note"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Timestamp of note creation"},"last_modified":{"type":"string","format":"date-time","title":"Last Modified","description":"Timestamp of last modification"},"version":{"type":"integer","title":"Version","description":"Version number for optimistic locking"},"client_id":{"type":"string","title":"Client Id","description":"Client ID that last modified the note"},"deleted":{"type":"boolean","title":"Deleted","description":"Whether the note is soft-deleted"},"keywords":{"anyOf":[{"items":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__notes_schemas__KeywordResponse"},"type":"array"},{"type":"null"}],"title":"Keywords","description":"Keywords linked to this note"}},"type":"object","required":["title","content","id","created_at","last_modified","version","client_id","deleted"],"title":"NoteResponse"},"NoteUpdate":{"properties":{"title":{"anyOf":[{"type":"string","maxLength":255,"minLength":1},{"type":"null"}],"title":"Title","description":"New title for the note"},"content":{"anyOf":[{"type":"string","maxLength":5000000,"minLength":1},{"type":"null"}],"title":"Content","description":"New content for the note (max 5MB)"}},"type":"object","title":"NoteUpdate"},"NotesForKeywordResponse":{"properties":{"keyword_id":{"type":"integer","title":"Keyword Id"},"notes":{"items":{"$ref":"#/components/schemas/NoteResponse"},"type":"array","title":"Notes"}},"type":"object","required":["keyword_id","notes"],"title":"NotesForKeywordResponse"},"OCREvaluationItem":{"properties":{"id":{"type":"string","title":"Id","description":"Document identifier"},"extracted_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Extracted Text","description":"OCR-extracted text (if already computed)"},"ground_truth_text":{"type":"string","title":"Ground Truth Text","description":"Ground-truth text for comparison"},"ground_truth_pages":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Ground Truth Pages","description":"Per-page ground-truth texts (aligned to PDF pages)"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","required":["id","ground_truth_text"],"title":"OCREvaluationItem"},"OCREvaluationRequest":{"properties":{"items":{"items":{"$ref":"#/components/schemas/OCREvaluationItem"},"type":"array","title":"Items"},"metrics":{"anyOf":[{"items":{"type":"string","enum":["cer","wer","coverage","page_coverage"]},"type":"array"},{"type":"null"}],"title":"Metrics","description":"Metrics to compute"},"ocr_options":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Ocr Options","description":"OCR configuration options"},"thresholds":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Thresholds","description":"Pass/fail thresholds: max_cer, max_wer, min_coverage, min_page_coverage"}},"type":"object","required":["items"],"title":"OCREvaluationRequest"},"OCREvaluationResponse":{"properties":{"evaluation_id":{"type":"string","title":"Evaluation Id"},"results":{"additionalProperties":true,"type":"object","title":"Results"},"evaluation_time":{"type":"number","title":"Evaluation Time"}},"type":"object","required":["evaluation_id","results","evaluation_time"],"title":"OCREvaluationResponse"},"OpenAISpeechRequest":{"properties":{"model":{"type":"string","title":"Model","description":"The model to use for generation. Supported models: tts-1, tts-1-hd, kokoro, higgs, chatterbox, vibevoice","default":"kokoro"},"input":{"type":"string","title":"Input","description":"The text to generate audio for"},"voice":{"type":"string","title":"Voice","description":"The voice to use for generation. Can be a base voice or a combined voice name.","default":"af_heart"},"response_format":{"type":"string","enum":["mp3","opus","aac","flac","wav","pcm"],"title":"Response Format","description":"The format to return audio in. Supported formats: mp3, opus, flac, wav, pcm. PCM format returns raw 16-bit samples without headers. AAC is not currently supported.","default":"mp3"},"download_format":{"anyOf":[{"type":"string","enum":["mp3","opus","aac","flac","wav","pcm"]},{"type":"null"}],"title":"Download Format","description":"Optional different format for the final download. If not provided, uses response_format."},"speed":{"type":"number","maximum":4.0,"minimum":0.25,"title":"Speed","description":"The speed of the generated audio. Select a value from 0.25 to 4.0.","default":1.0},"stream":{"type":"boolean","title":"Stream","description":"If true (default), audio will be streamed as it's generated. Each chunk will be a complete sentence.","default":true},"return_download_link":{"type":"boolean","title":"Return Download Link","description":"If true, returns a download link in X-Download-Path header after streaming completes","default":false},"lang_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lang Code","description":"Optional language code to use for text processing. If not provided, will use first letter of voice name."},"normalization_options":{"anyOf":[{"$ref":"#/components/schemas/NormalizationOptions"},{"type":"null"}],"description":"Options for the normalization system","default":{"normalize":true,"unit_normalization":false,"url_normalization":true,"email_normalization":true,"optional_pluralization_normalization":true,"phone_normalization":true}},"voice_reference":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Voice Reference","description":"Base64-encoded audio data for voice cloning/reference. Supported by Higgs (3-10s), Chatterbox (5-20s), and VibeVoice models."},"reference_duration_min":{"anyOf":[{"type":"number","maximum":60.0,"minimum":3.0},{"type":"null"}],"title":"Reference Duration Min","description":"Minimum duration in seconds for voice reference audio. If provided, will validate reference audio length."},"extra_params":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Extra Params","description":"Provider-specific parameters passed through to adapters (e.g., stability, clarity, cfg_scale)."}},"type":"object","required":["input"],"title":"OpenAISpeechRequest","description":"Request schema for OpenAI-compatible speech endpoint"},"OptimizationConfig":{"properties":{"optimizer_type":{"type":"string","title":"Optimizer Type","description":"Type of optimizer to use"},"max_iterations":{"type":"integer","maximum":500.0,"minimum":1.0,"title":"Max Iterations","description":"Maximum iterations","default":50},"target_metric":{"type":"string","title":"Target Metric","description":"Metric to optimize"},"target_value":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Target Value","description":"Target metric value to achieve"},"early_stopping":{"type":"boolean","title":"Early Stopping","description":"Enable early stopping","default":true},"early_stopping_patience":{"type":"integer","minimum":1.0,"title":"Early Stopping Patience","description":"Iterations without improvement before stopping","default":5},"temperature_range":{"items":{"type":"number"},"type":"array","title":"Temperature Range","description":"Temperature range to explore","default":[0.0,1.0]},"techniques_to_try":{"items":{"type":"string"},"type":"array","title":"Techniques To Try","description":"Prompt techniques to try","default":["cot","few_shot"]},"models_to_test":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Models To Test","description":"Models to test during optimization"},"budget_limit":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Budget Limit","description":"Maximum budget in dollars"}},"type":"object","required":["optimizer_type","target_metric"],"title":"OptimizationConfig","description":"Configuration for optimization run"},"OptimizationCreate":{"properties":{"project_id":{"type":"integer","title":"Project Id"},"initial_prompt_id":{"type":"integer","title":"Initial Prompt Id"},"optimization_config":{"$ref":"#/components/schemas/OptimizationConfig"},"bootstrap_config":{"anyOf":[{"$ref":"#/components/schemas/BootstrapConfig"},{"type":"null"}]},"test_case_ids":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Test Case Ids","description":"Specific test cases to optimize against"},"name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Name","description":"Optimization run name"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description","description":"Optimization run description"}},"type":"object","required":["project_id","initial_prompt_id","optimization_config"],"title":"OptimizationCreate","description":"Optimization creation request"},"PaginatedPromptsResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/PromptBriefResponse"},"type":"array","title":"Items"},"total_pages":{"type":"integer","title":"Total Pages"},"current_page":{"type":"integer","title":"Current Page"},"total_items":{"type":"integer","title":"Total Items"}},"type":"object","required":["items","total_pages","current_page","total_items"],"title":"PaginatedPromptsResponse"},"PaginationInfo":{"properties":{"page":{"type":"integer","title":"Page","description":"The current page number.","example":1},"results_per_page":{"type":"integer","title":"Results Per Page","description":"Number of items requested per page.","example":10},"total_pages":{"type":"integer","title":"Total Pages","description":"Total number of pages available.","example":5},"total_items":{"type":"integer","title":"Total Items","description":"Total number of items matching the query.","example":48}},"type":"object","required":["page","results_per_page","total_pages","total_items"],"title":"PaginationInfo","description":"Model for pagination details used in list responses."},"PaginationMetadata":{"properties":{"page":{"type":"integer","minimum":1.0,"title":"Page"},"per_page":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Per Page"},"total":{"type":"integer","minimum":0.0,"title":"Total"},"total_pages":{"type":"integer","minimum":0.0,"title":"Total Pages"}},"type":"object","required":["page","per_page","total","total_pages"],"title":"PaginationMetadata","description":"Pagination metadata for list responses"},"PasswordChangeRequest":{"properties":{"current_password":{"type":"string","title":"Current Password","description":"Current password"},"new_password":{"type":"string","minLength":10,"title":"New Password","description":"New password"}},"type":"object","required":["current_password","new_password"],"title":"PasswordChangeRequest","description":"Password change request","example":{"current_password":"OldPass123!","new_password":"NewSecurePass456!"}},"PipelineCleanupResponse":{"properties":{"expired_count":{"type":"integer","title":"Expired Count"},"deleted_count":{"type":"integer","title":"Deleted Count"},"errors":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Errors"}},"type":"object","required":["expired_count","deleted_count"],"title":"PipelineCleanupResponse"},"PipelineMetricsSelection":{"properties":{"chunking_metrics":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Chunking Metrics"},"retrieval_metrics":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Retrieval Metrics"},"generation_metrics":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Generation Metrics"}},"type":"object","title":"PipelineMetricsSelection","description":"Select which metrics to compute at each step."},"PipelinePresetCreate":{"properties":{"name":{"type":"string","maxLength":128,"minLength":1,"title":"Name"},"config":{"additionalProperties":true,"type":"object","title":"Config","description":"RAG pipeline config blocks: {chunking,retriever,reranker,rag}"}},"type":"object","required":["name","config"],"title":"PipelinePresetCreate"},"PipelinePresetListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/PipelinePresetResponse"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["items","total"],"title":"PipelinePresetListResponse"},"PipelinePresetResponse":{"properties":{"name":{"type":"string","title":"Name"},"config":{"additionalProperties":true,"type":"object","title":"Config"},"created_at":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["name","config"],"title":"PipelinePresetResponse"},"PreviewChatbookResponse":{"properties":{"manifest":{"anyOf":[{"$ref":"#/components/schemas/ChatbookManifestResponse"},{"type":"null"}]},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","title":"PreviewChatbookResponse","description":"Response for chatbook preview."},"ProcessContextRequest":{"properties":{"text":{"type":"string","title":"Text","description":"Text to scan for keywords"},"world_book_ids":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"World Book Ids","description":"Specific world books to use"},"character_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Character Id","description":"Character whose world books to use"},"scan_depth":{"type":"integer","maximum":20.0,"minimum":1.0,"title":"Scan Depth","description":"Override for scan depth","default":3},"token_budget":{"type":"integer","maximum":5000.0,"minimum":50.0,"title":"Token Budget","description":"Maximum tokens to inject","default":500},"recursive_scanning":{"type":"boolean","title":"Recursive Scanning","description":"Enable recursive scanning","default":false}},"type":"object","required":["text"],"title":"ProcessContextRequest","description":"Request schema for processing text with world info."},"ProcessContextResponse":{"properties":{"injected_content":{"type":"string","title":"Injected Content","description":"World info content to inject"},"entries_matched":{"type":"integer","title":"Entries Matched","description":"Number of entries that matched"},"tokens_used":{"type":"integer","title":"Tokens Used","description":"Estimated tokens used"},"books_used":{"type":"integer","title":"Books Used","description":"Number of world books that had matches"},"entry_ids":{"items":{"type":"integer"},"type":"array","title":"Entry Ids","description":"IDs of matched entries"}},"type":"object","required":["injected_content","entries_matched","tokens_used","books_used","entry_ids"],"title":"ProcessContextResponse","description":"Response schema for processed context."},"ProcessTextRequest":{"properties":{"text":{"type":"string","title":"Text","description":"Text to process"},"dictionary_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Dictionary Id","description":"Specific dictionary to use"},"group":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Group","description":"Specific group to filter entries"},"max_iterations":{"type":"integer","maximum":20.0,"minimum":1.0,"title":"Max Iterations","description":"Maximum processing iterations","default":5},"token_budget":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Token Budget","description":"Optional token limit"}},"type":"object","required":["text"],"title":"ProcessTextRequest","description":"Request schema for processing text through dictionaries."},"ProcessTextResponse":{"properties":{"original_text":{"type":"string","title":"Original Text","description":"Original input text"},"processed_text":{"type":"string","title":"Processed Text","description":"Text after processing"},"replacements":{"type":"integer","title":"Replacements","description":"Total number of replacements made"},"iterations":{"type":"integer","title":"Iterations","description":"Number of iterations performed"},"entries_used":{"items":{"type":"integer"},"type":"array","title":"Entries Used","description":"IDs of entries that made replacements"},"token_budget_exceeded":{"type":"boolean","title":"Token Budget Exceeded","description":"Whether token budget was exceeded","default":false},"processing_time_ms":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Processing Time Ms","description":"Processing time in milliseconds"}},"type":"object","required":["original_text","processed_text","replacements","iterations","entries_used"],"title":"ProcessTextResponse","description":"Response schema for processed text."},"ProjectCreate":{"properties":{"name":{"type":"string","maxLength":255,"minLength":1,"title":"Name","description":"Project name"},"description":{"anyOf":[{"type":"string","maxLength":2000},{"type":"null"}],"title":"Description","description":"Project description"},"status":{"$ref":"#/components/schemas/ProjectStatus","description":"Project status","default":"draft"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"Additional metadata"}},"type":"object","required":["name"],"title":"ProjectCreate","description":"Project creation request"},"ProjectStatus":{"type":"string","enum":["draft","active","archived"],"title":"ProjectStatus"},"ProjectUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":255,"minLength":1},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string","maxLength":2000},{"type":"null"}],"title":"Description"},"status":{"anyOf":[{"$ref":"#/components/schemas/ProjectStatus"},{"type":"null"}]},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","title":"ProjectUpdate","description":"Project update request"},"PromptBriefResponse":{"properties":{"id":{"type":"integer","title":"Id"},"uuid":{"type":"string","title":"Uuid"},"name":{"type":"string","title":"Name"},"author":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author"},"last_modified":{"type":"string","format":"date-time","title":"Last Modified"}},"type":"object","required":["id","uuid","name","author","last_modified"],"title":"PromptBriefResponse"},"PromptConfigResponse":{"properties":{"document_type":{"$ref":"#/components/schemas/DocumentType","description":"Document type"},"system_prompt":{"type":"string","title":"System Prompt","description":"System prompt"},"user_prompt":{"type":"string","title":"User Prompt","description":"User prompt template"},"temperature":{"type":"number","title":"Temperature","description":"Generation temperature"},"max_tokens":{"type":"integer","title":"Max Tokens","description":"Maximum tokens"},"is_custom":{"type":"boolean","title":"Is Custom","description":"Whether this is a custom config"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At","description":"Creation timestamp for custom configs"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At","description":"Last update timestamp"}},"type":"object","required":["document_type","system_prompt","user_prompt","temperature","max_tokens","is_custom"],"title":"PromptConfigResponse","description":"Response schema for prompt configuration."},"PromptModule":{"properties":{"type":{"type":"string","title":"Type","description":"Module type"},"enabled":{"type":"boolean","title":"Enabled","default":true},"config":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Config","description":"Module-specific configuration"}},"type":"object","required":["type"],"title":"PromptModule","description":"Configuration for a prompt module (CoT, ReAct, etc.)"},"PromptResponse":{"properties":{"name":{"type":"string","maxLength":255,"minLength":1,"title":"Name","description":"Unique name of the prompt."},"author":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Author","description":"Author of the prompt."},"details":{"anyOf":[{"type":"string","maxLength":4000},{"type":"null"}],"title":"Details","description":"Detailed description or notes about the prompt."},"system_prompt":{"anyOf":[{"type":"string","maxLength":20000},{"type":"null"}],"title":"System Prompt","description":"The system part of the prompt."},"user_prompt":{"anyOf":[{"type":"string","maxLength":20000},{"type":"null"}],"title":"User Prompt","description":"The user part of the prompt."},"id":{"type":"integer","title":"Id"},"uuid":{"type":"string","title":"Uuid"},"last_modified":{"type":"string","format":"date-time","title":"Last Modified"},"version":{"type":"integer","title":"Version"},"keywords":{"items":{"type":"string"},"type":"array","title":"Keywords","description":"Keywords associated with the prompt."},"deleted":{"type":"boolean","title":"Deleted","description":"Indicates if the prompt is soft-deleted."}},"type":"object","required":["name","id","uuid","last_modified","version","deleted"],"title":"PromptResponse"},"PromptSearchResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/PromptSearchResultItem"},"type":"array","title":"Items"},"total_matches":{"type":"integer","title":"Total Matches"},"page":{"type":"integer","title":"Page"},"per_page":{"type":"integer","title":"Per Page"}},"type":"object","required":["items","total_matches","page","per_page"],"title":"PromptSearchResponse"},"PromptSearchResultItem":{"properties":{"name":{"type":"string","maxLength":255,"minLength":1,"title":"Name","description":"Unique name of the prompt."},"author":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Author","description":"Author of the prompt."},"details":{"anyOf":[{"type":"string","maxLength":4000},{"type":"null"}],"title":"Details","description":"Detailed description or notes about the prompt."},"system_prompt":{"anyOf":[{"type":"string","maxLength":20000},{"type":"null"}],"title":"System Prompt","description":"The system part of the prompt."},"user_prompt":{"anyOf":[{"type":"string","maxLength":20000},{"type":"null"}],"title":"User Prompt","description":"The user part of the prompt."},"id":{"type":"integer","title":"Id"},"uuid":{"type":"string","title":"Uuid"},"last_modified":{"type":"string","format":"date-time","title":"Last Modified"},"version":{"type":"integer","title":"Version"},"keywords":{"items":{"type":"string"},"type":"array","title":"Keywords","description":"Keywords associated with the prompt."},"deleted":{"type":"boolean","title":"Deleted","description":"Indicates if the prompt is soft-deleted."},"relevance_score":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Relevance Score"}},"type":"object","required":["name","id","uuid","last_modified","version","deleted"],"title":"PromptSearchResultItem"},"PromptUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":255,"minLength":1},{"type":"null"}],"title":"Name"},"system_prompt":{"anyOf":[{"type":"string","maxLength":50000},{"type":"null"}],"title":"System Prompt"},"user_prompt":{"anyOf":[{"type":"string","maxLength":50000},{"type":"null"}],"title":"User Prompt"},"few_shot_examples":{"anyOf":[{"items":{"$ref":"#/components/schemas/FewShotExample"},"type":"array"},{"type":"null"}],"title":"Few Shot Examples"},"modules_config":{"anyOf":[{"items":{"$ref":"#/components/schemas/PromptModule"},"type":"array"},{"type":"null"}],"title":"Modules Config"},"change_description":{"type":"string","maxLength":500,"minLength":1,"title":"Change Description","description":"Required change description"}},"type":"object","required":["change_description"],"title":"PromptUpdate","description":"Prompt update request (creates new version)"},"PropositionEvaluationRequest":{"properties":{"extracted":{"items":{"type":"string"},"type":"array","minItems":1,"title":"Extracted","description":"Extracted propositions/claims"},"reference":{"items":{"type":"string"},"type":"array","minItems":1,"title":"Reference","description":"Reference propositions/claims"},"method":{"anyOf":[{"type":"string","enum":["semantic","jaccard"]},{"type":"null"}],"title":"Method","description":"Matching method","default":"semantic"},"threshold":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Threshold","description":"Match threshold","default":0.7}},"type":"object","required":["extracted","reference"],"title":"PropositionEvaluationRequest","description":"Evaluate proposition extraction quality"},"PropositionEvaluationResponse":{"properties":{"precision":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Precision"},"recall":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Recall"},"f1":{"type":"number","maximum":1.0,"minimum":0.0,"title":"F1"},"matched":{"type":"integer","title":"Matched"},"total_extracted":{"type":"integer","title":"Total Extracted"},"total_reference":{"type":"integer","title":"Total Reference"},"claim_density_per_100_tokens":{"type":"number","title":"Claim Density Per 100 Tokens"},"avg_prop_len_tokens":{"type":"number","title":"Avg Prop Len Tokens"},"dedup_rate":{"type":"number","title":"Dedup Rate"},"details":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Details"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","required":["precision","recall","f1","matched","total_extracted","total_reference","claim_density_per_100_tokens","avg_prop_len_tokens","dedup_rate"],"title":"PropositionEvaluationResponse"},"QueryRequest":{"properties":{"query":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Query"},"vector":{"anyOf":[{"items":{"type":"number"},"type":"array"},{"type":"null"}],"title":"Vector"},"top_k":{"type":"integer","maximum":100.0,"exclusiveMinimum":0.0,"title":"Top K","default":10},"filter":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Filter"}},"type":"object","title":"QueryRequest"},"RAGEvaluationRequest":{"properties":{"query":{"type":"string","maxLength":10000,"minLength":1,"title":"Query"},"retrieved_contexts":{"items":{"type":"string"},"type":"array","maxItems":20,"minItems":1,"title":"Retrieved Contexts"},"generated_response":{"type":"string","maxLength":50000,"minLength":1,"title":"Generated Response"},"ground_truth":{"anyOf":[{"type":"string","maxLength":50000},{"type":"null"}],"title":"Ground Truth"},"metrics":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Metrics","default":["relevance","faithfulness","answer_similarity","context_precision"]},"api_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name","default":"openai"}},"type":"object","required":["query","retrieved_contexts","generated_response"],"title":"RAGEvaluationRequest","description":"RAG evaluation request"},"RAGEvaluationResponse":{"properties":{"metrics":{"additionalProperties":{"$ref":"#/components/schemas/EvaluationMetric"},"type":"object","title":"Metrics"},"overall_score":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Overall Score"},"retrieval_quality":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Retrieval Quality"},"generation_quality":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Generation Quality"},"suggestions":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Suggestions"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","required":["metrics","overall_score","retrieval_quality","generation_quality"],"title":"RAGEvaluationResponse","description":"RAG evaluation response"},"RAGPipelineCaching":{"properties":{"cache_chunksets":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Cache Chunksets","default":false},"cache_embeddings":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Cache Embeddings","default":true},"cache_retrievals":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Cache Retrievals","default":true}},"type":"object","title":"RAGPipelineCaching","description":"Caching toggles for the pipeline evaluation."},"RAGPipelineEvalSpec":{"properties":{"dataset_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Dataset Id","description":"Existing dataset id"},"dataset":{"anyOf":[{"items":{"$ref":"#/components/schemas/DatasetSample"},"type":"array"},{"type":"null"}],"title":"Dataset","description":"Inline dataset samples"},"chunking":{"anyOf":[{"$ref":"#/components/schemas/ChunkingSweepConfig"},{"type":"null"}]},"retrievers":{"anyOf":[{"items":{"$ref":"#/components/schemas/RetrieverSweepConfig"},"type":"array"},{"type":"null"}],"title":"Retrievers"},"rerankers":{"anyOf":[{"items":{"$ref":"#/components/schemas/RerankerSweepConfig"},"type":"array"},{"type":"null"}],"title":"Rerankers"},"rag":{"anyOf":[{"$ref":"#/components/schemas/GenerationSweepConfig"},{"type":"null"}]},"search_strategy":{"anyOf":[{"type":"string","enum":["grid","random"]},{"type":"null"}],"title":"Search Strategy","default":"grid"},"max_trials":{"anyOf":[{"type":"integer","maximum":1000.0,"minimum":1.0},{"type":"null"}],"title":"Max Trials"},"metrics":{"anyOf":[{"$ref":"#/components/schemas/PipelineMetricsSelection"},{"type":"null"}]},"caching":{"anyOf":[{"$ref":"#/components/schemas/RAGPipelineCaching"},{"type":"null"}]},"concurrency":{"anyOf":[{"type":"integer","maximum":64.0,"minimum":1.0},{"type":"null"}],"title":"Concurrency","default":4},"timeout_seconds":{"anyOf":[{"type":"integer","maximum":7200.0,"minimum":30.0},{"type":"null"}],"title":"Timeout Seconds","default":300},"index_namespace":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Index Namespace","description":"Optional target index namespace (future use)"},"cleanup_collections":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Cleanup Collections","description":"Delete ephemeral collections after run","default":false},"ephemeral_ttl_seconds":{"anyOf":[{"type":"integer","maximum":604800.0,"minimum":60.0},{"type":"null"}],"title":"Ephemeral Ttl Seconds","description":"TTL for ephemeral collections (seconds)","default":86400},"aggregation_weights":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Aggregation Weights","description":"Weights for combining metrics into config score (e.g., {'rag_overall':1.0,'retrieval_diversity':0.1,'chunk_cohesion':0.1})"}},"type":"object","title":"RAGPipelineEvalSpec","description":"Spec for evaluating RAG configurations via the unified RAG pipeline."},"RateLimitStatusResponse":{"properties":{"tier":{"type":"string","title":"Tier"},"limits":{"additionalProperties":{"type":"integer"},"type":"object","title":"Limits"},"usage":{"additionalProperties":{"type":"integer"},"type":"object","title":"Usage"},"remaining":{"additionalProperties":{"type":"integer"},"type":"object","title":"Remaining"},"reset_at":{"type":"string","format":"date-time","title":"Reset At"}},"type":"object","required":["tier","limits","usage","remaining","reset_at"],"title":"RateLimitStatusResponse","description":"Rate limit status response"},"RefreshTokenRequest":{"properties":{"refresh_token":{"type":"string","title":"Refresh Token","description":"Valid refresh token"}},"type":"object","required":["refresh_token"],"title":"RefreshTokenRequest","description":"Token refresh request","example":{"refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}},"RegisterRequest":{"properties":{"username":{"type":"string","maxLength":50,"minLength":3,"pattern":"^[a-zA-Z0-9_-]+$","title":"Username","description":"Username (alphanumeric, underscore, hyphen only)"},"email":{"type":"string","format":"email","title":"Email","description":"Valid email address"},"password":{"type":"string","minLength":10,"title":"Password","description":"Password (min 10 chars, must include upper, lower, number, special)"},"registration_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Registration Code","description":"Registration code if required"}},"type":"object","required":["username","email","password"],"title":"RegisterRequest","description":"User registration request","example":{"email":"john@example.com","password":"SecurePass123!","registration_code":"ABCD1234EFGH5678","username":"johndoe"}},"RegistrationCodeListResponse":{"properties":{"codes":{"items":{"$ref":"#/components/schemas/RegistrationCodeResponse"},"type":"array","title":"Codes"}},"type":"object","required":["codes"],"title":"RegistrationCodeListResponse","description":"Response for registration code list"},"RegistrationCodeRequest":{"properties":{"max_uses":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Max Uses","default":1},"expiry_days":{"type":"integer","maximum":365.0,"minimum":1.0,"title":"Expiry Days","default":7},"role_to_grant":{"type":"string","pattern":"^(user|admin|service)$","title":"Role To Grant","default":"user"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","title":"RegistrationCodeRequest","description":"Request to create a registration code"},"RegistrationCodeResponse":{"properties":{"id":{"type":"integer","title":"Id"},"code":{"type":"string","title":"Code"},"max_uses":{"type":"integer","title":"Max Uses"},"times_used":{"type":"integer","title":"Times Used"},"expires_at":{"type":"string","format":"date-time","title":"Expires At"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"role_to_grant":{"type":"string","title":"Role To Grant"},"is_valid":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Valid"}},"type":"object","required":["id","code","max_uses","times_used","expires_at","created_at","role_to_grant"],"title":"RegistrationCodeResponse","description":"Response with registration code details"},"RegistrationResponse":{"properties":{"message":{"type":"string","title":"Message","description":"Success message","default":"Registration successful"},"user_id":{"type":"integer","title":"User Id","description":"New user ID"},"username":{"type":"string","title":"Username","description":"Username"},"email":{"type":"string","title":"Email","description":"Email address"},"requires_verification":{"type":"boolean","title":"Requires Verification","description":"Email verification required"}},"type":"object","required":["user_id","username","email","requires_verification"],"title":"RegistrationResponse","description":"Registration success response","example":{"email":"john@example.com","message":"Registration successful","requires_verification":true,"user_id":1,"username":"johndoe"}},"RerankerSweepConfig":{"properties":{"strategy":{"anyOf":[{"type":"string","enum":["flashrank","cross_encoder","hybrid","none"]},{"items":{"type":"string","enum":["flashrank","cross_encoder","hybrid","none"]},"type":"array"},{"type":"null"}],"title":"Strategy"},"top_k":{"anyOf":[{"type":"integer"},{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Top K"},"model":{"anyOf":[{"type":"string"},{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Model","description":"Optional reranker model"}},"type":"object","title":"RerankerSweepConfig","description":"Reranker parameters to sweep."},"ResponseFormat":{"properties":{"type":{"type":"string","enum":["text","json_object"],"title":"Type","description":"Must be one of `text` or `json_object`.","default":"text"}},"type":"object","title":"ResponseFormat"},"ResponseQualityRequest":{"properties":{"prompt":{"type":"string","maxLength":50000,"minLength":1,"title":"Prompt"},"response":{"type":"string","maxLength":50000,"minLength":1,"title":"Response"},"expected_format":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Expected Format"},"evaluation_criteria":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Evaluation Criteria"},"api_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name","default":"openai"}},"type":"object","required":["prompt","response"],"title":"ResponseQualityRequest","description":"Response quality request"},"ResponseQualityResponse":{"properties":{"metrics":{"additionalProperties":{"$ref":"#/components/schemas/EvaluationMetric"},"type":"object","title":"Metrics"},"overall_quality":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Overall Quality"},"format_compliance":{"anyOf":[{"additionalProperties":{"type":"boolean"},"type":"object"},{"type":"null"}],"title":"Format Compliance"},"issues":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Issues"},"improvements":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Improvements"}},"type":"object","required":["metrics","overall_quality"],"title":"ResponseQualityResponse","description":"Response quality response"},"RetrieverSweepConfig":{"properties":{"search_mode":{"anyOf":[{"type":"string","enum":["fts","vector","hybrid"]},{"items":{"type":"string","enum":["fts","vector","hybrid"]},"type":"array"},{"type":"null"}],"title":"Search Mode"},"hybrid_alpha":{"anyOf":[{"type":"number"},{"items":{"type":"number"},"type":"array"},{"type":"null"}],"title":"Hybrid Alpha"},"top_k":{"anyOf":[{"type":"integer"},{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Top K"},"min_score":{"anyOf":[{"type":"number"},{"items":{"type":"number"},"type":"array"},{"type":"null"}],"title":"Min Score"},"keyword_filter":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Keyword Filter"}},"type":"object","title":"RetrieverSweepConfig","description":"Retrieval parameters to sweep."},"RunConfig":{"properties":{"temperature":{"anyOf":[{"type":"number","maximum":2.0,"minimum":0.0},{"type":"null"}],"title":"Temperature","default":0.7},"max_workers":{"anyOf":[{"type":"integer","maximum":100.0,"minimum":1.0},{"type":"null"}],"title":"Max Workers","default":4},"timeout_seconds":{"anyOf":[{"type":"integer","maximum":3600.0,"minimum":1.0},{"type":"null"}],"title":"Timeout Seconds","default":300},"retry_attempts":{"anyOf":[{"type":"integer","maximum":10.0,"minimum":0.0},{"type":"null"}],"title":"Retry Attempts","default":3},"batch_size":{"anyOf":[{"type":"integer","maximum":100.0,"minimum":1.0},{"type":"null"}],"title":"Batch Size","default":10}},"type":"object","title":"RunConfig","description":"Run configuration"},"RunListResponse":{"properties":{"object":{"type":"string","title":"Object","default":"list"},"has_more":{"type":"boolean","title":"Has More","default":false},"first_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Id"},"last_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Id"},"data":{"items":{"$ref":"#/components/schemas/RunResponse"},"type":"array","title":"Data"}},"type":"object","required":["data"],"title":"RunListResponse","description":"Run list response"},"RunProgress":{"properties":{"completed_samples":{"type":"integer","minimum":0.0,"title":"Completed Samples","default":0},"total_samples":{"type":"integer","minimum":0.0,"title":"Total Samples","default":0},"percent_complete":{"type":"number","maximum":100.0,"minimum":0.0,"title":"Percent Complete","default":0.0},"current_sample":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Current Sample"},"estimated_completion":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Estimated Completion"}},"type":"object","title":"RunProgress","description":"Run progress information"},"RunRequest":{"properties":{"inputs":{"additionalProperties":true,"type":"object","title":"Inputs"},"idempotency_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Idempotency Key"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"}},"type":"object","title":"RunRequest"},"RunResponse":{"properties":{"id":{"type":"string","title":"Id","description":"Run ID"},"object":{"type":"string","title":"Object","default":"run"},"eval_id":{"type":"string","title":"Eval Id"},"status":{"$ref":"#/components/schemas/RunStatus"},"target_model":{"type":"string","title":"Target Model"},"created":{"type":"integer","title":"Created","description":"Creation timestamp (OpenAI-compatible)"},"created_at":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Created At","description":"Creation timestamp (tldw-compatible)"},"started_at":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Started At"},"completed_at":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Completed At"},"progress":{"anyOf":[{"$ref":"#/components/schemas/RunProgress"},{"type":"null"}]},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"},"results":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Results"},"usage":{"anyOf":[{"additionalProperties":{"type":"integer"},"type":"object"},{"type":"null"}],"title":"Usage"}},"type":"object","required":["id","eval_id","status","target_model","created"],"title":"RunResponse","description":"Run response"},"RunStatus":{"type":"string","enum":["pending","running","completed","failed","cancelled"],"title":"RunStatus","description":"Run status values"},"SavePromptConfigRequest":{"properties":{"document_type":{"$ref":"#/components/schemas/DocumentType","description":"Document type"},"system_prompt":{"type":"string","maxLength":5000,"minLength":1,"title":"System Prompt","description":"System prompt"},"user_prompt":{"type":"string","maxLength":5000,"minLength":1,"title":"User Prompt","description":"User prompt template"},"temperature":{"type":"number","maximum":2.0,"minimum":0.0,"title":"Temperature","description":"Generation temperature","default":0.7},"max_tokens":{"type":"integer","maximum":10000.0,"minimum":100.0,"title":"Max Tokens","description":"Maximum tokens","default":2000}},"type":"object","required":["document_type","system_prompt","user_prompt"],"title":"SavePromptConfigRequest","description":"Request schema for saving custom prompt configuration."},"ScrapeMethod":{"type":"string","enum":["individual","sitemap","url_level","recursive_scraping"],"title":"ScrapeMethod"},"SearchRequest":{"properties":{"query":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Query","description":"Search query (max 1000 chars)"},"fields":{"items":{"type":"string"},"type":"array","title":"Fields","default":["title","content"]},"exact_phrase":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Exact Phrase"},"media_types":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Media Types"},"date_range":{"anyOf":[{"additionalProperties":{"type":"string","format":"date-time"},"type":"object"},{"type":"null"}],"title":"Date Range"},"must_have":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Must Have"},"must_not_have":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Must Not Have"},"sort_by":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sort By","default":"relevance"},"boost_fields":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Boost Fields"}},"type":"object","title":"SearchRequest"},"SemanticScholarAuthor":{"properties":{"authorId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorid"},"name":{"type":"string","title":"Name"}},"type":"object","required":["name"],"title":"SemanticScholarAuthor"},"SemanticScholarOpenAccessPdf":{"properties":{"url":{"type":"string","title":"Url"},"status":{"type":"string","title":"Status"}},"type":"object","required":["url","status"],"title":"SemanticScholarOpenAccessPdf"},"SemanticScholarPaper":{"properties":{"paperId":{"type":"string","title":"Paperid"},"title":{"type":"string","title":"Title"},"abstract":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Abstract"},"year":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Year"},"citationCount":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Citationcount"},"authors":{"anyOf":[{"items":{"$ref":"#/components/schemas/SemanticScholarAuthor"},"type":"array"},{"type":"null"}],"title":"Authors","default":[]},"venue":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Venue"},"openAccessPdf":{"anyOf":[{"$ref":"#/components/schemas/SemanticScholarOpenAccessPdf"},{"type":"null"}]},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"},"publicationTypes":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Publicationtypes"},"publicationDate":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Publicationdate"},"externalIds":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Externalids"}},"type":"object","required":["paperId","title"],"title":"SemanticScholarPaper"},"SemanticScholarSearchResponse":{"properties":{"query_echo":{"additionalProperties":true,"type":"object","title":"Query Echo"},"items":{"items":{"$ref":"#/components/schemas/SemanticScholarPaper"},"type":"array","title":"Items"},"total_results":{"type":"integer","title":"Total Results"},"offset":{"type":"integer","title":"Offset"},"limit":{"type":"integer","title":"Limit"},"next_offset":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Next Offset"},"page":{"type":"integer","title":"Page"},"total_pages":{"type":"integer","title":"Total Pages"}},"type":"object","required":["query_echo","items","total_results","offset","limit","page","total_pages"],"title":"SemanticScholarSearchResponse"},"ServerChangesResponse":{"properties":{"changes":{"items":{"$ref":"#/components/schemas/SyncLogEntry"},"type":"array","title":"Changes","description":"A list of sync log entries from the server's perspective for the requesting user, filtered to exclude changes originating from the requesting client."},"latest_change_id":{"type":"integer","title":"Latest Change Id","description":"The highest 'change_id' currently present in the user's sync log on the server. Used by the client to know the server's current state."}},"type":"object","required":["changes","latest_change_id"],"title":"ServerChangesResponse","description":"The response sent by the server containing changes for the client.\nCorresponds to the response body for the /sync/get endpoint.","example":{"changes":[{"change_id":12346,"client_id":"client_other_456","entity":"Media","entity_uuid":"f47ac10b-58cc-4372-a567-0e02b2c3d479","operation":"update","payload":"{\"uuid\": \"f47ac10b-58cc-4372-a567-0e02b2c3d479\", \"title\": \"Server Processed Title\", ...}","timestamp":"2023-10-27T10:35:00Z","version":7}],"latest_change_id":12350}},"ServerMetricsResponse":{"properties":{"connections":{"additionalProperties":true,"type":"object","title":"Connections"},"modules":{"additionalProperties":{"additionalProperties":true,"type":"object"},"type":"object","title":"Modules"}},"type":"object","required":["connections","modules"],"title":"ServerMetricsResponse","description":"Server metrics response"},"ServerStatusResponse":{"properties":{"status":{"type":"string","title":"Status"},"version":{"type":"string","title":"Version"},"uptime_seconds":{"type":"number","title":"Uptime Seconds"},"connections":{"additionalProperties":{"type":"integer"},"type":"object","title":"Connections"},"modules":{"additionalProperties":{"type":"integer"},"type":"object","title":"Modules"}},"type":"object","required":["status","version","uptime_seconds","connections","modules"],"title":"ServerStatusResponse","description":"Server status response"},"SessionResponse":{"properties":{"id":{"type":"integer","title":"Id","description":"Session ID"},"ip_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ip Address","description":"IP address"},"user_agent":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Agent","description":"User agent"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Session creation time"},"last_activity":{"type":"string","format":"date-time","title":"Last Activity","description":"Last activity time"},"expires_at":{"type":"string","format":"date-time","title":"Expires At","description":"Session expiration time"}},"type":"object","required":["id","created_at","last_activity","expires_at"],"title":"SessionResponse","description":"Session information response","example":{"created_at":"2025-01-14T10:00:00","expires_at":"2025-01-14T12:00:00","id":1,"ip_address":"192.168.1.1","last_activity":"2025-01-14T11:30:00","user_agent":"Mozilla/5.0..."}},"SessionStats":{"properties":{"active":{"type":"integer","title":"Active"},"unique_users":{"type":"integer","title":"Unique Users"}},"type":"object","required":["active","unique_users"],"title":"SessionStats","description":"Session statistics"},"StandardResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"data":{"anyOf":[{},{"type":"null"}],"title":"Data"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"},"error_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Code"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","required":["success"],"title":"StandardResponse","description":"Standard API response wrapper"},"StepConfig":{"properties":{"id":{"type":"string","title":"Id","description":"Step identifier"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"type":{"type":"string","title":"Type","description":"Step type name"},"config":{"additionalProperties":true,"type":"object","title":"Config"},"retry":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Retry","default":0},"timeout_seconds":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Timeout Seconds","default":300},"on_success":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"On Success"},"on_failure":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"On Failure"}},"type":"object","required":["id","type"],"title":"StepConfig"},"StorageQuotaResponse":{"properties":{"user_id":{"type":"integer","title":"User Id","description":"User ID"},"storage_used_mb":{"type":"number","title":"Storage Used Mb","description":"Storage used in MB"},"storage_quota_mb":{"type":"integer","title":"Storage Quota Mb","description":"Storage quota in MB"},"available_mb":{"type":"number","title":"Available Mb","description":"Available storage in MB"},"usage_percentage":{"type":"number","title":"Usage Percentage","description":"Usage percentage"}},"type":"object","required":["user_id","storage_used_mb","storage_quota_mb","available_mb","usage_percentage"],"title":"StorageQuotaResponse","description":"Storage quota information","example":{"available_mb":4095.5,"storage_quota_mb":5120,"storage_used_mb":1024.5,"usage_percentage":20.0,"user_id":1}},"StorageStats":{"properties":{"total_used_mb":{"type":"number","title":"Total Used Mb"},"total_quota_mb":{"type":"number","title":"Total Quota Mb"},"average_used_mb":{"type":"number","title":"Average Used Mb"},"max_used_mb":{"type":"number","title":"Max Used Mb"}},"type":"object","required":["total_used_mb","total_quota_mb","average_used_mb","max_used_mb"],"title":"StorageStats","description":"Storage statistics"},"SyncLogEntry":{"properties":{"change_id":{"type":"integer","title":"Change Id","description":"The primary key ID of the log entry."},"entity":{"type":"string","title":"Entity","description":"The type of entity that changed (e.g., 'Media', 'Keywords')."},"entity_uuid":{"type":"string","title":"Entity Uuid","description":"The UUID of the entity that changed."},"operation":{"type":"string","title":"Operation","description":"The type of operation ('create', 'update', 'delete', 'link', 'unlink')."},"timestamp":{"type":"string","title":"Timestamp","description":"Timestamp when the change occurred (ISO 8601 format string or similar). From client for requests, potentially server authoritative for responses."},"server_timestamp":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Server Timestamp","description":"Server's authoritative timestamp when the change was processed."},"client_id":{"type":"string","title":"Client Id","description":"The ID of the client that originated the change."},"version":{"type":"integer","title":"Version","description":"The version number of the entity *after* this change was applied."},"payload":{"type":"string","title":"Payload","description":"A JSON string containing the state of the entity after the change (or minimal info for deletes/links)."}},"type":"object","required":["change_id","entity","entity_uuid","operation","timestamp","client_id","version","payload"],"title":"SyncLogEntry","description":"Represents a single entry from the sync_log table.\nUsed both in client requests and server responses.","example":{"change_id":12345,"client_id":"client_abc_123","entity":"Media","entity_uuid":"f47ac10b-58cc-4372-a567-0e02b2c3d479","operation":"update","payload":"{\"uuid\": \"f47ac10b-58cc-4372-a567-0e02b2c3d479\", \"title\": \"Updated Title\", \"last_modified\": \"2023-10-27T10:30:00Z\", \"version\": 6, \"client_id\": \"client_abc_123\", \"deleted\": 0, \"prev_version\": 5, ...}","timestamp":"2023-10-27T10:30:00Z","version":6}},"SyncLogEntryResponse":{"properties":{"change_id":{"type":"integer","title":"Change Id"},"entity":{"type":"string","title":"Entity"},"entity_uuid":{"type":"string","title":"Entity Uuid"},"operation":{"type":"string","title":"Operation"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"},"client_id":{"type":"string","title":"Client Id"},"version":{"type":"integer","title":"Version"},"payload":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Payload"}},"type":"object","required":["change_id","entity","entity_uuid","operation","timestamp","client_id","version","payload"],"title":"SyncLogEntryResponse"},"SystemStatsResponse":{"properties":{"users":{"$ref":"#/components/schemas/UserStats"},"storage":{"$ref":"#/components/schemas/StorageStats"},"sessions":{"$ref":"#/components/schemas/SessionStats"}},"type":"object","required":["users","storage","sessions"],"title":"SystemStatsResponse","description":"System statistics response"},"TemplateConfig":{"properties":{"preprocessing":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Preprocessing","description":"List of preprocessing operations"},"chunking":{"additionalProperties":true,"type":"object","title":"Chunking","description":"Chunking method configuration"},"postprocessing":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Postprocessing","description":"List of postprocessing operations"},"classifier":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Classifier","description":"Optional classifier for auto-apply (media_types, filename_regex, title_regex, url_regex, min_score, priority)"}},"type":"object","required":["chunking"],"title":"TemplateConfig","description":"Template configuration structure."},"TemplateValidationError":{"properties":{"field":{"type":"string","title":"Field","description":"Field with validation error"},"message":{"type":"string","title":"Message","description":"Error message"}},"type":"object","required":["field","message"],"title":"TemplateValidationError","description":"Schema for template validation errors."},"TemplateValidationResponse":{"properties":{"valid":{"type":"boolean","title":"Valid","description":"Whether the template is valid"},"errors":{"anyOf":[{"items":{"$ref":"#/components/schemas/TemplateValidationError"},"type":"array"},{"type":"null"}],"title":"Errors","description":"List of validation errors if invalid"},"warnings":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Warnings","description":"Non-critical warnings about the template"}},"type":"object","required":["valid"],"title":"TemplateValidationResponse","description":"Response schema for template validation."},"TestCaseBase":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Name","description":"Test case name"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description","description":"Test case description"},"inputs":{"additionalProperties":true,"type":"object","title":"Inputs","description":"Input data for test"},"expected_outputs":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Expected Outputs","description":"Expected output data"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags","description":"Tags for categorization"},"is_golden":{"type":"boolean","title":"Is Golden","description":"Golden test case flag","default":false}},"type":"object","required":["inputs"],"title":"TestCaseBase","description":"Base test case model"},"TestCaseBulkCreate":{"properties":{"project_id":{"type":"integer","title":"Project Id"},"signature_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Signature Id"},"test_cases":{"items":{"$ref":"#/components/schemas/TestCaseBase"},"type":"array","title":"Test Cases"}},"type":"object","required":["project_id","test_cases"],"title":"TestCaseBulkCreate","description":"Bulk test case creation request"},"TestCaseCreate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Name","description":"Test case name"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description","description":"Test case description"},"inputs":{"additionalProperties":true,"type":"object","title":"Inputs","description":"Input data for test"},"expected_outputs":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Expected Outputs","description":"Expected output data"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags","description":"Tags for categorization"},"is_golden":{"type":"boolean","title":"Is Golden","description":"Golden test case flag","default":false},"project_id":{"type":"integer","title":"Project Id","description":"Parent project ID"},"signature_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Signature Id","description":"Associated signature ID"}},"type":"object","required":["inputs","project_id"],"title":"TestCaseCreate","description":"Test case creation request"},"TestCaseExportRequest":{"properties":{"project_id":{"type":"integer","title":"Project Id"},"format":{"type":"string","pattern":"^(csv|json)$","title":"Format","description":"Export format","default":"json"},"include_golden_only":{"type":"boolean","title":"Include Golden Only","description":"Export only golden test cases","default":false},"tag_filter":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tag Filter","description":"Filter by tags"}},"type":"object","required":["project_id"],"title":"TestCaseExportRequest","description":"Test case export request"},"TestCaseGenerateRequest":{"properties":{"project_id":{"type":"integer","title":"Project Id"},"prompt_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Prompt Id"},"signature_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Signature Id"},"num_cases":{"type":"integer","maximum":50.0,"minimum":1.0,"title":"Num Cases","description":"Number of test cases to generate","default":5},"generation_strategy":{"type":"string","title":"Generation Strategy","description":"Generation strategy","default":"diverse"},"base_on_description":{"anyOf":[{"type":"string","maxLength":2000},{"type":"null"}],"title":"Base On Description","description":"Description to base generation on"}},"type":"object","required":["project_id"],"title":"TestCaseGenerateRequest","description":"Request to auto-generate test cases"},"TestCaseImportRequest":{"properties":{"project_id":{"type":"integer","title":"Project Id"},"format":{"type":"string","pattern":"^(csv|json)$","title":"Format","description":"Import format"},"data":{"type":"string","title":"Data","description":"Base64 encoded file data or JSON string"},"signature_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Signature Id"},"auto_generate_names":{"type":"boolean","title":"Auto Generate Names","description":"Auto-generate names if missing","default":true}},"type":"object","required":["project_id","format","data"],"title":"TestCaseImportRequest","description":"Test case import request"},"TestCaseUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description"},"inputs":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Inputs"},"expected_outputs":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Expected Outputs"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags"},"is_golden":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Golden"}},"type":"object","title":"TestCaseUpdate","description":"Test case update request"},"TimedEffects":{"properties":{"sticky":{"type":"integer","minimum":0.0,"title":"Sticky","description":"Sticky duration in seconds","default":0},"cooldown":{"type":"integer","minimum":0.0,"title":"Cooldown","description":"Cooldown between triggers in seconds","default":0},"delay":{"type":"integer","minimum":0.0,"title":"Delay","description":"Initial delay before first trigger in seconds","default":0}},"type":"object","title":"TimedEffects","description":"Timed effects configuration for dictionary entries."},"TokenResponse":{"properties":{"access_token":{"type":"string","title":"Access Token","description":"JWT access token"},"refresh_token":{"type":"string","title":"Refresh Token","description":"JWT refresh token"},"token_type":{"type":"string","title":"Token Type","description":"Token type","default":"bearer"},"expires_in":{"type":"integer","title":"Expires In","description":"Access token expiration in seconds"}},"type":"object","required":["access_token","refresh_token","expires_in"],"title":"TokenResponse","description":"JWT token response","example":{"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","expires_in":1800,"refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","token_type":"bearer"}},"ToolChoiceFunction":{"properties":{"name":{"type":"string","title":"Name","description":"The name of the function to call."}},"type":"object","required":["name"],"title":"ToolChoiceFunction","description":"Specifies a specific function to be called."},"ToolChoiceOption":{"properties":{"type":{"type":"string","const":"function","title":"Type","description":"The type of the tool. Currently, only `function` is supported."},"function":{"$ref":"#/components/schemas/ToolChoiceFunction"}},"type":"object","required":["type","function"],"title":"ToolChoiceOption","description":"Specifies a tool the model should use. Use to force the model to call a specific function."},"ToolDefinition":{"properties":{"type":{"type":"string","const":"function","title":"Type","description":"The type of the tool. Currently, only `function` is supported."},"function":{"$ref":"#/components/schemas/FunctionDefinition"}},"type":"object","required":["type","function"],"title":"ToolDefinition","description":"Definition of a tool the model can use."},"ToolExecutionRequest":{"properties":{"tool_name":{"type":"string","maxLength":100,"minLength":1,"title":"Tool Name"},"arguments":{"additionalProperties":true,"type":"object","title":"Arguments"}},"type":"object","required":["tool_name"],"title":"ToolExecutionRequest","description":"Tool execution request"},"ToolExecutionResponse":{"properties":{"result":{"title":"Result"},"execution_time_ms":{"type":"number","title":"Execution Time Ms"},"module":{"type":"string","title":"Module"}},"type":"object","required":["result","execution_time_ms","module"],"title":"ToolExecutionResponse","description":"Tool execution response"},"UnifiedBatchRequest":{"properties":{"queries":{"items":{"type":"string"},"type":"array","maxItems":100,"minItems":1,"title":"Queries","description":"List of queries to process","example":["What is AI?","Explain neural networks","Define machine learning"]},"max_concurrent":{"type":"integer","maximum":20.0,"minimum":1.0,"title":"Max Concurrent","description":"Maximum concurrent processing","default":5,"example":5},"sources":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Sources","description":"Databases to search","default":["media_db"]},"search_mode":{"type":"string","enum":["fts","vector","hybrid"],"title":"Search Mode","default":"hybrid"},"hybrid_alpha":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Hybrid Alpha","default":0.7},"top_k":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Top K","default":10},"min_score":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Min Score","default":0.0},"expand_query":{"type":"boolean","title":"Expand Query","default":false},"expansion_strategies":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Expansion Strategies"},"spell_check":{"type":"boolean","title":"Spell Check","default":false},"enable_cache":{"type":"boolean","title":"Enable Cache","default":true},"cache_threshold":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Cache Threshold","default":0.85},"adaptive_cache":{"type":"boolean","title":"Adaptive Cache","default":true},"keyword_filter":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Keyword Filter"},"enable_security_filter":{"type":"boolean","title":"Enable Security Filter","default":false},"detect_pii":{"type":"boolean","title":"Detect Pii","default":false},"redact_pii":{"type":"boolean","title":"Redact Pii","default":false},"sensitivity_level":{"type":"string","enum":["public","internal","confidential","restricted"],"title":"Sensitivity Level","default":"public"},"content_filter":{"type":"boolean","title":"Content Filter","default":false},"enable_table_processing":{"type":"boolean","title":"Enable Table Processing","default":false},"table_method":{"type":"string","enum":["markdown","html","hybrid"],"title":"Table Method","default":"markdown"},"enable_enhanced_chunking":{"type":"boolean","title":"Enable Enhanced Chunking","default":false},"chunk_type_filter":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Chunk Type Filter"},"enable_parent_expansion":{"type":"boolean","title":"Enable Parent Expansion","default":false},"parent_context_size":{"type":"integer","maximum":2000.0,"minimum":100.0,"title":"Parent Context Size","default":500},"include_sibling_chunks":{"type":"boolean","title":"Include Sibling Chunks","default":false},"sibling_window":{"type":"integer","maximum":50.0,"minimum":0.0,"title":"Sibling Window","default":1},"include_parent_document":{"type":"boolean","title":"Include Parent Document","default":false},"parent_max_tokens":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Parent Max Tokens","default":1200},"enable_reranking":{"type":"boolean","title":"Enable Reranking","default":true},"reranking_strategy":{"type":"string","enum":["flashrank","cross_encoder","hybrid","none"],"title":"Reranking Strategy","default":"flashrank"},"rerank_top_k":{"anyOf":[{"type":"integer","maximum":100.0,"minimum":1.0},{"type":"null"}],"title":"Rerank Top K"},"enable_citations":{"type":"boolean","title":"Enable Citations","default":false},"citation_style":{"type":"string","enum":["apa","mla","chicago","harvard"],"title":"Citation Style","default":"apa"},"include_page_numbers":{"type":"boolean","title":"Include Page Numbers","default":false},"enable_generation":{"type":"boolean","title":"Enable Generation","default":false},"generation_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Generation Model"},"generation_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Generation Prompt"},"max_generation_tokens":{"type":"integer","maximum":2000.0,"minimum":50.0,"title":"Max Generation Tokens","default":500},"collect_feedback":{"type":"boolean","title":"Collect Feedback","default":false},"feedback_user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Feedback User Id"},"apply_feedback_boost":{"type":"boolean","title":"Apply Feedback Boost","default":false},"enable_monitoring":{"type":"boolean","title":"Enable Monitoring","default":false},"enable_observability":{"type":"boolean","title":"Enable Observability","default":false},"trace_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Trace Id"},"enable_performance_analysis":{"type":"boolean","title":"Enable Performance Analysis","default":false},"timeout_seconds":{"anyOf":[{"type":"number","maximum":60.0,"minimum":1.0},{"type":"null"}],"title":"Timeout Seconds"},"highlight_results":{"type":"boolean","title":"Highlight Results","default":false},"highlight_query_terms":{"type":"boolean","title":"Highlight Query Terms","default":false},"track_cost":{"type":"boolean","title":"Track Cost","default":false},"debug_mode":{"type":"boolean","title":"Debug Mode","default":false},"enable_resilience":{"type":"boolean","title":"Enable Resilience","default":false},"retry_attempts":{"type":"integer","maximum":5.0,"minimum":1.0,"title":"Retry Attempts","default":3},"circuit_breaker":{"type":"boolean","title":"Circuit Breaker","default":false},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"}},"type":"object","required":["queries"],"title":"UnifiedBatchRequest","description":"Request for batch processing multiple queries."},"UnifiedBatchResponse":{"properties":{"results":{"items":{"$ref":"#/components/schemas/UnifiedRAGResponse"},"type":"array","title":"Results","description":"Results for each query"},"total_queries":{"type":"integer","title":"Total Queries","description":"Total number of queries processed"},"successful":{"type":"integer","title":"Successful","description":"Number of successful queries"},"failed":{"type":"integer","title":"Failed","description":"Number of failed queries"},"total_time":{"type":"number","title":"Total Time","description":"Total batch processing time"}},"type":"object","required":["results","total_queries","successful","failed","total_time"],"title":"UnifiedBatchResponse","description":"Response for batch processing."},"UnifiedRAGRequest":{"properties":{"query":{"type":"string","maxLength":2000,"minLength":1,"title":"Query","description":"The search query","example":"What is machine learning?"},"sources":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Sources","description":"Databases to search: media_db, notes, characters, chats","default":["media_db"],"example":["media_db","notes"]},"search_mode":{"type":"string","enum":["fts","vector","hybrid"],"title":"Search Mode","description":"Search mode: fts (full-text), vector (semantic), or hybrid","default":"hybrid","example":"hybrid"},"hybrid_alpha":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Hybrid Alpha","description":"Hybrid search weight (0=FTS only, 1=Vector only)","default":0.7,"example":0.7},"top_k":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Top K","description":"Number of results to return","default":10,"example":10},"min_score":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Min Score","description":"Minimum relevance score","default":0.0,"example":0.0},"expand_query":{"type":"boolean","title":"Expand Query","description":"Enable query expansion","default":false,"example":true},"expansion_strategies":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Expansion Strategies","description":"Expansion strategies: acronym, synonym, domain, entity","example":["acronym","synonym"]},"spell_check":{"type":"boolean","title":"Spell Check","description":"Enable spell checking","default":false,"example":false},"enable_cache":{"type":"boolean","title":"Enable Cache","description":"Enable semantic caching","default":true,"example":true},"cache_threshold":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Cache Threshold","description":"Cache similarity threshold","default":0.85,"example":0.85},"adaptive_cache":{"type":"boolean","title":"Adaptive Cache","description":"Use adaptive cache thresholds","default":true,"example":true},"keyword_filter":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Keyword Filter","description":"Filter results by keywords","example":["python","api"]},"enable_security_filter":{"type":"boolean","title":"Enable Security Filter","description":"Enable security filtering","default":false,"example":false},"detect_pii":{"type":"boolean","title":"Detect Pii","description":"Detect personally identifiable information","default":false,"example":false},"redact_pii":{"type":"boolean","title":"Redact Pii","description":"Redact detected PII","default":false,"example":false},"sensitivity_level":{"type":"string","enum":["public","internal","confidential","restricted"],"title":"Sensitivity Level","description":"Maximum sensitivity level for results","default":"public","example":"internal"},"content_filter":{"type":"boolean","title":"Content Filter","description":"Enable content filtering","default":false,"example":false},"enable_table_processing":{"type":"boolean","title":"Enable Table Processing","description":"Enable table extraction and processing","default":false,"example":false},"table_method":{"type":"string","enum":["markdown","html","hybrid"],"title":"Table Method","description":"Table serialization method","default":"markdown","example":"markdown"},"chunk_type_filter":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Chunk Type Filter","description":"Filter chunks by type: text, code, table, list","example":["text","code"]},"enable_parent_expansion":{"type":"boolean","title":"Enable Parent Expansion","description":"Expand chunks with parent document context","default":false,"example":false},"parent_context_size":{"type":"integer","maximum":2000.0,"minimum":100.0,"title":"Parent Context Size","description":"Size of parent context in characters","default":500,"example":500},"include_sibling_chunks":{"type":"boolean","title":"Include Sibling Chunks","description":"Include adjacent chunks from same document","default":false,"example":false},"sibling_window":{"type":"integer","maximum":50.0,"minimum":0.0,"title":"Sibling Window","description":"Number of sibling chunks to include on each side when include_sibling_chunks is true","default":1,"example":2},"include_parent_document":{"type":"boolean","title":"Include Parent Document","description":"Include the full parent document for each selected chunk","default":false,"example":false},"parent_max_tokens":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Parent Max Tokens","description":"Maximum tokens allowed to include a parent document; if parent exceeds, it is omitted","default":1200,"example":1200},"enable_claims":{"type":"boolean","title":"Enable Claims","description":"Extract and verify factual claims from the generated answer","default":false,"example":false},"claim_extractor":{"type":"string","enum":["aps","claimify","auto"],"title":"Claim Extractor","description":"Claim extraction strategy","default":"auto","example":"auto"},"claim_verifier":{"type":"string","enum":["nli","llm","hybrid"],"title":"Claim Verifier","description":"Claim verification strategy","default":"hybrid","example":"hybrid"},"claims_top_k":{"type":"integer","maximum":20.0,"minimum":1.0,"title":"Claims Top K","description":"Top-K evidence items per claim","default":5,"example":5},"claims_conf_threshold":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Claims Conf Threshold","description":"Confidence threshold for supported/refuted labels","default":0.7,"example":0.7},"claims_max":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Claims Max","description":"Maximum number of claims to extract","default":25,"example":25},"nli_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nli Model","description":"Local HuggingFace model id or path for MNLI (e.g., roberta-large-mnli or /models/mnli)","example":"roberta-large-mnli"},"enable_reranking":{"type":"boolean","title":"Enable Reranking","description":"Enable document reranking","default":true,"example":true},"reranking_strategy":{"type":"string","enum":["flashrank","cross_encoder","hybrid","none"],"title":"Reranking Strategy","description":"Reranking strategy","default":"flashrank","example":"hybrid"},"rerank_top_k":{"anyOf":[{"type":"integer","maximum":100.0,"minimum":1.0},{"type":"null"}],"title":"Rerank Top K","description":"Number of documents to rerank (defaults to top_k)","example":20},"enable_citations":{"type":"boolean","title":"Enable Citations","description":"Generate citations from results","default":false,"example":true},"citation_style":{"type":"string","enum":["apa","mla","chicago","harvard","ieee"],"title":"Citation Style","description":"Academic citation format style","default":"apa","example":"apa"},"include_page_numbers":{"type":"boolean","title":"Include Page Numbers","description":"Include page numbers in citations","default":false,"example":false},"enable_chunk_citations":{"type":"boolean","title":"Enable Chunk Citations","description":"Generate chunk-level citations for answer verification","default":true,"example":true},"enable_generation":{"type":"boolean","title":"Enable Generation","description":"Generate an answer from retrieved context","default":false,"example":true},"generation_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Generation Model","description":"LLM model for answer generation","example":"gpt-3.5-turbo"},"generation_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Generation Prompt","description":"Custom prompt template for generation"},"max_generation_tokens":{"type":"integer","maximum":2000.0,"minimum":50.0,"title":"Max Generation Tokens","description":"Maximum tokens for generated answer","default":500,"example":500},"collect_feedback":{"type":"boolean","title":"Collect Feedback","description":"Enable feedback collection","default":false,"example":false},"feedback_user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Feedback User Id","description":"User ID for feedback tracking","example":"user123"},"apply_feedback_boost":{"type":"boolean","title":"Apply Feedback Boost","description":"Apply feedback-based result boosting","default":false,"example":false},"enable_monitoring":{"type":"boolean","title":"Enable Monitoring","description":"Enable performance monitoring","default":false,"example":true},"enable_analytics":{"type":"boolean","title":"Enable Analytics","description":"Enable analytics collection (server QA)","default":true,"example":true},"use_connection_pool":{"type":"boolean","title":"Use Connection Pool","description":"Use database connection pooling","default":true,"example":true},"use_embedding_cache":{"type":"boolean","title":"Use Embedding Cache","description":"Use LRU cache for embeddings","default":true,"example":true},"enable_observability":{"type":"boolean","title":"Enable Observability","description":"Enable observability tracing","default":false,"example":false},"trace_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Trace Id","description":"Trace ID for observability"},"enable_performance_analysis":{"type":"boolean","title":"Enable Performance Analysis","description":"Enable detailed performance analysis","default":false,"example":false},"timeout_seconds":{"anyOf":[{"type":"number","maximum":60.0,"minimum":1.0},{"type":"null"}],"title":"Timeout Seconds","description":"Request timeout in seconds","example":10.0},"highlight_results":{"type":"boolean","title":"Highlight Results","description":"Highlight matching terms in results","default":false,"example":false},"highlight_query_terms":{"type":"boolean","title":"Highlight Query Terms","description":"Highlight query terms specifically","default":false,"example":false},"track_cost":{"type":"boolean","title":"Track Cost","description":"Track estimated API costs","default":false,"example":false},"debug_mode":{"type":"boolean","title":"Debug Mode","description":"Enable debug logging","default":false,"example":false},"enable_batch":{"type":"boolean","title":"Enable Batch","description":"Enable batch query processing","default":false,"example":false},"batch_queries":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Batch Queries","description":"Additional queries for batch processing","example":["query1","query2"]},"batch_concurrent":{"type":"integer","maximum":20.0,"minimum":1.0,"title":"Batch Concurrent","description":"Maximum concurrent batch queries","default":5,"example":5},"enable_resilience":{"type":"boolean","title":"Enable Resilience","description":"Enable resilience features","default":false,"example":false},"retry_attempts":{"type":"integer","maximum":5.0,"minimum":1.0,"title":"Retry Attempts","description":"Number of retry attempts","default":3,"example":3},"circuit_breaker":{"type":"boolean","title":"Circuit Breaker","description":"Enable circuit breaker","default":false,"example":false},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id","description":"User ID for personalization","example":"user123"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Session ID for tracking","example":"session456"}},"type":"object","required":["query"],"title":"UnifiedRAGRequest","description":"Unified RAG request with ALL features as optional parameters.\nEvery feature in the RAG system is accessible through this single schema."},"UnifiedRAGResponse":{"properties":{"documents":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Documents","description":"Retrieved documents"},"query":{"type":"string","title":"Query","description":"Original query"},"expanded_queries":{"items":{"type":"string"},"type":"array","title":"Expanded Queries","description":"Expanded query variations"},"metadata":{"additionalProperties":true,"type":"object","title":"Metadata","description":"Additional metadata"},"timings":{"additionalProperties":{"type":"number"},"type":"object","title":"Timings","description":"Performance timings"},"citations":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Citations","description":"Generated citations (academic and chunk-level)"},"academic_citations":{"items":{"type":"string"},"type":"array","title":"Academic Citations","description":"Formatted academic citations (MLA/APA/etc)"},"chunk_citations":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Chunk Citations","description":"Chunk-level citations for answer verification"},"feedback_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Feedback Id","description":"Feedback tracking ID"},"generated_answer":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Generated Answer","description":"Generated answer from context"},"cache_hit":{"type":"boolean","title":"Cache Hit","description":"Whether result was from cache","default":false},"errors":{"items":{"type":"string"},"type":"array","title":"Errors","description":"Any errors encountered"},"security_report":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Security Report","description":"Security analysis report"},"total_time":{"type":"number","title":"Total Time","description":"Total execution time","default":0.0},"claims":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Claims","description":"Per-claim verification results with evidence"},"factuality":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Factuality","description":"Summary of factuality (supported/refuted/nei, precision, coverage)"}},"type":"object","required":["documents","query"],"title":"UnifiedRAGResponse","description":"Unified response structure for RAG queries."},"UpdateEvaluationRequest":{"properties":{"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description"},"eval_spec":{"anyOf":[{"$ref":"#/components/schemas/EvaluationSpec"},{"type":"null"}]},"metadata":{"anyOf":[{"$ref":"#/components/schemas/EvaluationMetadata"},{"type":"null"}]}},"type":"object","title":"UpdateEvaluationRequest","description":"Update evaluation request"},"UpdateProfileRequest":{"properties":{"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email","description":"New email address"}},"type":"object","title":"UpdateProfileRequest","description":"Request model for updating user profile.","example":{"email":"newemail@example.com"}},"UpsertVectorsRequest":{"properties":{"records":{"items":{"$ref":"#/components/schemas/VectorRecord"},"type":"array","title":"Records"}},"type":"object","required":["records"],"title":"UpsertVectorsRequest"},"UserListResponse":{"properties":{"users":{"items":{"$ref":"#/components/schemas/UserSummary"},"type":"array","title":"Users"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"limit":{"type":"integer","title":"Limit"},"pages":{"type":"integer","title":"Pages"}},"type":"object","required":["users","total","page","limit","pages"],"title":"UserListResponse","description":"Response for user list endpoint"},"UserResponse":{"properties":{"id":{"type":"integer","title":"Id","description":"User ID"},"uuid":{"type":"string","title":"Uuid","description":"User UUID"},"username":{"type":"string","title":"Username","description":"Username"},"email":{"type":"string","title":"Email","description":"Email address"},"role":{"type":"string","title":"Role","description":"User role"},"is_active":{"type":"boolean","title":"Is Active","description":"Account active status"},"is_verified":{"type":"boolean","title":"Is Verified","description":"Email verification status"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Account creation time"},"last_login":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Login","description":"Last login time"},"storage_quota_mb":{"type":"integer","title":"Storage Quota Mb","description":"Storage quota in MB"},"storage_used_mb":{"type":"number","title":"Storage Used Mb","description":"Storage used in MB"}},"type":"object","required":["id","uuid","username","email","role","is_active","is_verified","created_at","storage_quota_mb","storage_used_mb"],"title":"UserResponse","description":"User information response","example":{"created_at":"2025-01-14T10:00:00","email":"john@example.com","id":1,"is_active":true,"is_verified":true,"last_login":"2025-01-14T12:00:00","role":"user","storage_quota_mb":5120,"storage_used_mb":1024.5,"username":"johndoe","uuid":"123e4567-e89b-12d3-a456-426614174000"}},"UserStats":{"properties":{"total":{"type":"integer","title":"Total"},"active":{"type":"integer","title":"Active"},"verified":{"type":"integer","title":"Verified"},"admins":{"type":"integer","title":"Admins"},"new_last_30d":{"type":"integer","title":"New Last 30D"}},"type":"object","required":["total","active","verified","admins","new_last_30d"],"title":"UserStats","description":"User statistics"},"UserSummary":{"properties":{"id":{"type":"integer","title":"Id"},"uuid":{"type":"string","title":"Uuid"},"username":{"type":"string","title":"Username"},"email":{"type":"string","title":"Email"},"role":{"type":"string","title":"Role"},"is_active":{"type":"boolean","title":"Is Active"},"is_verified":{"type":"boolean","title":"Is Verified"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"last_login":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Login"},"storage_quota_mb":{"type":"integer","title":"Storage Quota Mb"},"storage_used_mb":{"type":"number","title":"Storage Used Mb"}},"type":"object","required":["id","uuid","username","email","role","is_active","is_verified","created_at","storage_quota_mb","storage_used_mb"],"title":"UserSummary","description":"Summary information about a user"},"UserUpdateRequest":{"properties":{"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"role":{"anyOf":[{"type":"string","pattern":"^(user|admin|service)$"},{"type":"null"}],"title":"Role"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"},"is_verified":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Verified"},"is_locked":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Locked"},"storage_quota_mb":{"anyOf":[{"type":"integer","minimum":100.0},{"type":"null"}],"title":"Storage Quota Mb"}},"type":"object","title":"UserUpdateRequest","description":"Request to update user information"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VectorRecord":{"properties":{"id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id"},"values":{"anyOf":[{"items":{"type":"number"},"type":"array"},{"type":"null"}],"title":"Values"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","title":"VectorRecord"},"VectorStoreCreate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"},"embedding_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Embedding Model","description":"Model id for embeddings metadata"},"dimensions":{"type":"integer","exclusiveMinimum":0.0,"title":"Dimensions"}},"type":"object","required":["dimensions"],"title":"VectorStoreCreate"},"VectorStoreObject":{"properties":{"id":{"type":"string","title":"Id"},"object":{"type":"string","title":"Object","default":"vector_store"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"created_at":{"type":"integer","title":"Created At"},"metadata":{"additionalProperties":true,"type":"object","title":"Metadata"},"dimensions":{"type":"integer","title":"Dimensions"}},"type":"object","required":["id","created_at","dimensions"],"title":"VectorStoreObject"},"VectorStoreUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","title":"VectorStoreUpdate"},"VersionCreateRequest":{"properties":{"content":{"type":"string","maxLength":5000000,"title":"Content","description":"Content (max 5MB)"},"prompt":{"type":"string","maxLength":10000,"title":"Prompt","description":"Prompt (max 10KB)"},"analysis_content":{"type":"string","maxLength":100000,"title":"Analysis Content","description":"Analysis content (max 100KB)"}},"type":"object","required":["content","prompt","analysis_content"],"title":"VersionCreateRequest"},"VersionRollbackRequest":{"properties":{"version_number":{"type":"integer","title":"Version Number"}},"type":"object","required":["version_number"],"title":"VersionRollbackRequest"},"WebScrapingRequest":{"properties":{"scrape_method":{"type":"string","title":"Scrape Method"},"url_input":{"type":"string","title":"Url Input"},"url_level":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Url Level"},"max_pages":{"type":"integer","title":"Max Pages","default":10},"max_depth":{"type":"integer","title":"Max Depth","default":3},"summarize_checkbox":{"type":"boolean","title":"Summarize Checkbox","default":false},"custom_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Prompt"},"api_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name"},"keywords":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Keywords","default":"default,no_keyword_set"},"custom_titles":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Titles"},"system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt"},"temperature":{"type":"number","title":"Temperature","default":0.7},"custom_cookies":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Custom Cookies"},"mode":{"type":"string","title":"Mode","default":"persist"}},"type":"object","required":["scrape_method","url_input"],"title":"WebScrapingRequest"},"WebhookEventType":{"type":"string","enum":["evaluation.started","evaluation.progress","evaluation.completed","evaluation.failed","evaluation.cancelled","batch.started","batch.completed","batch.failed"],"title":"WebhookEventType","description":"Webhook event types"},"WebhookRegistrationRequest":{"properties":{"url":{"type":"string","maxLength":2083,"minLength":1,"format":"uri","title":"Url","description":"Webhook endpoint URL"},"events":{"items":{"$ref":"#/components/schemas/WebhookEventType"},"type":"array","minItems":1,"title":"Events"},"secret":{"anyOf":[{"type":"string","minLength":32},{"type":"null"}],"title":"Secret"}},"type":"object","required":["url","events"],"title":"WebhookRegistrationRequest","description":"Webhook registration request"},"WebhookRegistrationResponse":{"properties":{"webhook_id":{"type":"integer","title":"Webhook Id"},"url":{"type":"string","title":"Url"},"events":{"items":{"type":"string"},"type":"array","title":"Events"},"secret":{"type":"string","title":"Secret"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"status":{"type":"string","title":"Status","default":"active"}},"type":"object","required":["webhook_id","url","events","secret","created_at"],"title":"WebhookRegistrationResponse","description":"Webhook registration response"},"WebhookStatusResponse":{"properties":{"webhook_id":{"type":"integer","title":"Webhook Id"},"url":{"type":"string","title":"Url"},"events":{"items":{"type":"string"},"type":"array","title":"Events"},"status":{"type":"string","title":"Status"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"last_triggered":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Triggered"},"failure_count":{"type":"integer","title":"Failure Count","default":0}},"type":"object","required":["webhook_id","url","events","status","created_at"],"title":"WebhookStatusResponse","description":"Webhook status response"},"WebhookTestRequest":{"properties":{"url":{"type":"string","maxLength":2083,"minLength":1,"format":"uri","title":"Url"}},"type":"object","required":["url"],"title":"WebhookTestRequest","description":"Webhook test request"},"WebhookTestResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"status_code":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status Code"},"response_time_ms":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Response Time Ms"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["success"],"title":"WebhookTestResponse","description":"Webhook test response"},"WorkflowDefinitionCreate":{"properties":{"name":{"type":"string","title":"Name"},"version":{"type":"integer","title":"Version","default":1},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags"},"inputs":{"additionalProperties":true,"type":"object","title":"Inputs"},"steps":{"items":{"$ref":"#/components/schemas/StepConfig"},"type":"array","title":"Steps"},"metadata":{"additionalProperties":true,"type":"object","title":"Metadata"},"visibility":{"type":"string","const":"private","title":"Visibility","default":"private"}},"type":"object","required":["name","steps"],"title":"WorkflowDefinitionCreate"},"WorkflowDefinitionResponse":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"version":{"type":"integer","title":"Version"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags"},"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","required":["id","name","version","description","tags","is_active"],"title":"WorkflowDefinitionResponse"},"WorkflowRunResponse":{"properties":{"run_id":{"type":"string","title":"Run Id"},"workflow_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Workflow Id"},"status":{"type":"string","title":"Status"},"status_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status Reason"},"inputs":{"additionalProperties":true,"type":"object","title":"Inputs"},"outputs":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Outputs"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"},"definition_version":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Definition Version"}},"type":"object","required":["run_id","status"],"title":"WorkflowRunResponse"},"WorldBookCreate":{"properties":{"name":{"type":"string","maxLength":200,"minLength":1,"title":"Name","description":"Unique world book name"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description","description":"World book description"},"scan_depth":{"type":"integer","maximum":20.0,"minimum":1.0,"title":"Scan Depth","description":"How many messages to scan","default":3},"token_budget":{"type":"integer","maximum":5000.0,"minimum":50.0,"title":"Token Budget","description":"Maximum tokens to use","default":500},"recursive_scanning":{"type":"boolean","title":"Recursive Scanning","description":"Enable recursive scanning","default":false},"enabled":{"type":"boolean","title":"Enabled","description":"Whether the world book is active","default":true}},"type":"object","required":["name"],"title":"WorldBookCreate","description":"Schema for creating a world book."},"WorldBookEntryCreate":{"properties":{"keywords":{"items":{"type":"string"},"type":"array","minItems":1,"title":"Keywords","description":"Keywords to match"},"content":{"type":"string","minLength":1,"title":"Content","description":"Content to inject when matched"},"priority":{"type":"integer","title":"Priority","description":"Priority for ordering (higher = more important)","default":0},"enabled":{"type":"boolean","title":"Enabled","description":"Whether entry is active","default":true},"case_sensitive":{"type":"boolean","title":"Case Sensitive","description":"Whether keyword matching is case-sensitive","default":false},"regex_match":{"type":"boolean","title":"Regex Match","description":"Whether keywords are regex patterns","default":false},"whole_word_match":{"type":"boolean","title":"Whole Word Match","description":"Whether to match whole words only","default":true},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"Additional metadata"}},"type":"object","required":["keywords","content"],"title":"WorldBookEntryCreate","description":"Schema for creating a world book entry."},"WorldBookEntryResponse":{"properties":{"keywords":{"items":{"type":"string"},"type":"array","minItems":1,"title":"Keywords","description":"Keywords to match"},"content":{"type":"string","minLength":1,"title":"Content","description":"Content to inject when matched"},"priority":{"type":"integer","title":"Priority","description":"Priority for ordering (higher = more important)","default":0},"enabled":{"type":"boolean","title":"Enabled","description":"Whether entry is active","default":true},"case_sensitive":{"type":"boolean","title":"Case Sensitive","description":"Whether keyword matching is case-sensitive","default":false},"regex_match":{"type":"boolean","title":"Regex Match","description":"Whether keywords are regex patterns","default":false},"whole_word_match":{"type":"boolean","title":"Whole Word Match","description":"Whether to match whole words only","default":true},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"Additional metadata"},"id":{"type":"integer","title":"Id","description":"Entry ID"},"world_book_id":{"type":"integer","title":"World Book Id","description":"Parent world book ID"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Creation timestamp"},"last_modified":{"type":"string","format":"date-time","title":"Last Modified","description":"Last modification timestamp"}},"type":"object","required":["keywords","content","id","world_book_id","created_at","last_modified"],"title":"WorldBookEntryResponse","description":"Schema for world book entry response."},"WorldBookEntryUpdate":{"properties":{"keywords":{"anyOf":[{"items":{"type":"string"},"type":"array","minItems":1},{"type":"null"}],"title":"Keywords","description":"New keywords"},"content":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Content","description":"New content"},"priority":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Priority","description":"New priority"},"enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Enabled","description":"New enabled status"},"case_sensitive":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Case Sensitive","description":"New case sensitivity"},"regex_match":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Regex Match","description":"New regex match setting"},"whole_word_match":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Whole Word Match","description":"New whole word match setting"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"New metadata"}},"type":"object","title":"WorldBookEntryUpdate","description":"Schema for updating a world book entry."},"WorldBookExport":{"properties":{"world_book":{"additionalProperties":true,"type":"object","title":"World Book","description":"World book data"},"entries":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Entries","description":"World book entries"},"export_date":{"type":"string","format":"date-time","title":"Export Date","description":"Export timestamp"},"format_version":{"type":"string","title":"Format Version","description":"Export format version","default":"1.0"}},"type":"object","required":["world_book","entries"],"title":"WorldBookExport","description":"Schema for world book export."},"WorldBookImportRequest":{"properties":{"world_book":{"additionalProperties":true,"type":"object","title":"World Book","description":"World book data"},"entries":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Entries","description":"World book entries"},"merge_on_conflict":{"type":"boolean","title":"Merge On Conflict","description":"Merge with existing book of same name","default":false}},"type":"object","required":["world_book"],"title":"WorldBookImportRequest","description":"Request schema for importing a world book."},"WorldBookImportResponse":{"properties":{"world_book_id":{"type":"integer","title":"World Book Id","description":"ID of imported/merged world book"},"name":{"type":"string","title":"Name","description":"World book name"},"entries_imported":{"type":"integer","title":"Entries Imported","description":"Number of entries imported"},"merged":{"type":"boolean","title":"Merged","description":"Whether merged with existing book"}},"type":"object","required":["world_book_id","name","entries_imported","merged"],"title":"WorldBookImportResponse","description":"Response schema for world book import."},"WorldBookListResponse":{"properties":{"world_books":{"items":{"$ref":"#/components/schemas/WorldBookResponse"},"type":"array","title":"World Books","description":"List of world books"},"total":{"type":"integer","title":"Total","description":"Total number of world books"},"enabled_count":{"type":"integer","title":"Enabled Count","description":"Number of enabled world books"},"disabled_count":{"type":"integer","title":"Disabled Count","description":"Number of disabled world books"}},"type":"object","required":["world_books","total","enabled_count","disabled_count"],"title":"WorldBookListResponse","description":"Response schema for listing world books."},"WorldBookResponse":{"properties":{"name":{"type":"string","maxLength":200,"minLength":1,"title":"Name","description":"Unique world book name"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description","description":"World book description"},"scan_depth":{"type":"integer","maximum":20.0,"minimum":1.0,"title":"Scan Depth","description":"How many messages to scan for keywords","default":3},"token_budget":{"type":"integer","maximum":5000.0,"minimum":50.0,"title":"Token Budget","description":"Maximum tokens to use for world info","default":500},"recursive_scanning":{"type":"boolean","title":"Recursive Scanning","description":"Whether to scan matched entries for more keywords","default":false},"enabled":{"type":"boolean","title":"Enabled","description":"Whether the world book is active","default":true},"id":{"type":"integer","title":"Id","description":"World book ID"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Creation timestamp"},"last_modified":{"type":"string","format":"date-time","title":"Last Modified","description":"Last modification timestamp"},"version":{"type":"integer","title":"Version","description":"Version number for optimistic locking"},"entry_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Entry Count","description":"Number of entries in the world book"}},"type":"object","required":["name","id","created_at","last_modified","version"],"title":"WorldBookResponse","description":"Schema for world book response."},"WorldBookStatistics":{"properties":{"world_book_id":{"type":"integer","title":"World Book Id","description":"World book ID"},"name":{"type":"string","title":"Name","description":"World book name"},"total_entries":{"type":"integer","title":"Total Entries","description":"Total number of entries"},"enabled_entries":{"type":"integer","title":"Enabled Entries","description":"Number of enabled entries"},"disabled_entries":{"type":"integer","title":"Disabled Entries","description":"Number of disabled entries"},"total_keywords":{"type":"integer","title":"Total Keywords","description":"Total number of keywords"},"regex_entries":{"type":"integer","title":"Regex Entries","description":"Number of regex entries"},"case_sensitive_entries":{"type":"integer","title":"Case Sensitive Entries","description":"Number of case-sensitive entries"},"average_priority":{"type":"number","title":"Average Priority","description":"Average entry priority"},"total_content_length":{"type":"integer","title":"Total Content Length","description":"Total characters in all content"},"estimated_tokens":{"type":"integer","title":"Estimated Tokens","description":"Estimated total tokens"}},"type":"object","required":["world_book_id","name","total_entries","enabled_entries","disabled_entries","total_keywords","regex_entries","case_sensitive_entries","average_priority","total_content_length","estimated_tokens"],"title":"WorldBookStatistics","description":"Statistics for a world book."},"WorldBookUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":200,"minLength":1},{"type":"null"}],"title":"Name","description":"New name"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description","description":"New description"},"scan_depth":{"anyOf":[{"type":"integer","maximum":20.0,"minimum":1.0},{"type":"null"}],"title":"Scan Depth","description":"New scan depth"},"token_budget":{"anyOf":[{"type":"integer","maximum":5000.0,"minimum":50.0},{"type":"null"}],"title":"Token Budget","description":"New token budget"},"recursive_scanning":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Recursive Scanning","description":"New recursive scanning setting"},"enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Enabled","description":"New enabled status"}},"type":"object","title":"WorldBookUpdate","description":"Schema for updating a world book."},"WorldBookWithEntries":{"properties":{"name":{"type":"string","maxLength":200,"minLength":1,"title":"Name","description":"Unique world book name"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description","description":"World book description"},"scan_depth":{"type":"integer","maximum":20.0,"minimum":1.0,"title":"Scan Depth","description":"How many messages to scan for keywords","default":3},"token_budget":{"type":"integer","maximum":5000.0,"minimum":50.0,"title":"Token Budget","description":"Maximum tokens to use for world info","default":500},"recursive_scanning":{"type":"boolean","title":"Recursive Scanning","description":"Whether to scan matched entries for more keywords","default":false},"enabled":{"type":"boolean","title":"Enabled","description":"Whether the world book is active","default":true},"id":{"type":"integer","title":"Id","description":"World book ID"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Creation timestamp"},"last_modified":{"type":"string","format":"date-time","title":"Last Modified","description":"Last modification timestamp"},"version":{"type":"integer","title":"Version","description":"Version number for optimistic locking"},"entry_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Entry Count","description":"Number of entries in the world book"},"entries":{"items":{"$ref":"#/components/schemas/WorldBookEntryResponse"},"type":"array","title":"Entries","description":"World book entries"}},"type":"object","required":["name","id","created_at","last_modified","version"],"title":"WorldBookWithEntries","description":"Schema for world book with its entries."},"tldw_Server_API__app__api__v1__schemas__auth_schemas__MessageResponse":{"properties":{"message":{"type":"string","title":"Message","description":"Response message"},"details":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Details","description":"Additional details"}},"type":"object","required":["message"],"title":"MessageResponse","description":"Simple message response","example":{"details":{"user_id":1},"message":"Operation successful"}},"tldw_Server_API__app__api__v1__schemas__chat_dictionary_schemas__EntryListResponse":{"properties":{"entries":{"items":{"$ref":"#/components/schemas/DictionaryEntryResponse"},"type":"array","title":"Entries","description":"List of entries"},"total":{"type":"integer","title":"Total","description":"Total number of entries"},"dictionary_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Dictionary Id","description":"Dictionary ID if filtered"},"group":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Group","description":"Group name if filtered"}},"type":"object","required":["entries","total"],"title":"EntryListResponse","description":"Response schema for listing entries."},"tldw_Server_API__app__api__v1__schemas__chat_session_schemas__MessageResponse":{"properties":{"id":{"type":"string","title":"Id","description":"UUID of the message"},"conversation_id":{"type":"string","title":"Conversation Id","description":"ID of the parent conversation"},"parent_message_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Parent Message Id","description":"ID of parent message"},"sender":{"type":"string","title":"Sender","description":"Message sender (user/assistant/system)"},"content":{"type":"string","title":"Content","description":"Message content"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp","description":"Message timestamp"},"ranking":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Ranking","description":"Message ranking/rating"},"has_image":{"type":"boolean","title":"Has Image","description":"Whether message has an attached image","default":false},"version":{"type":"integer","title":"Version","description":"Version number for optimistic locking","default":1}},"type":"object","required":["id","conversation_id","sender","content","timestamp"],"title":"MessageResponse","description":"Schema for message responses."},"tldw_Server_API__app__api__v1__schemas__evaluation_schemas_unified__EvaluationResponse":{"properties":{"id":{"type":"string","title":"Id","description":"Evaluation ID"},"object":{"type":"string","title":"Object","default":"evaluation"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"eval_type":{"type":"string","title":"Eval Type"},"eval_spec":{"additionalProperties":true,"type":"object","title":"Eval Spec"},"dataset_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Dataset Id"},"created":{"type":"integer","title":"Created","description":"Creation timestamp (OpenAI-compatible)"},"created_at":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Created At","description":"Creation timestamp (tldw-compatible)"},"created_by":{"type":"string","title":"Created By"},"updated":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Updated","description":"Update timestamp (OpenAI-compatible)"},"updated_at":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Updated At","description":"Update timestamp (tldw-compatible)"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","required":["id","name","eval_type","eval_spec","created","created_by"],"title":"EvaluationResponse","description":"Evaluation response (OpenAI-compatible)"},"tldw_Server_API__app__api__v1__schemas__notes_schemas__KeywordCreate":{"properties":{"keyword":{"type":"string","maxLength":100,"minLength":1,"title":"Keyword","description":"The keyword text"}},"type":"object","required":["keyword"],"title":"KeywordCreate"},"tldw_Server_API__app__api__v1__schemas__notes_schemas__KeywordResponse":{"properties":{"keyword":{"type":"string","maxLength":100,"minLength":1,"title":"Keyword","description":"The keyword text"},"id":{"type":"integer","title":"Id","description":"Integer ID of the keyword"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Timestamp of keyword creation"},"last_modified":{"type":"string","format":"date-time","title":"Last Modified","description":"Timestamp of last modification"},"version":{"type":"integer","title":"Version","description":"Version number for optimistic locking"},"client_id":{"type":"string","title":"Client Id","description":"Client ID that last modified the keyword"},"deleted":{"type":"boolean","title":"Deleted","description":"Whether the keyword is soft-deleted"}},"type":"object","required":["keyword","id","created_at","last_modified","version","client_id","deleted"],"title":"KeywordResponse"},"tldw_Server_API__app__api__v1__schemas__prompt_schemas__KeywordCreate":{"properties":{"keyword_text":{"type":"string","maxLength":100,"minLength":1,"title":"Keyword Text","description":"The text of the keyword."}},"type":"object","required":["keyword_text"],"title":"KeywordCreate"},"tldw_Server_API__app__api__v1__schemas__prompt_schemas__KeywordResponse":{"properties":{"keyword_text":{"type":"string","maxLength":100,"minLength":1,"title":"Keyword Text","description":"The text of the keyword."},"id":{"type":"integer","title":"Id"},"uuid":{"type":"string","title":"Uuid"}},"type":"object","required":["keyword_text","id","uuid"],"title":"KeywordResponse"},"tldw_Server_API__app__api__v1__schemas__prompt_schemas__PromptCreate":{"properties":{"name":{"type":"string","maxLength":255,"minLength":1,"title":"Name","description":"Unique name of the prompt."},"author":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Author","description":"Author of the prompt."},"details":{"anyOf":[{"type":"string","maxLength":4000},{"type":"null"}],"title":"Details","description":"Detailed description or notes about the prompt."},"system_prompt":{"anyOf":[{"type":"string","maxLength":20000},{"type":"null"}],"title":"System Prompt","description":"The system part of the prompt."},"user_prompt":{"anyOf":[{"type":"string","maxLength":20000},{"type":"null"}],"title":"User Prompt","description":"The user part of the prompt."},"keywords":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Keywords","description":"List of keyword strings to associate with the prompt."}},"type":"object","required":["name"],"title":"PromptCreate"},"tldw_Server_API__app__api__v1__schemas__prompt_studio_project__PromptCreate":{"properties":{"name":{"type":"string","maxLength":255,"minLength":1,"title":"Name","description":"Prompt name"},"system_prompt":{"anyOf":[{"type":"string","maxLength":50000},{"type":"null"}],"title":"System Prompt","description":"System prompt"},"user_prompt":{"anyOf":[{"type":"string","maxLength":50000},{"type":"null"}],"title":"User Prompt","description":"User prompt template"},"few_shot_examples":{"anyOf":[{"items":{"$ref":"#/components/schemas/FewShotExample"},"type":"array"},{"type":"null"}],"title":"Few Shot Examples","description":"Few-shot examples"},"modules_config":{"anyOf":[{"items":{"$ref":"#/components/schemas/PromptModule"},"type":"array"},{"type":"null"}],"title":"Modules Config","description":"Module configurations"},"change_description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Change Description","description":"Description of changes"},"project_id":{"type":"integer","title":"Project Id","description":"Parent project ID"},"signature_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Signature Id","description":"Associated signature ID"},"parent_version_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Parent Version Id","description":"Parent version for versioning"}},"type":"object","required":["name","project_id"],"title":"PromptCreate","description":"Prompt creation request"},"tldw_Server_API__app__api__v1__schemas__prompt_studio_schemas__EvaluationResponse":{"properties":{"uuid":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Uuid"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"id":{"type":"integer","title":"Id","description":"Evaluation ID"},"project_id":{"type":"integer","title":"Project Id","description":"Project ID"},"prompt_id":{"type":"integer","title":"Prompt Id","description":"Prompt ID"},"test_run_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Test Run Id","description":"Test run ID"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Evaluation name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Evaluation description"},"metrics":{"additionalProperties":true,"type":"object","title":"Metrics","description":"Evaluation metrics"},"config":{"additionalProperties":true,"type":"object","title":"Config","description":"Evaluation config"},"status":{"$ref":"#/components/schemas/EvaluationStatus","description":"Current status"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message","description":"Error message if failed"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags","description":"Tags"},"completed_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Completed At","description":"Completion timestamp"}},"type":"object","required":["id","project_id","prompt_id","status"],"title":"EvaluationResponse","description":"Evaluation response"},"tldw_Server_API__app__api__v1__schemas__world_book_schemas__EntryListResponse":{"properties":{"entries":{"items":{"$ref":"#/components/schemas/WorldBookEntryResponse"},"type":"array","title":"Entries","description":"List of entries"},"total":{"type":"integer","title":"Total","description":"Total number of entries"},"world_book_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"World Book Id","description":"World book ID if filtered"}},"type":"object","required":["entries","total"],"title":"EntryListResponse","description":"Response schema for listing entries."}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"},"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/api/v1/auth/login"}}}}}}